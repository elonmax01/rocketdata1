<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>53.26. pg_index</title><link rel="stylesheet" type="text/css" href="stylesheet.css" /><link rev="made" href="pgsql-docs@lists.postgresql.org" /><meta name="generator" content="DocBook XSL Stylesheets Vsnapshot" /><link rel="prev" href="catalog-pg-foreign-table.html" title="53.25. pg_foreign_table" /><link rel="next" href="catalog-pg-inherits.html" title="53.27. pg_inherits" /></head><body id="docContent" class="container-fluid col-10"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="5" align="center">53.26. <code class="structname">pg_index</code></th></tr><tr><td width="10%" align="left"><a accesskey="p" href="catalog-pg-foreign-table.html" title="53.25. pg_foreign_table">Пред.</a> </td><td width="10%" align="left"><a accesskey="u" href="catalogs.html" title="Глава 53. Системные каталоги">Наверх</a></td><th width="60%" align="center">Глава 53. Системные каталоги</th><td width="10%" align="right"><a accesskey="h" href="index.html" title="Документация к PostgreSQL 16.3">Начало</a></td><td width="10%" align="right"> <a accesskey="n" href="catalog-pg-inherits.html" title="53.27. pg_inherits">След.</a></td></tr></table><hr /></div><div class="sect1" id="CATALOG-PG-INDEX"><div class="titlepage"><div><div><h2 class="title" style="clear: both">53.26. <code class="structname">pg_index</code> <a href="#CATALOG-PG-INDEX" class="id_link">#</a></h2></div></div></div><a id="id-1.10.4.28.2" class="indexterm"></a><p>В каталоге <code class="structname">pg_index</code> содержится часть информации об индексах. Остальная информация в основном находится в <a class="link" href="catalog-pg-class.html" title="53.11. pg_class"><code class="structname">pg_class</code></a>.</p><div class="table" id="id-1.10.4.28.4"><p class="title"><strong>Таблица 53.26. Столбцы <code class="structname">pg_index</code></strong></p><div class="table-contents"><table class="table" summary="Столбцы pg_index" border="1"><colgroup><col /></colgroup><thead><tr><th class="catalog_table_entry"><p class="column_definition">Тип столбца</p>
      <p>Описание</p></th></tr></thead><tbody><tr><td class="catalog_table_entry"><p class="column_definition"><code class="structfield">indexrelid</code> <code class="type">oid</code> (ссылается на <a class="link" href="catalog-pg-class.html" title="53.11. pg_class"><code class="structname">pg_class</code></a>.<code class="structfield">oid</code>)</p>
      <p>OID записи в <a class="link" href="catalog-pg-class.html" title="53.11. pg_class"><code class="structname">pg_class</code></a> для этого индекса</p></td></tr><tr><td class="catalog_table_entry"><p class="column_definition"><code class="structfield">indrelid</code> <code class="type">oid</code> (ссылается на <a class="link" href="catalog-pg-class.html" title="53.11. pg_class"><code class="structname">pg_class</code></a>.<code class="structfield">oid</code>)</p>
      <p>OID записи в <a class="link" href="catalog-pg-class.html" title="53.11. pg_class"><code class="structname">pg_class</code></a> для таблицы, к которой относится этот индекс</p></td></tr><tr><td class="catalog_table_entry"><p class="column_definition">
       <code class="structfield">indnatts</code> <code class="type">int2</code>
      </p>
      <p>Общее число столбцов в индексе (повторяет значение <code class="literal">pg_class.relnatts</code>). В это число входят и ключевые, и неключевые атрибуты.</p></td></tr><tr><td class="catalog_table_entry"><p class="column_definition">
       <code class="structfield">indnkeyatts</code> <code class="type">int2</code>
      </p>
      <p>Число <em class="firstterm">ключевых столбцов</em> в индексе, без учёта <em class="firstterm">неключевых столбцов</em>, которые хранятся в индексе, но не учитываются в его семантике</p></td></tr><tr><td class="catalog_table_entry"><p class="column_definition">
       <code class="structfield">indisunique</code> <code class="type">bool</code>
      </p>
      <p>Если true, это уникальный индекс</p></td></tr><tr><td class="catalog_table_entry"><p class="column_definition">
       <code class="structfield">indnullsnotdistinct</code> <code class="type">bool</code>
      </p>
      <p>Используется только для уникальных индексов. Если false, значения NULL для этого уникального индекса будут считаться различными (поэтому индекс сможет содержать несколько значений NULL в столбце — это поведение PostgreSQL по умолчанию). Если true, значения NULL будут считаться равными (и индекс сможет содержать только одно значение NULL в столбце).</p></td></tr><tr><td class="catalog_table_entry"><p class="column_definition">
       <code class="structfield">indisprimary</code> <code class="type">bool</code>
      </p>
      <p>Если true, этот индекс представляет первичный ключ таблицы (в этом случае и в поле <code class="structfield">indisunique</code> должно быть значение true)</p></td></tr><tr><td class="catalog_table_entry"><p class="column_definition">
       <code class="structfield">indisexclusion</code> <code class="type">bool</code>
      </p>
      <p>Если true, этот индекс поддерживает ограничение-исключение</p></td></tr><tr><td class="catalog_table_entry"><p class="column_definition">
       <code class="structfield">indimmediate</code> <code class="type">bool</code>
      </p>
      <p>Если true, проверка уникальности осуществляется непосредственно при добавлении данных (неприменимо, если значение <code class="structfield">indisunique</code> не true)</p></td></tr><tr><td class="catalog_table_entry"><p class="column_definition">
       <code class="structfield">indisclustered</code> <code class="type">bool</code>
      </p>
      <p>Если true, таблица в последний раз кластеризовалась по этому индексу</p></td></tr><tr><td class="catalog_table_entry"><p class="column_definition">
       <code class="structfield">indisvalid</code> <code class="type">bool</code>
      </p>
      <p>Если true, индекс можно применять в запросах. Значение false означает, что индекс, возможно, неполный: он будет тем не менее изменяться командами <a class="link" href="sql-insert.html" title="INSERT"><code class="command">INSERT</code></a>/<a class="link" href="sql-update.html" title="UPDATE"><code class="command">UPDATE</code></a>, но безопасно применять его в запросах нельзя. Если он уникальный, свойство уникальности также не гарантируется.</p></td></tr><tr><td class="catalog_table_entry"><p class="column_definition">
       <code class="structfield">indcheckxmin</code> <code class="type">bool</code>
      </p>
      <p>Если true, запросы не должны использовать этот индекс, пока поле <code class="structfield">xmin</code> данной записи в <code class="structname">pg_index</code> не окажется ниже их горизонта событий <code class="symbol">TransactionXmin</code>, так как таблица может содержать оборванные цепочки <a class="link" href="storage-hot.html" title="73.7. Кортежи только в куче (Heap-Only Tuples, HOT)">HOT</a> с видимыми несовместимыми строками</p></td></tr><tr><td class="catalog_table_entry"><p class="column_definition">
       <code class="structfield">indisready</code> <code class="type">bool</code>
      </p>
      <p>Если true, индекс готов к добавлению данных. Значение false означает, что индекс игнорируется операциями <a class="link" href="sql-insert.html" title="INSERT"><code class="command">INSERT</code></a>/<a class="link" href="sql-update.html" title="UPDATE"><code class="command">UPDATE</code></a>.</p></td></tr><tr><td class="catalog_table_entry"><p class="column_definition">
       <code class="structfield">indislive</code> <code class="type">bool</code>
      </p>
      <p>Если false, индекс находится в процессе удаления и его следует игнорировать для любых целей (включая вопрос применимости HOT)</p></td></tr><tr><td class="catalog_table_entry"><p class="column_definition">
       <code class="structfield">indisreplident</code> <code class="type">bool</code>
      </p>
      <p>Если true, этот индекс выбран в качестве <span class="quote">«<span class="quote">идентификатора реплики</span>»</span> командой <a class="link" href="sql-altertable.html#SQL-ALTERTABLE-REPLICA-IDENTITY"><code class="command">ALTER TABLE ... REPLICA IDENTITY USING INDEX ...</code></a></p></td></tr><tr><td class="catalog_table_entry"><p class="column_definition"><code class="structfield">indkey</code> <code class="type">int2vector</code> (ссылается на <a class="link" href="catalog-pg-attribute.html" title="53.7. pg_attribute"><code class="structname">pg_attribute</code></a>.<code class="structfield">attnum</code>)</p>
      <p>Это массив из <code class="structfield">indnatts</code> значений, указывающих, какие столбцы таблицы индексирует этот индекс. Например, значения <code class="literal">1 3</code> будут означать, что в индекс входят первый и третий столбцы таблицы. Ключевые столбцы указываются перед неключевыми (включаемыми) столбцами. Ноль в этом массиве означает, что соответствующий атрибут индекса определяется выражением со столбцами таблицы, а не просто ссылкой на столбец.</p></td></tr><tr><td class="catalog_table_entry"><p class="column_definition"><code class="structfield">indcollation</code> <code class="type">oidvector</code> (ссылается на <a class="link" href="catalog-pg-collation.html" title="53.12. pg_collation"><code class="structname">pg_collation</code></a>.<code class="structfield">oid</code>)</p>
      <p>Для каждого столбца в ключе индекса этот массив (из <code class="structfield">indnkeyatts</code> значений) содержит OID правила сортировки для применения в этом индексе либо 0, если тип данных этого столбца не сортируемый.</p></td></tr><tr><td class="catalog_table_entry"><p class="column_definition"><code class="structfield">indclass</code> <code class="type">oidvector</code> (ссылается на <a class="link" href="catalog-pg-opclass.html" title="53.33. pg_opclass"><code class="structname">pg_opclass</code></a>.<code class="structfield">oid</code>)</p>
      <p>Для каждого столбца в ключе индекса этот массив (из <code class="structfield">indnkeyatts</code> значений) содержит OID применяемых классов операторов. Подробнее это рассматривается в описании <a class="link" href="catalog-pg-opclass.html" title="53.33. pg_opclass"><code class="structname">pg_opclass</code></a>.</p></td></tr><tr><td class="catalog_table_entry"><p class="column_definition">
       <code class="structfield">indoption</code> <code class="type">int2vector</code>
      </p>
      <p>Это массив из <code class="structfield">indnkeyatts</code> значений, в которых хранятся битовые флаги для отдельных столбцов. Значение этих флагов определяется методом доступа конкретного индекса.</p></td></tr><tr><td class="catalog_table_entry"><p class="column_definition">
       <code class="structfield">indexprs</code> <code class="type">pg_node_tree</code>
      </p>
      <p>Деревья выражений (в представлении <code class="function">nodeToString()</code>) для атрибутов индекса, не являющихся простыми ссылками на столбцы. Этот список содержит один элемент для каждого нулевого значения в <code class="structfield">indkey</code>. Значением может быть NULL, если все атрибуты индекса представляют собой простые ссылки.</p></td></tr><tr><td class="catalog_table_entry"><p class="column_definition">
       <code class="structfield">indpred</code> <code class="type">pg_node_tree</code>
      </p>
      <p>Дерево выражения (в представлении <code class="function">nodeToString()</code>) для предиката частичного индекса, либо NULL, если это не частичный индекс.</p></td></tr></tbody></table></div></div><br class="table-break" /></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="catalog-pg-foreign-table.html" title="53.25. pg_foreign_table">Пред.</a> </td><td width="20%" align="center"><a accesskey="u" href="catalogs.html" title="Глава 53. Системные каталоги">Наверх</a></td><td width="40%" align="right"> <a accesskey="n" href="catalog-pg-inherits.html" title="53.27. pg_inherits">След.</a></td></tr><tr><td width="40%" align="left" valign="top">53.25. <code class="structname">pg_foreign_table</code> </td><td width="20%" align="center"><a accesskey="h" href="index.html" title="Документация к PostgreSQL 16.3">Начало</a></td><td width="40%" align="right" valign="top"> 53.27. <code class="structname">pg_inherits</code></td></tr></table></div></body></html>