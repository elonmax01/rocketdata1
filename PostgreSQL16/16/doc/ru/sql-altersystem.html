<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>ALTER SYSTEM</title><link rel="stylesheet" type="text/css" href="stylesheet.css" /><link rev="made" href="pgsql-docs@lists.postgresql.org" /><meta name="generator" content="DocBook XSL Stylesheets Vsnapshot" /><link rel="prev" href="sql-altersubscription.html" title="ALTER SUBSCRIPTION" /><link rel="next" href="sql-altertable.html" title="ALTER TABLE" /></head><body id="docContent" class="container-fluid col-10"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="5" align="center">ALTER SYSTEM</th></tr><tr><td width="10%" align="left"><a accesskey="p" href="sql-altersubscription.html" title="ALTER SUBSCRIPTION">Пред.</a> </td><td width="10%" align="left"><a accesskey="u" href="sql-commands.html" title="Команды SQL">Наверх</a></td><th width="60%" align="center">Команды SQL</th><td width="10%" align="right"><a accesskey="h" href="index.html" title="Документация к PostgreSQL 16.3">Начало</a></td><td width="10%" align="right"> <a accesskey="n" href="sql-altertable.html" title="ALTER TABLE">След.</a></td></tr></table><hr /></div><div class="refentry" id="SQL-ALTERSYSTEM"><div class="titlepage"></div><a id="id-1.9.3.34.1" class="indexterm"></a><div class="refnamediv"><h2><span class="refentrytitle">ALTER SYSTEM</span></h2><p>ALTER SYSTEM — изменить параметр конфигурации сервера</p></div><div class="refsynopsisdiv"><h2>Синтаксис</h2><pre class="synopsis">ALTER SYSTEM SET <em class="replaceable"><code>параметр_конфигурации</code></em> { TO | = } { <em class="replaceable"><code>значение</code></em> [, ...] | DEFAULT }

ALTER SYSTEM RESET <em class="replaceable"><code>параметр_конфигурации</code></em>
ALTER SYSTEM RESET ALL</pre></div><div class="refsect1" id="id-1.9.3.34.5"><h2>Описание</h2><p>Оператор <code class="command">ALTER SYSTEM</code> применяется для изменения параметров конфигурации сервера, распространяющихся на весь кластер баз данных. Пользоваться им может быть удобнее, чем вручную редактировать файл <code class="filename">postgresql.conf</code>. <code class="command">ALTER SYSTEM</code> записывает заданное значение параметра в файл <code class="filename">postgresql.auto.conf</code>, который считывается сервером в дополнение к <code class="filename">postgresql.conf</code>. При указании в качестве значения параметра <code class="literal">DEFAULT</code> или применении формы <code class="command">RESET</code> соответствующий элемент конфигурации удаляется из <code class="filename">postgresql.auto.conf</code>. Удалить все настроенные таким способом параметры позволяет предложение <code class="literal">RESET ALL</code>.</p><p>Значения, установленные командой <code class="command">ALTER SYSTEM</code>, вступают в силу после следующей перезагрузки конфигурации сервера либо после перезапуска сервера (если это параметры, воспринимаемые только при запуске). Перезагрузить конфигурацию сервера можно, вызвав SQL-функцию <code class="function">pg_reload_conf()</code>, выполнив <code class="literal">pg_ctl reload</code> или отправив сигнал <span class="systemitem">SIGHUP</span> главному серверному процессу.</p><p>Изменить какой-либо параметр, используя <code class="command">ALTER SYSTEM</code>, могут только суперпользователи и пользователи, которым дано право <code class="literal">ALTER SYSTEM</code> для этого параметра. А так как эта команда работает непосредственно с файловой системой и не может быть отменена, её нельзя поместить в блок транзакции или функцию.</p></div><div class="refsect1" id="id-1.9.3.34.6"><h2>Параметры</h2><div class="variablelist"><dl class="variablelist"><dt><span class="term"><em class="replaceable"><code>параметр_конфигурации</code></em></span></dt><dd><p>Имя устанавливаемого параметра конфигурации. Список доступных параметров приведён в <a class="xref" href="runtime-config.html" title="Глава 20. Настройка сервера">Главе 20</a>.</p></dd><dt><span class="term"><em class="replaceable"><code>значение</code></em></span></dt><dd><p>Новое значение параметра. Значениями могут быть строковые константы, идентификаторы, числа или списки таких элементов через запятую, в зависимости от конкретного параметра. Значения, не являющиеся числами или действительными идентификаторами, должны заключаться в кавычки. Если в качестве значения указать <code class="literal">DEFAULT</code>, параметр и его значение удаляются из <code class="filename">postgresql.auto.conf</code>.</p><p>Для некоторых параметров, принимающих в качестве значения список, значения в кавычках будут записываться в файл в двойных кавычках для сохранения пробелов и запятых; в других случаях для достижения такого эффекта необходимо использовать двойные кавычки внутри строк, заключённых в одинарные кавычки.</p></dd></dl></div></div><div class="refsect1" id="id-1.9.3.34.7"><h2>Замечания</h2><p>С помощью этой команды нельзя задать <a class="xref" href="runtime-config-file-locations.html#GUC-DATA-DIRECTORY">data_directory</a>, равно как и другие параметры, недопустимые в <code class="filename">postgresql.conf</code> (например, <a class="link" href="runtime-config-preset.html" title="20.15. Предопределённые параметры">предустановленные параметры</a>).</p><p>Другие способы настройки параметров описаны в <a class="xref" href="config-setting.html" title="20.1. Изменение параметров">Разделе 20.1</a>.</p></div><div class="refsect1" id="id-1.9.3.34.8"><h2>Примеры</h2><p>Установка уровня ведения журнала транзакций (<code class="literal">wal_level</code>): </p><pre class="programlisting">ALTER SYSTEM SET wal_level = replica;</pre><p>Отмена изменения, восстановление значения, заданного в <code class="filename">postgresql.conf</code>: </p><pre class="programlisting">ALTER SYSTEM RESET wal_level;</pre></div><div class="refsect1" id="id-1.9.3.34.9"><h2>Совместимость</h2><p>Оператор <code class="command">ALTER SYSTEM</code> является расширением <span class="productname">PostgreSQL</span>.</p></div><div class="refsect1" id="id-1.9.3.34.10"><h2>См. также</h2><span class="simplelist"><a class="xref" href="sql-set.html" title="SET"><span class="refentrytitle">SET</span></a>, <a class="xref" href="sql-show.html" title="SHOW"><span class="refentrytitle">SHOW</span></a></span></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="sql-altersubscription.html" title="ALTER SUBSCRIPTION">Пред.</a> </td><td width="20%" align="center"><a accesskey="u" href="sql-commands.html" title="Команды SQL">Наверх</a></td><td width="40%" align="right"> <a accesskey="n" href="sql-altertable.html" title="ALTER TABLE">След.</a></td></tr><tr><td width="40%" align="left" valign="top">ALTER SUBSCRIPTION </td><td width="20%" align="center"><a accesskey="h" href="index.html" title="Документация к PostgreSQL 16.3">Начало</a></td><td width="40%" align="right" valign="top"> ALTER TABLE</td></tr></table></div></body></html>