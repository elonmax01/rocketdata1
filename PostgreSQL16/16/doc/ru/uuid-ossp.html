<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>F.49. uuid-ossp — генератор UUID</title><link rel="stylesheet" type="text/css" href="stylesheet.css" /><link rev="made" href="pgsql-docs@lists.postgresql.org" /><meta name="generator" content="DocBook XSL Stylesheets Vsnapshot" /><link rel="prev" href="unaccent.html" title="F.48. unaccent — словарь текстового поиска, который убирает диакритические знаки" /><link rel="next" href="xml2.html" title="F.50. xml2 — функции для выполнения запросов XPath и преобразований XSLT" /></head><body id="docContent" class="container-fluid col-10"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="5" align="center">F.49. uuid-ossp — генератор UUID</th></tr><tr><td width="10%" align="left"><a accesskey="p" href="unaccent.html" title="F.48. unaccent — словарь текстового поиска, который убирает диакритические знаки">Пред.</a> </td><td width="10%" align="left"><a accesskey="u" href="contrib.html" title="Приложение F. Дополнительно поставляемые модули и расширения">Наверх</a></td><th width="60%" align="center">Приложение F. Дополнительно поставляемые модули и расширения</th><td width="10%" align="right"><a accesskey="h" href="index.html" title="Документация к PostgreSQL 16.3">Начало</a></td><td width="10%" align="right"> <a accesskey="n" href="xml2.html" title="F.50. xml2 — функции для выполнения запросов XPath и преобразований XSLT">След.</a></td></tr></table><hr /></div><div class="sect1" id="UUID-OSSP"><div class="titlepage"><div><div><h2 class="title" style="clear: both">F.49. uuid-ossp — генератор UUID <a href="#UUID-OSSP" class="id_link">#</a></h2></div></div></div><div class="toc"><dl class="toc"><dt><span class="sect2"><a href="uuid-ossp.html#UUID-OSSP-FUNCTIONS-SECT">F.49.1. Функции <code class="literal">uuid-ossp</code></a></span></dt><dt><span class="sect2"><a href="uuid-ossp.html#UUID-OSSP-BUILDING">F.49.2. Сборка <code class="filename">uuid-ossp</code></a></span></dt><dt><span class="sect2"><a href="uuid-ossp.html#UUID-OSSP-AUTHOR">F.49.3. Автор</a></span></dt></dl></div><a id="id-1.11.7.59.2" class="indexterm"></a><p>Модуль <code class="filename">uuid-ossp</code> предоставляет функции для генерирования универсальных уникальных идентификаторов (UUID) по одному из нескольких стандартных алгоритмов. В нём также есть функции, выдающие специальные UUID-константы. Этот модуль необходим только в случае особых требований, которым не удовлетворяет функциональность в ядре <span class="productname">PostgreSQL</span>. Встроенные в ядро способы генерирования UUID описаны в <a class="xref" href="functions-uuid.html" title="9.14. Функции генерирования UUID">Разделе 9.14</a>.</p><p>Данный модуль считается <span class="quote">«<span class="quote">доверенным</span>»</span>, то есть его могут устанавливать обычные пользователи, имеющие право <code class="literal">CREATE</code> в текущей базе данных.</p><div class="sect2" id="UUID-OSSP-FUNCTIONS-SECT"><div class="titlepage"><div><div><h3 class="title">F.49.1. Функции <code class="literal">uuid-ossp</code> <a href="#UUID-OSSP-FUNCTIONS-SECT" class="id_link">#</a></h3></div></div></div><p>В <a class="xref" href="uuid-ossp.html#UUID-OSSP-FUNCTIONS" title="Таблица F.34. Функции для генерирования UUID">Таблице F.34</a> показаны функции, предназначенные для генерации UUID. Четыре алгоритма для генерации UUID, обозначаемые номерами версий 1, 3, 4 и 5, описаны в стандартах ITU-T Rec. X.667, ISO/IEC 9834-8:2005 и <a class="ulink" href="https://datatracker.ietf.org/doc/html/rfc4122" target="_top">RFC 4122</a>. (Алгоритма версии 2 нет.) Каждый из этих алгоритмов предназначен для различных сфер применения.</p><div class="table" id="UUID-OSSP-FUNCTIONS"><p class="title"><strong>Таблица F.34. Функции для генерирования UUID</strong></p><div class="table-contents"><table class="table" summary="Функции для генерирования UUID" border="1"><colgroup><col /></colgroup><thead><tr><th class="func_table_entry"><p class="func_signature">Функция</p>
       <p>Описание</p></th></tr></thead><tbody><tr><td class="func_table_entry"><p class="func_signature"><a id="id-1.11.7.59.5.3.2.2.1.1.1.1" class="indexterm"></a> <code class="function">uuid_generate_v1</code> () → <code class="returnvalue">uuid</code></p>
       <p>Генерирует UUID версии 1. Такой UUID включает в себя MAC-адрес компьютера и текущее время. Заметьте, что UUID такого типа раскрывают «личность» компьютера, создавшего идентификатор, и время этой операции, что может быть неприемлемым для определённых приложений, где важна конфиденциальность.</p></td></tr><tr><td class="func_table_entry"><p class="func_signature"><a id="id-1.11.7.59.5.3.2.2.2.1.1.1" class="indexterm"></a> <code class="function">uuid_generate_v1mc</code> () → <code class="returnvalue">uuid</code></p>
       <p>Генерирует UUID версии 1, но вместо реального MAC-адреса компьютера используется случайный групповой MAC-адрес.</p></td></tr><tr><td class="func_table_entry"><p class="func_signature"><a id="id-1.11.7.59.5.3.2.2.3.1.1.1" class="indexterm"></a> <code class="function">uuid_generate_v3</code> ( <em class="parameter"><code>namespace</code></em> <code class="type">uuid</code>, <em class="parameter"><code>name</code></em> <code class="type">text</code> ) → <code class="returnvalue">uuid</code></p>
       <p>Генерирует UUID версии 3 для заданного пространства имён UUID и указанного имени. Пространство имён должно задаваться одной из специальных констант, которые выдаются функциями <code class="function">uuid_ns_*()</code>, перечисленными в <a class="xref" href="uuid-ossp.html#UUID-OSSP-CONSTANTS" title="Таблица F.35. Функции, возвращающие UUID-константы">Таблице F.35</a>. (Хотя теоретически это может быть любой UUID.) Имя задаёт идентификатор в выбранном пространстве имён.</p>
       <p>Например: </p><pre class="programlisting">SELECT uuid_generate_v3(uuid_ns_url(), 'http://www.postgresql.org');</pre><p> Из параметра name будет получен MD5-хеш, так что из сгенерированного UUID нельзя будет восстановить имя. В генерируемых таким алгоритмом UUID нет элемента случайности или зависимости от окружения, так что они могут быть воспроизведены.</p></td></tr><tr><td class="func_table_entry"><p class="func_signature"><code class="function">uuid_generate_v4</code> () → <code class="returnvalue">uuid</code></p>
       <p>Генерирует UUID версии 4, который полностью определяется случайными числами.</p></td></tr><tr><td class="func_table_entry"><p class="func_signature"><code class="function">uuid_generate_v5</code> ( <em class="parameter"><code>namespace</code></em> <code class="type">uuid</code>, <em class="parameter"><code>name</code></em> <code class="type">text</code> ) → <code class="returnvalue">uuid</code></p>
       <p>Генерирует UUID версии 5, который похож на версию 3, но хеш рассчитывается по алгоритму SHA-1. Версия 5 предпочтительнее версии 3, так как SHA-1 считается более безопасным, чем MD5.</p></td></tr></tbody></table></div></div><br class="table-break" /><div class="table" id="UUID-OSSP-CONSTANTS"><p class="title"><strong>Таблица F.35. Функции, возвращающие UUID-константы</strong></p><div class="table-contents"><table class="table" summary="Функции, возвращающие UUID-константы" border="1"><colgroup><col /></colgroup><thead><tr><th class="func_table_entry"><p class="func_signature">Функция</p>
       <p>Описание</p></th></tr></thead><tbody><tr><td class="func_table_entry"><p class="func_signature"><code class="function">uuid_nil</code> () → <code class="returnvalue">uuid</code></p>
       <p>Выдаёт <span class="quote">«<span class="quote">нулевой</span>»</span> UUID, который не считается действительным UUID.</p></td></tr><tr><td class="func_table_entry"><p class="func_signature"><code class="function">uuid_ns_dns</code> () → <code class="returnvalue">uuid</code></p>
       <p>Выдаёт константу, обозначающую пространство имён DNS для UUID.</p></td></tr><tr><td class="func_table_entry"><p class="func_signature"><code class="function">uuid_ns_url</code> () → <code class="returnvalue">uuid</code></p>
       <p>Выдаёт константу, обозначающую пространство имён URL для UUID.</p></td></tr><tr><td class="func_table_entry"><p class="func_signature"><code class="function">uuid_ns_oid</code> () → <code class="returnvalue">uuid</code></p>
       <p>Выдаёт константу, обозначающую пространство имён идентификаторов объектов ISO (OID, ISO Object Identifier) для UUID. (Здесь имеются в виду идентификаторы объектов ASN.1, которые никак не связаны с OID, применяемыми в <span class="productname">PostgreSQL</span>.)</p></td></tr><tr><td class="func_table_entry"><p class="func_signature"><code class="function">uuid_ns_x500</code> () → <code class="returnvalue">uuid</code></p>
       <p>Выдаёт константу, обозначающую пространство имён с уникальными именами X.500 для UUID.</p></td></tr></tbody></table></div></div><br class="table-break" /></div><div class="sect2" id="UUID-OSSP-BUILDING"><div class="titlepage"><div><div><h3 class="title">F.49.2. Сборка <code class="filename">uuid-ossp</code> <a href="#UUID-OSSP-BUILDING" class="id_link">#</a></h3></div></div></div><p>В прошлом этот модуль зависел от библиотеки OSSP UUID, что отразилось в его имени. Хотя библиотеку OSSP UUID всё ещё можно найти по адресу <a class="ulink" href="http://www.ossp.org/pkg/lib/uuid/" target="_top">http://www.ossp.org/pkg/lib/uuid/</a>, она плохо поддерживается и её становится всё сложнее портировать на новые платформы. Поэтому модуль <code class="filename">uuid-ossp</code> теперь на некоторых платформах можно собирать без библиотеки OSSP. Во FreeBSD и некоторых других ОС на базе BSD подходящие функции формирования UUID включены в системную библиотеку <code class="filename">libc</code>. В Linux, macOS и некоторых других платформах подходящие функции предоставляются библиотекой <code class="filename">libuuid</code>, которая изначально пришла из проекта <code class="literal">e2fsprogs</code> (хотя в современных дистрибутивах Linux она является частью пакета <code class="literal">util-linux-ng</code>). Вызывая <code class="filename">configure</code>, передайте ключ <code class="option">--with-uuid=bsd</code>, чтобы использовать функции BSD, либо <code class="option">--with-uuid=e2fs</code>, чтобы использовать <code class="filename">libuuid</code> из <code class="literal">e2fsprogs</code>, либо ключ <code class="option">--with-uuid=ossp</code>, чтобы использовать библиотеку OSSP UUID. В конкретной системе может быть установлено сразу несколько библиотек, поэтому <code class="filename">configure</code> не выбирает библиотеку автоматически.</p></div><div class="sect2" id="UUID-OSSP-AUTHOR"><div class="titlepage"><div><div><h3 class="title">F.49.3. Автор <a href="#UUID-OSSP-AUTHOR" class="id_link">#</a></h3></div></div></div><p>Питер Эйзентраут <code class="email">&lt;<a class="email" href="mailto:peter_e@gmx.net">peter_e@gmx.net</a>&gt;</code></p></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="unaccent.html" title="F.48. unaccent — словарь текстового поиска, который убирает диакритические знаки">Пред.</a> </td><td width="20%" align="center"><a accesskey="u" href="contrib.html" title="Приложение F. Дополнительно поставляемые модули и расширения">Наверх</a></td><td width="40%" align="right"> <a accesskey="n" href="xml2.html" title="F.50. xml2 — функции для выполнения запросов XPath и преобразований XSLT">След.</a></td></tr><tr><td width="40%" align="left" valign="top">F.48. unaccent — словарь текстового поиска, который убирает диакритические знаки </td><td width="20%" align="center"><a accesskey="h" href="index.html" title="Документация к PostgreSQL 16.3">Начало</a></td><td width="40%" align="right" valign="top"> F.50. xml2 — функции для выполнения запросов XPath и преобразований XSLT</td></tr></table></div></body></html>