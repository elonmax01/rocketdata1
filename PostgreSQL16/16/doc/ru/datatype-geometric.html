<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>8.8. Геометрические типы</title><link rel="stylesheet" type="text/css" href="stylesheet.css" /><link rev="made" href="pgsql-docs@lists.postgresql.org" /><meta name="generator" content="DocBook XSL Stylesheets Vsnapshot" /><link rel="prev" href="datatype-enum.html" title="8.7. Типы перечислений" /><link rel="next" href="datatype-net-types.html" title="8.9. Типы, описывающие сетевые адреса" /></head><body id="docContent" class="container-fluid col-10"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="5" align="center">8.8. Геометрические типы</th></tr><tr><td width="10%" align="left"><a accesskey="p" href="datatype-enum.html" title="8.7. Типы перечислений">Пред.</a> </td><td width="10%" align="left"><a accesskey="u" href="datatype.html" title="Глава 8. Типы данных">Наверх</a></td><th width="60%" align="center">Глава 8. Типы данных</th><td width="10%" align="right"><a accesskey="h" href="index.html" title="Документация к PostgreSQL 16.3">Начало</a></td><td width="10%" align="right"> <a accesskey="n" href="datatype-net-types.html" title="8.9. Типы, описывающие сетевые адреса">След.</a></td></tr></table><hr /></div><div class="sect1" id="DATATYPE-GEOMETRIC"><div class="titlepage"><div><div><h2 class="title" style="clear: both">8.8. Геометрические типы <a href="#DATATYPE-GEOMETRIC" class="id_link">#</a></h2></div></div></div><div class="toc"><dl class="toc"><dt><span class="sect2"><a href="datatype-geometric.html#DATATYPE-GEOMETRIC-POINTS">8.8.1. Точки</a></span></dt><dt><span class="sect2"><a href="datatype-geometric.html#DATATYPE-LINE">8.8.2. Прямые</a></span></dt><dt><span class="sect2"><a href="datatype-geometric.html#DATATYPE-LSEG">8.8.3. Отрезки</a></span></dt><dt><span class="sect2"><a href="datatype-geometric.html#DATATYPE-GEOMETRIC-BOXES">8.8.4. Прямоугольники</a></span></dt><dt><span class="sect2"><a href="datatype-geometric.html#DATATYPE-GEOMETRIC-PATHS">8.8.5. Пути</a></span></dt><dt><span class="sect2"><a href="datatype-geometric.html#DATATYPE-POLYGON">8.8.6. Многоугольники</a></span></dt><dt><span class="sect2"><a href="datatype-geometric.html#DATATYPE-CIRCLE">8.8.7. Окружности</a></span></dt></dl></div><p>Геометрические типы данных представляют объекты в двумерном пространстве. Все существующие в <span class="productname">PostgreSQL</span> геометрические типы перечислены в <a class="xref" href="datatype-geometric.html#DATATYPE-GEO-TABLE" title="Таблица 8.20. Геометрические типы">Таблице 8.20</a>.</p><div class="table" id="DATATYPE-GEO-TABLE"><p class="title"><strong>Таблица 8.20. Геометрические типы</strong></p><div class="table-contents"><table class="table" summary="Геометрические типы" border="1"><colgroup><col class="col1" /><col class="col2" /><col class="col3" /><col class="col4" /></colgroup><thead><tr><th>Name</th><th>Размер</th><th>Описание</th><th>Представление</th></tr></thead><tbody><tr><td><code class="type">point</code></td><td>16 байт</td><td>Точка на плоскости</td><td>(x,y)</td></tr><tr><td><code class="type">line</code></td><td>32 байта</td><td>Бесконечная прямая</td><td>{A,B,C}</td></tr><tr><td><code class="type">lseg</code></td><td>32 байта</td><td>Отрезок</td><td>((x1,y1),(x2,y2))</td></tr><tr><td><code class="type">box</code></td><td>32 байта</td><td>Прямоугольник</td><td>((x1,y1),(x2,y2))</td></tr><tr><td><code class="type">path</code></td><td>16+16n байт</td><td>Закрытый путь (подобный многоугольнику)</td><td>((x1,y1),...)</td></tr><tr><td><code class="type">path</code></td><td>16+16n байт</td><td>Открытый путь</td><td>[(x1,y1),...]</td></tr><tr><td><code class="type">polygon</code></td><td>40+16n байт</td><td>Многоугольник (подобный закрытому пути)</td><td>((x1,y1),...)</td></tr><tr><td><code class="type">circle</code></td><td>24 байта</td><td>Окружность</td><td>&lt;(x,y),r&gt; (центр окружности и радиус)</td></tr></tbody></table></div></div><br class="table-break" /><p>Для выполнения различных геометрических операций, в частности масштабирования, вращения и определения пересечений, <span class="productname">PostgreSQL</span> предлагает богатый набор функций и операторов. Они рассматриваются в <a class="xref" href="functions-geometry.html" title="9.11. Геометрические функции и операторы">Разделе 9.11</a>.</p><div class="sect2" id="DATATYPE-GEOMETRIC-POINTS"><div class="titlepage"><div><div><h3 class="title">8.8.1. Точки <a href="#DATATYPE-GEOMETRIC-POINTS" class="id_link">#</a></h3></div></div></div><a id="id-1.5.7.16.5.2" class="indexterm"></a><p>Точки — это основной элемент, на базе которого строятся все остальные геометрические типы. Значения типа <code class="type">point</code> записываются в одном из двух форматов: </p><pre class="synopsis">
( <em class="replaceable"><code>x</code></em> , <em class="replaceable"><code>y</code></em> )
  <em class="replaceable"><code>x</code></em> , <em class="replaceable"><code>y</code></em>
</pre><p> где <em class="replaceable"><code>x</code></em> и <em class="replaceable"><code>y</code></em> — координаты точки на плоскости, выраженные числами с плавающей точкой.</p><p>Выводятся точки в первом формате.</p></div><div class="sect2" id="DATATYPE-LINE"><div class="titlepage"><div><div><h3 class="title">8.8.2. Прямые <a href="#DATATYPE-LINE" class="id_link">#</a></h3></div></div></div><a id="id-1.5.7.16.6.2" class="indexterm"></a><p>Прямые представляются линейным уравнением <em class="replaceable"><code>A</code></em>x + <em class="replaceable"><code>B</code></em>y + <em class="replaceable"><code>C</code></em> = 0, где <em class="replaceable"><code>A</code></em> и <em class="replaceable"><code>B</code></em> не могут быть равны 0 одновременно. Значения типа <code class="type">line</code> вводятся и выводятся в следующем виде: </p><pre class="synopsis">
{ <em class="replaceable"><code>A</code></em>, <em class="replaceable"><code>B</code></em>, <em class="replaceable"><code>C</code></em> }
</pre><p> Кроме того, для ввода может использоваться любая из этих форм: </p><pre class="synopsis">
[ ( <em class="replaceable"><code>x1</code></em> , <em class="replaceable"><code>y1</code></em> ) , ( <em class="replaceable"><code>x2</code></em> , <em class="replaceable"><code>y2</code></em> ) ]
( ( <em class="replaceable"><code>x1</code></em> , <em class="replaceable"><code>y1</code></em> ) , ( <em class="replaceable"><code>x2</code></em> , <em class="replaceable"><code>y2</code></em> ) )
  ( <em class="replaceable"><code>x1</code></em> , <em class="replaceable"><code>y1</code></em> ) , ( <em class="replaceable"><code>x2</code></em> , <em class="replaceable"><code>y2</code></em> )
    <em class="replaceable"><code>x1</code></em> , <em class="replaceable"><code>y1</code></em>   ,   <em class="replaceable"><code>x2</code></em> , <em class="replaceable"><code>y2</code></em>
</pre><p> где <code class="literal">(<em class="replaceable"><code>x1</code></em>,<em class="replaceable"><code>y1</code></em>)</code> и <code class="literal">(<em class="replaceable"><code>x2</code></em>,<em class="replaceable"><code>y2</code></em>)</code> — две различные точки на данной прямой.</p></div><div class="sect2" id="DATATYPE-LSEG"><div class="titlepage"><div><div><h3 class="title">8.8.3. Отрезки <a href="#DATATYPE-LSEG" class="id_link">#</a></h3></div></div></div><a id="id-1.5.7.16.7.2" class="indexterm"></a><a id="id-1.5.7.16.7.3" class="indexterm"></a><p>Отрезок представляется парой точек, определяющих концы отрезка. Значения типа <code class="type">lseg</code> записываются в одной из следующих форм: </p><pre class="synopsis">
[ ( <em class="replaceable"><code>x1</code></em> , <em class="replaceable"><code>y1</code></em> ) , ( <em class="replaceable"><code>x2</code></em> , <em class="replaceable"><code>y2</code></em> ) ]
( ( <em class="replaceable"><code>x1</code></em> , <em class="replaceable"><code>y1</code></em> ) , ( <em class="replaceable"><code>x2</code></em> , <em class="replaceable"><code>y2</code></em> ) )
  ( <em class="replaceable"><code>x1</code></em> , <em class="replaceable"><code>y1</code></em> ) , ( <em class="replaceable"><code>x2</code></em> , <em class="replaceable"><code>y2</code></em> )
    <em class="replaceable"><code>x1</code></em> , <em class="replaceable"><code>y1</code></em>   ,   <em class="replaceable"><code>x2</code></em> , <em class="replaceable"><code>y2</code></em>
</pre><p> где <code class="literal">(<em class="replaceable"><code>x1</code></em>,<em class="replaceable"><code>y1</code></em>)</code> и <code class="literal">(<em class="replaceable"><code>x2</code></em>,<em class="replaceable"><code>y2</code></em>)</code> — концы отрезка.</p><p>Выводятся отрезки в первом формате.</p></div><div class="sect2" id="DATATYPE-GEOMETRIC-BOXES"><div class="titlepage"><div><div><h3 class="title">8.8.4. Прямоугольники <a href="#DATATYPE-GEOMETRIC-BOXES" class="id_link">#</a></h3></div></div></div><a id="id-1.5.7.16.8.2" class="indexterm"></a><a id="id-1.5.7.16.8.3" class="indexterm"></a><p>Прямоугольник представляется двумя точками, находящимися в противоположных его углах. Значения типа <code class="type">box</code> записываются в одной из следующих форм: </p><pre class="synopsis">
( ( <em class="replaceable"><code>x1</code></em> , <em class="replaceable"><code>y1</code></em> ) , ( <em class="replaceable"><code>x2</code></em> , <em class="replaceable"><code>y2</code></em> ) )
  ( <em class="replaceable"><code>x1</code></em> , <em class="replaceable"><code>y1</code></em> ) , ( <em class="replaceable"><code>x2</code></em> , <em class="replaceable"><code>y2</code></em> )
    <em class="replaceable"><code>x1</code></em> , <em class="replaceable"><code>y1</code></em>   ,   <em class="replaceable"><code>x2</code></em> , <em class="replaceable"><code>y2</code></em>
</pre><p> где <code class="literal">(<em class="replaceable"><code>x1</code></em>,<em class="replaceable"><code>y1</code></em>)</code> и <code class="literal">(<em class="replaceable"><code>x2</code></em>,<em class="replaceable"><code>y2</code></em>)</code> — противоположные углы прямоугольника.</p><p>Выводятся прямоугольники во второй форме.</p><p>Во вводимом значении могут быть указаны любые два противоположных угла, но затем они будут упорядочены, так что внутри сохранятся правый верхний и левый нижний углы, в таком порядке.</p></div><div class="sect2" id="DATATYPE-GEOMETRIC-PATHS"><div class="titlepage"><div><div><h3 class="title">8.8.5. Пути <a href="#DATATYPE-GEOMETRIC-PATHS" class="id_link">#</a></h3></div></div></div><a id="id-1.5.7.16.9.2" class="indexterm"></a><p>Пути представляют собой списки соединённых точек. Пути могут быть <em class="firstterm">закрытыми</em>, когда подразумевается, что первая и последняя точка в списке соединены, или <em class="firstterm">открытыми</em>, в противном случае.</p><p>Значения типа <code class="type">path</code> записываются в одной из следующих форм: </p><pre class="synopsis">
[ ( <em class="replaceable"><code>x1</code></em> , <em class="replaceable"><code>y1</code></em> ) , ... , ( <em class="replaceable"><code>xn</code></em> , <em class="replaceable"><code>yn</code></em> ) ]
( ( <em class="replaceable"><code>x1</code></em> , <em class="replaceable"><code>y1</code></em> ) , ... , ( <em class="replaceable"><code>xn</code></em> , <em class="replaceable"><code>yn</code></em> ) )
  ( <em class="replaceable"><code>x1</code></em> , <em class="replaceable"><code>y1</code></em> ) , ... , ( <em class="replaceable"><code>xn</code></em> , <em class="replaceable"><code>yn</code></em> )
  ( <em class="replaceable"><code>x1</code></em> , <em class="replaceable"><code>y1</code></em>   , ... ,   <em class="replaceable"><code>xn</code></em> , <em class="replaceable"><code>yn</code></em> )
    <em class="replaceable"><code>x1</code></em> , <em class="replaceable"><code>y1</code></em>   , ... ,   <em class="replaceable"><code>xn</code></em> , <em class="replaceable"><code>yn</code></em>
</pre><p> где точки задают узлы сегментов, составляющих путь. Квадратные скобки (<code class="literal">[]</code>) указывают, что путь открытый, а круглые (<code class="literal">()</code>) — закрытый. Когда внешние скобки опускаются, как в показанных выше последних трёх формах, считается, что путь закрытый.</p><p>Пути выводятся в первой или второй форме, в соответствии с типом.</p></div><div class="sect2" id="DATATYPE-POLYGON"><div class="titlepage"><div><div><h3 class="title">8.8.6. Многоугольники <a href="#DATATYPE-POLYGON" class="id_link">#</a></h3></div></div></div><a id="id-1.5.7.16.10.2" class="indexterm"></a><p>Многоугольники представляются списками точек (вершин). Многоугольники похожи на закрытые пути; важное отличие состоит в том, что многоугольник считается содержащим область внутри него, а путь — нет.</p><p>Значения типа <code class="type">polygon</code> записываются в одной из следующих форм: </p><pre class="synopsis">
( ( <em class="replaceable"><code>x1</code></em> , <em class="replaceable"><code>y1</code></em> ) , ... , ( <em class="replaceable"><code>xn</code></em> , <em class="replaceable"><code>yn</code></em> ) )
  ( <em class="replaceable"><code>x1</code></em> , <em class="replaceable"><code>y1</code></em> ) , ... , ( <em class="replaceable"><code>xn</code></em> , <em class="replaceable"><code>yn</code></em> )
  ( <em class="replaceable"><code>x1</code></em> , <em class="replaceable"><code>y1</code></em>   , ... ,   <em class="replaceable"><code>xn</code></em> , <em class="replaceable"><code>yn</code></em> )
    <em class="replaceable"><code>x1</code></em> , <em class="replaceable"><code>y1</code></em>   , ... ,   <em class="replaceable"><code>xn</code></em> , <em class="replaceable"><code>yn</code></em>
</pre><p> где точки задают узлы сегментов, образующих границу многоугольника.</p><p>Выводятся многоугольники в первом формате.</p></div><div class="sect2" id="DATATYPE-CIRCLE"><div class="titlepage"><div><div><h3 class="title">8.8.7. Окружности <a href="#DATATYPE-CIRCLE" class="id_link">#</a></h3></div></div></div><a id="id-1.5.7.16.11.2" class="indexterm"></a><p>Окружности задаются координатами центра и радиусом. Значения типа <code class="type">circle</code> записываются в одном из следующих форматов: </p><pre class="synopsis">
&lt; ( <em class="replaceable"><code>x</code></em> , <em class="replaceable"><code>y</code></em> ) , <em class="replaceable"><code>r</code></em> &gt;
( ( <em class="replaceable"><code>x</code></em> , <em class="replaceable"><code>y</code></em> ) , <em class="replaceable"><code>r</code></em> )
  ( <em class="replaceable"><code>x</code></em> , <em class="replaceable"><code>y</code></em> ) , <em class="replaceable"><code>r</code></em>
    <em class="replaceable"><code>x</code></em> , <em class="replaceable"><code>y</code></em>   , <em class="replaceable"><code>r</code></em>
</pre><p> где <code class="literal">(<em class="replaceable"><code>x</code></em>,<em class="replaceable"><code>y</code></em>)</code> — центр окружности, а <em class="replaceable"><code>r</code></em> — её радиус.</p><p>Выводятся окружности в первом формате.</p></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="datatype-enum.html" title="8.7. Типы перечислений">Пред.</a> </td><td width="20%" align="center"><a accesskey="u" href="datatype.html" title="Глава 8. Типы данных">Наверх</a></td><td width="40%" align="right"> <a accesskey="n" href="datatype-net-types.html" title="8.9. Типы, описывающие сетевые адреса">След.</a></td></tr><tr><td width="40%" align="left" valign="top">8.7. Типы перечислений </td><td width="20%" align="center"><a accesskey="h" href="index.html" title="Документация к PostgreSQL 16.3">Начало</a></td><td width="40%" align="right" valign="top"> 8.9. Типы, описывающие сетевые адреса</td></tr></table></div></body></html>