<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>53.11. pg_class</title><link rel="stylesheet" type="text/css" href="stylesheet.css" /><link rev="made" href="pgsql-docs@lists.postgresql.org" /><meta name="generator" content="DocBook XSL Stylesheets Vsnapshot" /><link rel="prev" href="catalog-pg-cast.html" title="53.10. pg_cast" /><link rel="next" href="catalog-pg-collation.html" title="53.12. pg_collation" /></head><body id="docContent" class="container-fluid col-10"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="5" align="center">53.11. <code class="structname">pg_class</code></th></tr><tr><td width="10%" align="left"><a accesskey="p" href="catalog-pg-cast.html" title="53.10. pg_cast">Пред.</a> </td><td width="10%" align="left"><a accesskey="u" href="catalogs.html" title="Глава 53. Системные каталоги">Наверх</a></td><th width="60%" align="center">Глава 53. Системные каталоги</th><td width="10%" align="right"><a accesskey="h" href="index.html" title="Документация к PostgreSQL 16.3">Начало</a></td><td width="10%" align="right"> <a accesskey="n" href="catalog-pg-collation.html" title="53.12. pg_collation">След.</a></td></tr></table><hr /></div><div class="sect1" id="CATALOG-PG-CLASS"><div class="titlepage"><div><div><h2 class="title" style="clear: both">53.11. <code class="structname">pg_class</code> <a href="#CATALOG-PG-CLASS" class="id_link">#</a></h2></div></div></div><a id="id-1.10.4.13.2" class="indexterm"></a><p>В каталоге <code class="structname">pg_class</code> описываются таблицы и прочие объекты, имеющие столбцы или каким-то образом подобные таблицам. Сюда входят индексы (но смотрите также <a class="link" href="catalog-pg-index.html" title="53.26. pg_index"><code class="structname">pg_index</code></a>), последовательности (но смотрите также <a class="link" href="catalog-pg-sequence.html" title="53.47. pg_sequence"><code class="structname">pg_sequence</code></a>), представления, материализованные представления, составные типы и таблицы TOAST; см. <code class="structfield">relkind</code>. Далее, подразумевая все эти типы объектов, мы будем говорить об <span class="quote">«<span class="quote">отношениях</span>»</span>. Не все столбцы <code class="structname">pg_class</code> здесь имеют смысл для всех видов отношений.</p><div class="table" id="id-1.10.4.13.4"><p class="title"><strong>Таблица 53.11. Столбцы <code class="structname">pg_class</code></strong></p><div class="table-contents"><table class="table" summary="Столбцы pg_class" border="1"><colgroup><col /></colgroup><thead><tr><th class="catalog_table_entry"><p class="column_definition">Тип столбца</p>
      <p>Описание</p></th></tr></thead><tbody><tr><td class="catalog_table_entry"><p class="column_definition">
       <code class="structfield">oid</code> <code class="type">oid</code>
      </p>
      <p>Идентификатор строки</p></td></tr><tr><td class="catalog_table_entry"><p class="column_definition">
       <code class="structfield">relname</code> <code class="type">name</code>
      </p>
      <p>Имя таблицы, индекса, представления и т. п.</p></td></tr><tr><td class="catalog_table_entry"><p class="column_definition"><code class="structfield">relnamespace</code> <code class="type">oid</code> (ссылается на <a class="link" href="catalog-pg-namespace.html" title="53.32. pg_namespace"><code class="structname">pg_namespace</code></a>.<code class="structfield">oid</code>)</p>
      <p>OID пространства имён, содержащего это отношение</p></td></tr><tr><td class="catalog_table_entry"><p class="column_definition"><code class="structfield">reltype</code> <code class="type">oid</code> (ссылается на <a class="link" href="catalog-pg-type.html" title="53.64. pg_type"><code class="structname">pg_type</code></a>.<code class="structfield">oid</code>)</p>
      <p>OID типа данных, соответствующего типу строки этой таблицы, если таковой есть; ноль для индексов, последовательностей и TOAST-таблиц, так как они не имеют записи в <code class="structname">pg_type</code></p></td></tr><tr><td class="catalog_table_entry"><p class="column_definition"><code class="structfield">reloftype</code> <code class="type">oid</code> (ссылается на <a class="link" href="catalog-pg-type.html" title="53.64. pg_type"><code class="structname">pg_type</code></a>.<code class="structfield">oid</code>)</p>
      <p>OID нижележащего составного типа для типизированных таблиц; ноль для всех других отношений</p></td></tr><tr><td class="catalog_table_entry"><p class="column_definition"><code class="structfield">relowner</code> <code class="type">oid</code> (ссылается на <a class="link" href="catalog-pg-authid.html" title="53.8. pg_authid"><code class="structname">pg_authid</code></a>.<code class="structfield">oid</code>)</p>
      <p>Владелец отношения</p></td></tr><tr><td class="catalog_table_entry"><p class="column_definition"><code class="structfield">relam</code> <code class="type">oid</code> (ссылается на <a class="link" href="catalog-pg-am.html" title="53.3. pg_am"><code class="structname">pg_am</code></a>.<code class="structfield">oid</code>)</p>
      <p>Если это таблица или индекс, применяемый метод доступа (куча, B-дерево, хеш и т. д.); ноль в остальных случаях (для последовательностей, а также для нехранимых отношений, например представлений)</p></td></tr><tr><td class="catalog_table_entry"><p class="column_definition">
       <code class="structfield">relfilenode</code> <code class="type">oid</code>
      </p>
      <p>Имя файла на диске с этим отношением; ноль означает, что это <span class="quote">«<span class="quote">отображённое</span>»</span> представление, имя файла для которого определяется состоянием на нижнем уровне</p></td></tr><tr><td class="catalog_table_entry"><p class="column_definition"><code class="structfield">reltablespace</code> <code class="type">oid</code> (ссылается на <a class="link" href="catalog-pg-tablespace.html" title="53.56. pg_tablespace"><code class="structname">pg_tablespace</code></a>.<code class="structfield">oid</code>)</p>
      <p>Табличное пространство, в котором хранится это отношение. Если указан ноль, подразумевается табличное пространство базы данных по умолчанию. Если у отношения нет файла на диске, указанное значение ни на что не влияет, кроме случаев с секционированными таблицами, где это табличное пространство, в котором будут создаваться секции, если пространство не указано явно в команде создания.</p></td></tr><tr><td class="catalog_table_entry"><p class="column_definition">
       <code class="structfield">relpages</code> <code class="type">int4</code>
      </p>
      <p>Размер представления этой таблицы на диске (в страницах размера <code class="symbol">BLCKSZ</code>). Это лишь примерная оценка, используемая планировщиком. Она обновляется командами <a class="link" href="sql-vacuum.html" title="VACUUM"><code class="command">VACUUM</code></a>, <a class="link" href="sql-analyze.html" title="ANALYZE"><code class="command">ANALYZE</code></a> и несколькими командами DDL, например <a class="link" href="sql-createindex.html" title="CREATE INDEX"><code class="command">CREATE INDEX</code></a>.</p></td></tr><tr><td class="catalog_table_entry"><p class="column_definition">
       <code class="structfield">reltuples</code> <code class="type">float4</code>
      </p>
      <p>Число актуальных строк в таблице. Это лишь примерная оценка, используемая планировщиком. Она обновляется командами <a class="link" href="sql-vacuum.html" title="VACUUM"><code class="command">VACUUM</code></a>, <a class="link" href="sql-analyze.html" title="ANALYZE"><code class="command">ANALYZE</code></a> и несколькими командами DDL, например <a class="link" href="sql-createindex.html" title="CREATE INDEX"><code class="command">CREATE INDEX</code></a>. Если таблица ещё не подвергалась очистке или анализу, поле <code class="structfield">reltuples</code> будет содержать <code class="literal">-1</code>, указывая на то, что количество строк неизвестно.</p></td></tr><tr><td class="catalog_table_entry"><p class="column_definition">
       <code class="structfield">relallvisible</code> <code class="type">int4</code>
      </p>
      <p>Число страниц, помеченных как «полностью видимые» в карте видимости таблицы. Это лишь примерная оценка, используемая планировщиком. Она обновляется командами <a class="link" href="sql-vacuum.html" title="VACUUM"><code class="command">VACUUM</code></a>, <a class="link" href="sql-analyze.html" title="ANALYZE"><code class="command">ANALYZE</code></a> и несколькими командами DDL, например <a class="link" href="sql-createindex.html" title="CREATE INDEX"><code class="command">CREATE INDEX</code></a>.</p></td></tr><tr><td class="catalog_table_entry"><p class="column_definition"><code class="structfield">reltoastrelid</code> <code class="type">oid</code> (ссылается на <a class="link" href="catalog-pg-class.html" title="53.11. pg_class"><code class="structname">pg_class</code></a>.<code class="structfield">oid</code>)</p>
      <p>OID таблицы TOAST, связанной с данной таблицей, или ноль, если таковой нет. В таблицу TOAST, как во вторичную, <span class="quote">«<span class="quote">выносятся</span>»</span> большие атрибуты.</p></td></tr><tr><td class="catalog_table_entry"><p class="column_definition">
       <code class="structfield">relhasindex</code> <code class="type">bool</code>
      </p>
      <p>True, если это таблица и она имеет (или недавно имела) индексы</p></td></tr><tr><td class="catalog_table_entry"><p class="column_definition">
       <code class="structfield">relisshared</code> <code class="type">bool</code>
      </p>
      <p>True, если эта таблица разделяется всеми базами данных в кластере. Разделяемыми являются только некоторые системные каталоги (например <a class="link" href="catalog-pg-database.html" title="53.15. pg_database"><code class="structname">pg_database</code></a>).</p></td></tr><tr><td class="catalog_table_entry"><p class="column_definition">
       <code class="structfield">relpersistence</code> <code class="type">char</code>
      </p>
      <p><code class="literal">p</code> = постоянная таблица/последовательность (permanent), <code class="literal">u</code> = нежурналируемая таблица/последовательность (unlogged), <code class="literal">t</code> = временная таблица/последовательность (temporary)</p></td></tr><tr><td class="catalog_table_entry"><p class="column_definition">
       <code class="structfield">relkind</code> <code class="type">char</code>
      </p>
      <p><code class="literal">r</code> = обычная таблица (Relation), <code class="literal">i</code> = индекс (Index), <code class="literal">S</code> = последовательность (Sequence), <code class="literal">t</code> = таблица TOAST, <code class="literal">v</code> = представление (View), <code class="literal">m</code> = материализованное представление (Materialized view), <code class="literal">c</code> = составной тип (Composite type), <code class="literal">f</code> = сторонняя таблица (Foreign table), <code class="literal">p</code> = секционированная таблица (Partitioned table), <code class="literal">I</code> = секционированный индекс (partitioned Index)</p></td></tr><tr><td class="catalog_table_entry"><p class="column_definition">
       <code class="structfield">relnatts</code> <code class="type">int2</code>
      </p>
      <p>Число пользовательских столбцов в отношении (системные столбцы не считаются). Столько же соответствующих строк должно быть в <a class="link" href="catalog-pg-attribute.html" title="53.7. pg_attribute"><code class="structname">pg_attribute</code></a>. См. также <code class="structname">pg_attribute</code>.<code class="structfield">attnum</code>.</p></td></tr><tr><td class="catalog_table_entry"><p class="column_definition">
       <code class="structfield">relchecks</code> <code class="type">int2</code>
      </p>
      <p>Число ограничений <code class="literal">CHECK</code> в таблице; см. каталог <a class="link" href="catalog-pg-constraint.html" title="53.13. pg_constraint"><code class="structname">pg_constraint</code></a></p></td></tr><tr><td class="catalog_table_entry"><p class="column_definition">
       <code class="structfield">relhasrules</code> <code class="type">bool</code>
      </p>
      <p>True, если для таблицы определены (или были определены) правила; см. каталог <a class="link" href="catalog-pg-rewrite.html" title="53.45. pg_rewrite"><code class="structname">pg_rewrite</code></a></p></td></tr><tr><td class="catalog_table_entry"><p class="column_definition">
       <code class="structfield">relhastriggers</code> <code class="type">bool</code>
      </p>
      <p>True, если для таблицы определены (или были определены) триггеры; см. каталог <a class="link" href="catalog-pg-trigger.html" title="53.58. pg_trigger"><code class="structname">pg_trigger</code></a></p></td></tr><tr><td class="catalog_table_entry"><p class="column_definition">
       <code class="structfield">relhassubclass</code> <code class="type">bool</code>
      </p>
      <p>True, если у таблицы или индекса есть (или были) секции или потомки в иерархии наследования.</p></td></tr><tr><td class="catalog_table_entry"><p class="column_definition">
       <code class="structfield">relrowsecurity</code> <code class="type">bool</code>
      </p>
      <p>True, если для таблицы включена защита на уровне строк; см. каталог <a class="link" href="catalog-pg-policy.html" title="53.38. pg_policy"><code class="structname">pg_policy</code></a></p></td></tr><tr><td class="catalog_table_entry"><p class="column_definition">
       <code class="structfield">relforcerowsecurity</code> <code class="type">bool</code>
      </p>
      <p>True, если защита на уровне строк (когда она включена) также применяется к владельцу таблицы; см. каталог <a class="link" href="catalog-pg-policy.html" title="53.38. pg_policy"><code class="structname">pg_policy</code></a></p></td></tr><tr><td class="catalog_table_entry"><p class="column_definition">
       <code class="structfield">relispopulated</code> <code class="type">bool</code>
      </p>
      <p>True, если отношение наполнено данными (это истинно для всех отношений, кроме некоторых материализованных представлений)</p></td></tr><tr><td class="catalog_table_entry"><p class="column_definition">
       <code class="structfield">relreplident</code> <code class="type">char</code>
      </p>
      <p>Столбцы, формирующие <span class="quote">«<span class="quote">идентификатор реплики</span>»</span> для строк: <code class="literal">d</code> = по умолчанию (первичный ключ, если есть), <code class="literal">n</code> = никакие (nothing), <code class="literal">f</code> = все столбцы, <code class="literal">i</code> = индекс со свойством <code class="structfield">indisreplident</code> (если ранее использованный индекс удалён, действует так же, как <code class="literal">n</code>)</p></td></tr><tr><td class="catalog_table_entry"><p class="column_definition">
       <code class="structfield">relispartition</code> <code class="type">bool</code>
      </p>
      <p>True, если таблица или индекс является секцией</p></td></tr><tr><td class="catalog_table_entry"><p class="column_definition"><code class="structfield">relrewrite</code> <code class="type">oid</code> (ссылается на <a class="link" href="catalog-pg-class.html" title="53.11. pg_class"><code class="structname">pg_class</code></a>.<code class="structfield">oid</code>)</p>
      <p>Для новых отношений, записываемых в процессе операции DDL, требующей перезаписи таблицы, это поле содержит OID исходного отношения; в противном случае — ноль. Это состояние видимо только внутри; в этом поле никогда не должно быть ненулевого значения для видимого пользователем отношения.</p></td></tr><tr><td class="catalog_table_entry"><p class="column_definition">
       <code class="structfield">relfrozenxid</code> <code class="type">xid</code>
      </p>
      <p>Идентификаторы транзакций, предшествующие данному, в этой таблице заменены постоянным (<span class="quote">«<span class="quote">замороженным</span>»</span>) идентификатором транзакции. Это нужно для определения, когда требуется очищать таблицу для предотвращения зацикливания идентификаторов или для сокращения объёма <code class="literal">pg_xact</code>. Если это отношение — не таблица, значение равно нулю (<code class="symbol">InvalidTransactionId</code>).</p></td></tr><tr><td class="catalog_table_entry"><p class="column_definition">
       <code class="structfield">relminmxid</code> <code class="type">xid</code>
      </p>
      <p>Идентификаторы мультитранзакций, предшествующие данному, в этой таблице заменены другим идентификатором транзакции. Это нужно для определения, когда требуется очищать таблицу для предотвращения зацикливания идентификаторов мультитранзакций или для сокращения объёма <code class="literal">pg_multixact</code>. Если это отношение — не таблица, значение равно нулю (<code class="symbol">InvalidMultiXactId</code>).</p></td></tr><tr><td class="catalog_table_entry"><p class="column_definition">
       <code class="structfield">relacl</code> <code class="type">aclitem[]</code>
      </p>
      <p>Права доступа; за подробностями обратитесь к <a class="xref" href="ddl-priv.html" title="5.7. Права">Разделу 5.7</a>.</p></td></tr><tr><td class="catalog_table_entry"><p class="column_definition">
       <code class="structfield">reloptions</code> <code class="type">text[]</code>
      </p>
      <p>Специальные параметры для методов доступа, в виде строк <span class="quote">«<span class="quote">ключ=значение</span>»</span></p></td></tr><tr><td class="catalog_table_entry"><p class="column_definition">
       <code class="structfield">relpartbound</code> <code class="type">pg_node_tree</code>
      </p>
      <p>Если таблица является секцией (см. <code class="structfield">relispartition</code>), внутреннее представление границ секции</p></td></tr></tbody></table></div></div><br class="table-break" /><p>Некоторые логические флаги в <code class="structname">pg_class</code> поддерживаются не строго: гарантируется, что они будут установлены при переходе в определённое состояние, но они могут не сбрасываться немедленно, когда условия поменяются. Например, <code class="structfield">relhasindex</code> устанавливается командой <a class="link" href="sql-createindex.html" title="CREATE INDEX"><code class="command">CREATE INDEX</code></a>, но никогда не сбрасывается командой <code class="command">DROP INDEX</code>. Вместо этого, флаг <code class="structfield">relhasindex</code> сбрасывается командой <code class="command">VACUUM</code>, если она находит, что в таблице нет индексов. Такая организация позволяет избежать состояния гонки и способствует параллельному использованию.</p></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="catalog-pg-cast.html" title="53.10. pg_cast">Пред.</a> </td><td width="20%" align="center"><a accesskey="u" href="catalogs.html" title="Глава 53. Системные каталоги">Наверх</a></td><td width="40%" align="right"> <a accesskey="n" href="catalog-pg-collation.html" title="53.12. pg_collation">След.</a></td></tr><tr><td width="40%" align="left" valign="top">53.10. <code class="structname">pg_cast</code> </td><td width="20%" align="center"><a accesskey="h" href="index.html" title="Документация к PostgreSQL 16.3">Начало</a></td><td width="40%" align="right" valign="top"> 53.12. <code class="structname">pg_collation</code></td></tr></table></div></body></html>