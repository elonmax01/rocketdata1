<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>J.2. Инструментарий</title><link rel="stylesheet" type="text/css" href="stylesheet.css" /><link rev="made" href="pgsql-docs@lists.postgresql.org" /><meta name="generator" content="DocBook XSL Stylesheets Vsnapshot" /><link rel="prev" href="docguide-docbook.html" title="J.1. DocBook" /><link rel="next" href="docguide-build.html" title="J.3. Сборка документации с помощью Make" /></head><body id="docContent" class="container-fluid col-10"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="5" align="center">J.2. Инструментарий</th></tr><tr><td width="10%" align="left"><a accesskey="p" href="docguide-docbook.html" title="J.1. DocBook">Пред.</a> </td><td width="10%" align="left"><a accesskey="u" href="docguide.html" title="Приложение J. Документация">Наверх</a></td><th width="60%" align="center">Приложение J. Документация</th><td width="10%" align="right"><a accesskey="h" href="index.html" title="Документация к PostgreSQL 16.3">Начало</a></td><td width="10%" align="right"> <a accesskey="n" href="docguide-build.html" title="J.3. Сборка документации с помощью Make">След.</a></td></tr></table><hr /></div><div class="sect1" id="DOCGUIDE-TOOLSETS"><div class="titlepage"><div><div><h2 class="title" style="clear: both">J.2. Инструментарий <a href="#DOCGUIDE-TOOLSETS" class="id_link">#</a></h2></div></div></div><div class="toc"><dl class="toc"><dt><span class="sect2"><a href="docguide-toolsets.html#DOCGUIDE-TOOLSETS-INST-FEDORA-ET-AL">J.2.1. Установка в Fedora, RHEL и производных системах</a></span></dt><dt><span class="sect2"><a href="docguide-toolsets.html#DOCGUIDE-TOOLSETS-INST-FREEBSD">J.2.2. Установка во FreeBSD</a></span></dt><dt><span class="sect2"><a href="docguide-toolsets.html#DOCGUIDE-TOOLSETS-INST-DEBIAN">J.2.3. Пакеты Debian</a></span></dt><dt><span class="sect2"><a href="docguide-toolsets.html#DOCGUIDE-TOOLSETS-INST-MACOS">J.2.4. macOS</a></span></dt><dt><span class="sect2"><a href="docguide-toolsets.html#DOCGUIDE-TOOLSETS-CONFIGURE">J.2.5. Проверка условий <code class="command">configure</code></a></span></dt></dl></div><p>Для обработки документации применяются следующие средства. Некоторые из них могут быть необязательными, как отмечено ниже. </p><div class="variablelist"><dl class="variablelist"><dt id="DOCGUIDE-TOOLSETS-DOCBOOK-DTD"><span class="term"><a class="ulink" href="https://www.oasis-open.org/docbook/" target="_top">DTD для DocBook</a></span> <a href="#DOCGUIDE-TOOLSETS-DOCBOOK-DTD" class="id_link">#</a></dt><dd><p>Это полное определение самого формата DocBook. В настоящее время мы применяем версию 4.5; более ранняя или более поздняя версия не подойдёт. Использовать нужно <acronym class="acronym">XML</acronym>-вариацию определения DocBook DTD (не <acronym class="acronym">SGML</acronym>).</p></dd><dt id="DOCGUIDE-TOOLSETS-DOCBOOK-XSL"><span class="term"><a class="ulink" href="https://github.com/docbook/wiki/wiki/DocBookXslStylesheets" target="_top">Таблицы стилей DocBook XSL</a></span> <a href="#DOCGUIDE-TOOLSETS-DOCBOOK-XSL" class="id_link">#</a></dt><dd><p>Они содержат инструкции обработки для преобразования исходных материалов DocBook в другие форматы, например, в <acronym class="acronym">HTML</acronym>.</p><p>На данный момент требуется версия как минимум 1.77.0, но для лучшего результата рекомендуется использовать последнюю доступную версию.</p></dd><dt id="DOCGUIDE-TOOLSETS-LIBXML2"><span class="term"><a class="ulink" href="http://xmlsoft.org/" target="_top">Libxml2</a> для <code class="command">xmllint</code></span> <a href="#DOCGUIDE-TOOLSETS-LIBXML2" class="id_link">#</a></dt><dd><p>Эта библиотека и включённая в неё утилита <code class="command">xmllint</code> применяются для обработки XML. У многих разработчиков библиотека <span class="application">Libxml2</span> уже установлена, потому что она также используются при сборке кода PostgreSQL. Заметьте, однако, что <code class="command">xmllint</code> может потребоваться установить из отдельного пакета.</p></dd><dt id="DOCGUIDE-TOOLSETS-LIBXSLT"><span class="term"><a class="ulink" href="http://xmlsoft.org/XSLT/" target="_top">Libxslt</a> для <code class="command">xsltproc</code></span> <a href="#DOCGUIDE-TOOLSETS-LIBXSLT" class="id_link">#</a></dt><dd><p><code class="command">xsltproc</code> — процессор XSLT, то есть программа, преобразующая XML в другие форматы с применением таблиц стилей XSLT.</p></dd><dt id="DOCGUIDE-TOOLSETS-FOP"><span class="term"><a class="ulink" href="https://xmlgraphics.apache.org/fop/" target="_top">FOP</a></span> <a href="#DOCGUIDE-TOOLSETS-FOP" class="id_link">#</a></dt><dd><p>Это программа для преобразования, в том числе и XML в PDF. Она требуется только для сборки документации в формате PDF.</p></dd></dl></div><p>Ниже мы опишем различные варианты установки программного обеспечения, необходимого для обработки документации. Эти программы могут распространяться и в других пакетах. Пожалуйста, сообщите о состоянии конкретного пакета в список рассылки, посвящённый документации, и мы добавим эту информацию сюда.</p><div class="sect2" id="DOCGUIDE-TOOLSETS-INST-FEDORA-ET-AL"><div class="titlepage"><div><div><h3 class="title">J.2.1. Установка в Fedora, RHEL и производных системах <a href="#DOCGUIDE-TOOLSETS-INST-FEDORA-ET-AL" class="id_link">#</a></h3></div></div></div><p>Чтобы установить требуемые пакеты, выполните: </p><pre class="programlisting">yum install docbook-dtds docbook-style-xsl libxslt fop</pre></div><div class="sect2" id="DOCGUIDE-TOOLSETS-INST-FREEBSD"><div class="titlepage"><div><div><h3 class="title">J.2.2. Установка во FreeBSD <a href="#DOCGUIDE-TOOLSETS-INST-FREEBSD" class="id_link">#</a></h3></div></div></div><p>Чтобы установить требуемые пакеты, используя <code class="command">pkg</code>, выполните: </p><pre class="programlisting">pkg install docbook-xml docbook-xsl libxslt fop</pre><p>Собирая документацию из каталога <code class="filename">doc</code>, вы должны применять <code class="command">gmake</code>, так как существующий Makefile не подходит для <code class="command">make</code>, имеющегося во FreeBSD.</p></div><div class="sect2" id="DOCGUIDE-TOOLSETS-INST-DEBIAN"><div class="titlepage"><div><div><h3 class="title">J.2.3. Пакеты Debian <a href="#DOCGUIDE-TOOLSETS-INST-DEBIAN" class="id_link">#</a></h3></div></div></div><p>Для <span class="productname">Debian GNU/Linux</span> имеется полный набор пакетов инструментария сборки документации. Чтобы установить их, просто выполните: </p><pre class="programlisting">apt-get install docbook-xml docbook-xsl libxml2-utils xsltproc fop</pre></div><div class="sect2" id="DOCGUIDE-TOOLSETS-INST-MACOS"><div class="titlepage"><div><div><h3 class="title">J.2.4. macOS <a href="#DOCGUIDE-TOOLSETS-INST-MACOS" class="id_link">#</a></h3></div></div></div><p>Если вы используете систему MacPorts, вы можете получить всё необходимое так: </p><pre class="programlisting">sudo port install docbook-xml docbook-xsl-nons libxslt fop</pre><p> Если вы используете Homebrew, выполните: </p><pre class="programlisting">brew install docbook docbook-xsl libxslt fop</pre><p>Для программ, устанавливаемых с помощью Homebrew, требуется установить следующую переменную среды. Для компьютеров на базе Intel: </p><pre class="programlisting">export XML_CATALOG_FILES=/usr/local/etc/xml/catalog</pre><p> Для компьютеров на базе Apple Silicon: </p><pre class="programlisting">export XML_CATALOG_FILES=/opt/homebrew/etc/xml/catalog</pre><p> Без этой переменной <code class="command">xsltproc</code> будет выдавать такие ошибки: </p><pre class="programlisting">I/O error : Attempt to load network entity http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd
postgres.sgml:21: warning: failed to load external entity "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd"
...</pre><p>Хотя можно использовать версии <code class="command">xmllint</code> и <code class="command">xsltproc</code> от Apple вместо версий от MacPorts или Homebrew, вам всё равно потребуется установить DocBook DTD и стили, а также настроить файл каталога, который будет на них указывать.</p></div><div class="sect2" id="DOCGUIDE-TOOLSETS-CONFIGURE"><div class="titlepage"><div><div><h3 class="title">J.2.5. Проверка условий <code class="command">configure</code> <a href="#DOCGUIDE-TOOLSETS-CONFIGURE" class="id_link">#</a></h3></div></div></div><p>Прежде чем вы сможете собрать документацию, вы должны запустить скрипт <code class="filename">configure</code> так же, как это нужно сделать для сборки программной части <span class="productname">PostgreSQL</span>. Обратите внимание на сообщения, выводимые ближе к концу. Вы должны увидеть примерно следующее: </p><pre class="screen">
checking for xmllint... xmllint
checking for xsltproc... xsltproc
checking for fop... fop
checking for dbtoepub... dbtoepub
</pre><p> Если программа <code class="filename">xmllint</code> или <code class="filename">xsltproc</code> не будет обнаружена, вы не сможете собрать документацию в каком-либо виде. Программа <code class="filename">fop</code> требуется только для сборки документации в формате PDF, а <code class="filename">dbtoepub</code> нужна только для формата EPUB.</p><p>При необходимости вы можете указать <code class="filename">configure</code>, где находятся эти программы, например так: </p><pre class="screen">
./configure ... XMLLINT=/opt/local/bin/xmllint ...
</pre><p>Если вы предпочитаете собирать <span class="productname">PostgreSQL</span> с помощью Meson, вместо этого запустите <code class="command">meson setup</code>, как описано в <a class="xref" href="install-meson.html" title="17.4. Сборка и установка с использованием Meson">Разделе 17.4</a>, а затем обратитесь к <a class="xref" href="docguide-build-meson.html" title="J.4. Сборка документации с помощью Meson">Разделу J.4</a>.</p></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="docguide-docbook.html" title="J.1. DocBook">Пред.</a> </td><td width="20%" align="center"><a accesskey="u" href="docguide.html" title="Приложение J. Документация">Наверх</a></td><td width="40%" align="right"> <a accesskey="n" href="docguide-build.html" title="J.3. Сборка документации с помощью Make">След.</a></td></tr><tr><td width="40%" align="left" valign="top">J.1. DocBook </td><td width="20%" align="center"><a accesskey="h" href="index.html" title="Документация к PostgreSQL 16.3">Начало</a></td><td width="40%" align="right" valign="top"> J.3. Сборка документации с помощью Make</td></tr></table></div></body></html>