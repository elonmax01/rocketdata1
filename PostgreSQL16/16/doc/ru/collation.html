<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>24.2. Поддержка правил сортировки</title><link rel="stylesheet" type="text/css" href="stylesheet.css" /><link rev="made" href="pgsql-docs@lists.postgresql.org" /><meta name="generator" content="DocBook XSL Stylesheets Vsnapshot" /><link rel="prev" href="locale.html" title="24.1. Поддержка языковых стандартов" /><link rel="next" href="multibyte.html" title="24.3. Поддержка кодировок" /></head><body id="docContent" class="container-fluid col-10"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="5" align="center">24.2. Поддержка правил сортировки</th></tr><tr><td width="10%" align="left"><a accesskey="p" href="locale.html" title="24.1. Поддержка языковых стандартов">Пред.</a> </td><td width="10%" align="left"><a accesskey="u" href="charset.html" title="Глава 24. Локализация">Наверх</a></td><th width="60%" align="center">Глава 24. Локализация</th><td width="10%" align="right"><a accesskey="h" href="index.html" title="Документация к PostgreSQL 16.3">Начало</a></td><td width="10%" align="right"> <a accesskey="n" href="multibyte.html" title="24.3. Поддержка кодировок">След.</a></td></tr></table><hr /></div><div class="sect1" id="COLLATION"><div class="titlepage"><div><div><h2 class="title" style="clear: both">24.2. Поддержка правил сортировки <a href="#COLLATION" class="id_link">#</a></h2></div></div></div><div class="toc"><dl class="toc"><dt><span class="sect2"><a href="collation.html#COLLATION-CONCEPTS">24.2.1. Основные понятия</a></span></dt><dt><span class="sect2"><a href="collation.html#COLLATION-MANAGING">24.2.2. Управление правилами сортировки</a></span></dt><dt><span class="sect2"><a href="collation.html#ICU-CUSTOM-COLLATIONS">24.2.3. Пользовательские правила сортировки ICU</a></span></dt></dl></div><a id="id-1.6.11.4.2" class="indexterm"></a><p>Правила сортировки позволяют устанавливать порядок сортировки и особенности классификации символов в отдельных столбцах или даже при выполнении отдельных операций. Это смягчает последствия того, что параметры базы данных <code class="symbol">LC_COLLATE</code> и <code class="symbol">LC_CTYPE</code> невозможно изменить после её создания.</p><div class="sect2" id="COLLATION-CONCEPTS"><div class="titlepage"><div><div><h3 class="title">24.2.1. Основные понятия <a href="#COLLATION-CONCEPTS" class="id_link">#</a></h3></div></div></div><p>Концептуально, каждое выражение с типом данных, к которому применяется сортировка, имеет правила сортировки. (Встроенными сортируемыми типами данных являются <code class="type">text</code>, <code class="type">varchar</code>, и <code class="type">char</code>. Типы, определяемые в базе пользователем, могут также быть отмечены как сортируемые, и, конечно, <a class="glossterm" href="glossary.html#GLOSSARY-DOMAIN"><em class="glossterm"><a class="glossterm" href="glossary.html#GLOSSARY-DOMAIN" title="Домен">домен</a></em></a> на основе сортируемого типа данных является сортируемым.) Если выражение содержит ссылку на столбец, правила сортировки выражения определяются правилами сортировки столбца. Если выражение — константа, правилами сортировки являются стандартные правила для типа данных константы. Правила сортировки более сложных выражений являются производной от правил сортировки входящих в него частей, как описано ниже.</p><p>Правилами сортировки выражения могут быть правила сортировки <span class="quote">«<span class="quote">по умолчанию</span>»</span>, что означает использование параметров локали, установленных для базы данных. Также возможно, что правила сортировки выражения могут не определиться. В таких случаях операции упорядочивания и другие операции, для которых необходимы правила сортировки, завершатся с ошибкой.</p><p>Когда база данных должна выполнить упорядочивание или классификацию символов, она использует правила сортировки выполняемого выражения. Это происходит, к примеру, с предложениями <code class="literal">ORDER BY</code> и такими вызовами функций или операторов как <code class="literal">&lt;</code>. Правила сортировки, которые применяются в предложении <code class="literal">ORDER BY</code>, это просто правила ключа сортировки. Правила сортировки, применяемые к вызову функции или оператора, определяются их параметрами, как описано ниже. В дополнение к операциям сравнения, правила сортировки учитываются функциями, преобразующими регистр символов, такими как <code class="function">lower</code>, <code class="function">upper</code>, и <code class="function">initcap</code>; операторами поиска по шаблону; и функцией <code class="function">to_char</code> и связанными с ней.</p><p>При вызове функции или оператора правило сортировки определяется в зависимости от того, какие правила заданы для аргументов во время выполнения данной операции. Если результатом вызова функции или оператора является сортируемый тип данных, правила сортировки также используются во время разбора как определяемые правила сортировки функции или выражения оператора, когда для внешнего выражения требуется знание правил сортировки.</p><p><em class="firstterm">Определение правил сортировки</em> выражения может быть неявным или явным. Это отличие влияет на то, как комбинируются правила сортировки, когда несколько разных правил появляются в выражении. Явное определение правил сортировки возникает, когда используется предложение <code class="literal">COLLATE</code>; все прочие варианты являются неявными. Когда необходимо объединить несколько правил сортировки, например, в вызове функции, используются следующие правила: </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>Если для одного из выражений-аргументов правило сортировки определено явно, то и для других аргументов явно задаваемое правило должно быть тем же, иначе возникнет ошибка. В случае присутствия явного определения правила сортировки, оно становится результирующим для всей операции.</p></li><li class="listitem"><p>В противном случае все входные выражения должны иметь одни и те же неявно определяемые правила сортировки или правила сортировки по умолчанию. Если присутствуют какие- либо правила сортировки, отличные от заданных по умолчанию, получаем результат комбинации правил сортировки. Иначе результатом станут правила сортировки, заданные по умолчанию.</p></li><li class="listitem"><p>Если среди входных выражений есть конфликтующие неявные правила сортировки, отличные от заданных по умолчанию, тогда комбинация рассматривается как имеющая неопределённые правила сортировки. Это не является условием возникновения ошибки, если вызываемой конкретной функции не требуются данные о правилах сортировки, которые ей следует применить. Если же такие данные требуются, это приведёт к ошибке во время выполнения.</p></li></ol></div><p> В качестве примера рассмотрим данное определение таблицы: </p><pre class="programlisting">CREATE TABLE test1 (
    a text COLLATE "de_DE",
    b text COLLATE "es_ES",
    ...
);</pre><p> Затем в </p><pre class="programlisting">SELECT a &lt; 'foo' FROM test1;</pre><p> выполняется оператор сравнения <code class="literal">&lt;</code> согласно правилам <code class="literal">de_DE</code>, так как выражение объединяет неявно определяемые правила сортировки с правилами, заданными по умолчанию. Но в </p><pre class="programlisting">SELECT a &lt; ('foo' COLLATE "fr_FR") FROM test1;</pre><p> сравнение выполняется с помощью правил <code class="literal">fr_FR</code>, так как явное определение правил сортировки переопределяет неявное. Кроме того, в запросе </p><pre class="programlisting">SELECT a &lt; b FROM test1;</pre><p> анализатор запросов не может определить, какое правило сортировки использовать, поскольку столбцы <code class="structfield">a</code> и <code class="structfield">b</code> имеют конфликтующие неявные правила сортировки. Так как оператору <code class="literal">&lt;</code> требуется знать, какое правило использовать, это приведёт к ошибке. Ошибку можно устранить, применив явное указание правил сортировки к любому из двух входных выражений. Например: </p><pre class="programlisting">SELECT a &lt; b COLLATE "de_DE" FROM test1;</pre><p> либо эквивалентное ему </p><pre class="programlisting">SELECT a COLLATE "de_DE" &lt; b FROM test1;</pre><p> С другой стороны, следующее выражение схожей структуры </p><pre class="programlisting">SELECT a || b FROM test1;</pre><p> не приводит к ошибке, поскольку для оператора <code class="literal">||</code> правила сортировки не имеют значения, так как результат не зависит от сортировки.</p><p>Правила сортировки, назначенные функции или комбинации входных выражений оператора, также могут быть применены к функции или результату оператора, если функция или оператор возвращают результат сортируемого типа данных. Так, в </p><pre class="programlisting">SELECT * FROM test1 ORDER BY a || 'foo';</pre><p> упорядочение будет происходить согласно правилам <code class="literal">de_DE</code>. Но данный запрос: </p><pre class="programlisting">SELECT * FROM test1 ORDER BY a || b;</pre><p> приводит к ошибке, потому что, даже если оператору <code class="literal">||</code> не нужно знать правила сортировки, предложению <code class="literal">ORDER BY</code> это требуется. Как было сказано выше, конфликт может быть разрешён при помощи явного указания правил сортировки: </p><pre class="programlisting">SELECT * FROM test1 ORDER BY a || b COLLATE "fr_FR";</pre></div><div class="sect2" id="COLLATION-MANAGING"><div class="titlepage"><div><div><h3 class="title">24.2.2. Управление правилами сортировки <a href="#COLLATION-MANAGING" class="id_link">#</a></h3></div></div></div><p>Правила сортировки представляют собой объект схемы SQL, который сопоставляет SQL-имя с локалью, реализуемой библиотекой, установленной в операционной системе. В определении правила сортировки задаётся <em class="firstterm">провайдер</em>, то есть библиотека, реализующая правило сортировки. Стандартный провайдер с именем <code class="literal">libc</code> использует системную библиотеку C и предоставляет её локали. Именно эти локали используются большинством утилит операционной системы. Также есть провайдер <code class="literal">icu</code>, который использует внешнюю библиотеку ICU<a id="id-1.6.11.4.5.2.4" class="indexterm"></a>. Локали ICU можно использовать, только если поддержка ICU была включена в конфигурации сборки PostgreSQL.</p><p>Правило сортировки, предоставляемое провайдером <code class="literal">libc</code>, сопоставляется с комбинацией параметров <code class="symbol">LC_COLLATE</code> и <code class="symbol">LC_CTYPE</code>, которую может принять системный вызов <code class="literal">setlocale()</code>. (Основная цель правила сортировки — настроить параметр <code class="symbol">LC_COLLATE</code>, который управляет упорядочиванием символов. Однако на практике редко требуется иметь значение <code class="symbol">LC_CTYPE</code>, отличное от <code class="symbol">LC_COLLATE</code>, поэтому удобнее объединить их в одну сущность, и не создавать отдельную инфраструктуру для указания <code class="symbol">LC_CTYPE</code> в выражениях.) Правила сортировки <code class="literal">libc</code> также связаны с кодировкой набора символов (см. <a class="xref" href="multibyte.html" title="24.3. Поддержка кодировок">Раздел 24.3</a>). Одно и то же имя правила сортировки может существовать для разных кодировок.</p><p>Объект правила сортировки, предоставляемой провайдером <code class="literal">icu</code>, сопоставляется с именованным сортировщиком, реализуемым библиотекой ICU. ICU не поддерживает различные характеристики <span class="quote">«<span class="quote">collate</span>»</span> и <span class="quote">«<span class="quote">ctype</span>»</span>, так что они всегда совпадают. Кроме того, правила сортировки ICU не зависят от кодировки, так что в базе данных будет всего одно правило сортировки ICU с определённым именем.</p><div class="sect3" id="COLLATION-MANAGING-STANDARD"><div class="titlepage"><div><div><h4 class="title">24.2.2.1. Стандартные правила сортировки <a href="#COLLATION-MANAGING-STANDARD" class="id_link">#</a></h4></div></div></div><p>На всех платформах доступны правила сортировки под названием <code class="literal">default</code>, <code class="literal">C</code>, и <code class="literal">POSIX</code>. Дополнительные правила сортировки могут быть доступны в зависимости от поддержки операционной системы. Правило сортировки <code class="literal">default</code> использует значения <code class="symbol">LC_COLLATE</code> и <code class="symbol">LC_CTYPE</code>, заданные при создании базы данных. Правила сортировки <code class="literal">C</code> и <code class="literal">POSIX</code> определяют поведение, характерное для <span class="quote">«<span class="quote">традиционного C</span>»</span>, в котором только знаки кодировки ASCII от <span class="quote">«<span class="quote"><code class="literal">A</code></span>»</span> до <span class="quote">«<span class="quote"><code class="literal">Z</code></span>»</span> рассматриваются как буквы, и сортировка осуществляется строго по символьному коду байтов.</p><div class="note"><h3 class="title">Примечание</h3><p>Локали <code class="literal">C</code> и <code class="literal">POSIX</code> могут демонстрировать разное поведение в зависимости от кодировки базы данных.</p></div><p>Кроме того, доступны два имени правил сортировки, определённых в стандарте SQL: </p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal">unicode</code></span></dt><dd><p>Это правило сортировки использует Алгоритм сортировки Unicode с Таблицей сортировки символов Unicode по умолчанию по умолчанию. Оно доступно во всех кодировках. Для его использования требуется поддержка ICU. (Это правило сортировки работает так же, как и корневая локаль ICU; см. <a class="xref" href="collation.html#COLLATION-MANAGING-PREDEFINED-ICU-UND-X-ICU"><code class="literal">und-x-icu</code> (<span class="quote">«<span class="quote">undefined</span>»</span>, неопределённая)</a>.)</p></dd><dt><span class="term"><code class="literal">ucs_basic</code></span></dt><dd><p>С этим правилом сортировка выполняется по кодам символов Unicode. Оно доступно только для кодировки <code class="literal">UTF8</code>. (Это правило сортировки работают так же, как и правило <code class="literal">C</code> локали libc в кодировке <code class="literal">UTF8</code>.)</p></dd></dl></div></div><div class="sect3" id="COLLATION-MANAGING-PREDEFINED"><div class="titlepage"><div><div><h4 class="title">24.2.2.2. Предопределённые правила сортировки <a href="#COLLATION-MANAGING-PREDEFINED" class="id_link">#</a></h4></div></div></div><p>Если операционная система поддерживает использование нескольких локалей в одной программе (<code class="function">newlocale</code> и связанные функции) или включена поддержка ICU, то при инициализации кластера баз данных программа <code class="command">initdb</code> наполняет системный каталог <code class="literal">pg_collation</code> информацией обо всех локалях, которые обнаруживает в этот момент в операционной системе.</p><p>Для просмотра всех имеющихся локалей выполните запрос <code class="literal">SELECT * FROM pg_collation</code> или команду <code class="command">\dOS+</code> в <span class="application">psql</span>.</p><div class="sect4" id="COLLATION-MANAGING-PREDEFINED-LIBC"><div class="titlepage"><div><div><h5 class="title">24.2.2.2.1. Правила сортировки libc <a href="#COLLATION-MANAGING-PREDEFINED-LIBC" class="id_link">#</a></h5></div></div></div><p>Например, операционная система может предоставлять локаль с именем <code class="literal">de_DE.utf8</code>. При этом программа <code class="command">initdb</code> создаст правило сортировки с именем <code class="literal">de_DE.utf8</code> для кодировки <code class="literal">UTF8</code>, в котором <code class="symbol">LC_COLLATE</code> и <code class="symbol">LC_CTYPE</code> будут равны <code class="literal">de_DE.utf8</code>. Также будет создано правило сортировки с именем без метки <code class="literal">.utf8</code> в окончании. Таким образом, вы можете использовать это правило под именем <code class="literal">de_DE</code>, которое будет компактнее и не будет зависеть от кодировки. Заметьте, что изначальный набор имён правил сортировки, тем не менее, является зависящим от платформы.</p><p>Стандартный набор правил сортировки, предоставляемый провайдером <code class="literal">libc</code>, сопоставляется непосредственно с локалями, установленными в операционной системе (их можно просмотреть с помощью команды <code class="literal">locale -a</code>). В случаях, когда у правила сортировки <code class="literal">libc</code> должны быть различные значения <code class="symbol">LC_COLLATE</code> и <code class="symbol">LC_CTYPE</code>, или когда в операционную систему после инициализации СУБД устанавливаются новые локали, создать новое правило сортировки можно с помощью команды <a class="xref" href="sql-createcollation.html" title="CREATE COLLATION"><span class="refentrytitle">CREATE COLLATION</span></a>. Новые локали операционной системы можно также импортировать в массовом порядке, воспользовавшись функцией <a class="link" href="functions-admin.html#FUNCTIONS-ADMIN-COLLATION" title="Таблица 9.98. Функции управления правилами сортировки"><code class="function">pg_import_system_collations()</code></a>.</p><p>В любой базе данных имеют значение только те правила сортировки, которые используют кодировку этой базы данных. Прочие записи в <code class="literal">pg_collation</code> игнорируются. Таким образом, усечённое имя правил сортировки, такое как <code class="literal">de_DE</code>, может считаться уникальным внутри данной базы данных, даже если бы оно не было уникальным глобально. Использование усечённого имени сортировки рекомендуется, так как при переходе на другую кодировку базы данных придётся выполнить на одно изменение меньше. Однако следует помнить, что правила сортировки <code class="literal">default</code>, <code class="literal">C</code> и <code class="literal">POSIX</code> можно использовать независимо от кодировки базы данных.</p><p>В <span class="productname">PostgreSQL</span> предполагается, что отдельные объекты правил сортировки несовместимы, даже когда они имеют идентичные свойства. Так, например, </p><pre class="programlisting">SELECT a COLLATE "C" &lt; b COLLATE "POSIX" FROM test1;</pre><p> выведет сообщение об ошибке, несмотря на то, что поведение правил сортировки <code class="literal">C</code> и <code class="literal">POSIX</code> идентично. По этой причине смешивать усечённые и полные имена правил сортировки не рекомендуется.</p></div><div class="sect4" id="COLLATION-MANAGING-PREDEFINED-ICU"><div class="titlepage"><div><div><h5 class="title">24.2.2.2.2. Правила сортировки ICU <a href="#COLLATION-MANAGING-PREDEFINED-ICU" class="id_link">#</a></h5></div></div></div><p>С ICU не представляется разумным перечислять все возможные имена локалей. ICU использует для локалей определённую схему именования, но имён локалей может быть гораздо больше, чем собственно различных локалей. Программа <code class="command">initdb</code>, используя API ICU, извлекает список различных локалей и наполняет начальный набор правил в базе данных. Правила сортировки провайдера ICU создаются с именами, включающими метку языка в формате BCP 47 и указание расширения <span class="quote">«<span class="quote">для частного использования</span>»</span> (<code class="literal">-x-icu</code>), для отличия от локалей libc.</p><p>Например, могут быть созданы такие правила сортировки: </p><div class="variablelist"><dl class="variablelist"><dt id="COLLATION-MANAGING-PREDEFINED-ICU-DE-X-ICU"><span class="term"><code class="literal">de-x-icu</code></span> <a href="#COLLATION-MANAGING-PREDEFINED-ICU-DE-X-ICU" class="id_link">#</a></dt><dd><p>Немецкое правило сортировки, стандартный вариант</p></dd><dt id="COLLATION-MANAGING-PREDEFINED-ICU-DE-AT-X-ICU"><span class="term"><code class="literal">de-AT-x-icu</code></span> <a href="#COLLATION-MANAGING-PREDEFINED-ICU-DE-AT-X-ICU" class="id_link">#</a></dt><dd><p>Немецкое правило сортировки для Австрии, стандартный вариант</p><p>(Например, существуют правила <code class="literal">de-DE-x-icu</code> и <code class="literal">de-CH-x-icu</code>, но на момент написания документации они равнозначны правилу <code class="literal">de-x-icu</code>.)</p></dd><dt id="COLLATION-MANAGING-PREDEFINED-ICU-UND-X-ICU"><span class="term"><code class="literal">und-x-icu</code> (<span class="quote">«<span class="quote">undefined</span>»</span>, неопределённая)</span> <a href="#COLLATION-MANAGING-PREDEFINED-ICU-UND-X-ICU" class="id_link">#</a></dt><dd><p><span class="quote">«<span class="quote">Корневое</span>»</span> правило сортировки ICU. Оно устанавливает разумный языконезависимый порядок сортировки.</p></dd></dl></div><p>Некоторые (редко используемые) кодировки не поддерживаются ICU. Когда база имеет одну из таких кодировок, записи правил сортировки ICU в <code class="literal">pg_collation</code> игнорируются. При попытке использовать их будет выдана ошибка с сообщением вида <span class="quote">«<span class="quote">правило сортировки "de-x-icu" для кодировки "WIN874" не существует</span>»</span>.</p></div></div><div class="sect3" id="COLLATION-CREATE"><div class="titlepage"><div><div><h4 class="title">24.2.2.3. Создание новых правил сортировки <a href="#COLLATION-CREATE" class="id_link">#</a></h4></div></div></div><p>Если стандартных и предопределённых правил сортировки недостаточно, пользователи могут создавать собственные правила сортировки, используя команду SQL <a class="xref" href="sql-createcollation.html" title="CREATE COLLATION"><span class="refentrytitle">CREATE COLLATION</span></a>.</p><p>Стандартные и предопределённые правила сортировки находятся в схеме <code class="literal">pg_catalog</code>, как и все предопределённые объекты. Пользовательские правила сортировки должны создаваться в пользовательских схемах. Помимо прочего, это полезно тем, что их будет выгружать <code class="command">pg_dump</code>.</p><div class="sect4" id="COLLATION-MANAGING-CREATE-LIBC"><div class="titlepage"><div><div><h5 class="title">24.2.2.3.1. Правила сортировки libc <a href="#COLLATION-MANAGING-CREATE-LIBC" class="id_link">#</a></h5></div></div></div><p>Новые правила сортировки libc могут создаваться так: </p><pre class="programlisting">CREATE COLLATION german (provider = libc, locale = 'de_DE');</pre><p> Точные значения, которые могут допускаться в предложении <code class="literal">locale</code> в этой команде, зависят от операционной системы. В Unix-подобных системах их список выдаёт команда <code class="literal">locale -a</code>.</p><p>Так как предопределённый набор правил сортировки libc уже включает все правила сортировки, определённые в операционной системе в момент инициализации базы данных, необходимость создавать новые правила вручную обычно не возникает. Такая потребность может возникнуть, когда нужно сменить систему именования (в этом случае см. <a class="xref" href="collation.html#COLLATION-COPY" title="24.2.2.3.3. Копирование правил сортировки">Подраздел 24.2.2.3.3</a>) либо когда операционная система была обновлена и в ней появились новые определения локалей (в этом случае см. <a class="link" href="functions-admin.html#FUNCTIONS-ADMIN-COLLATION" title="Таблица 9.98. Функции управления правилами сортировки"><code class="function">pg_import_system_collations()</code></a>).</p></div><div class="sect4" id="COLLATION-MANAGING-CREATE-ICU"><div class="titlepage"><div><div><h5 class="title">24.2.2.3.2. Правила сортировки ICU <a href="#COLLATION-MANAGING-CREATE-ICU" class="id_link">#</a></h5></div></div></div><p>Правила сортировки ICU могут быть созданы следующим образом: </p><pre class="programlisting">CREATE COLLATION german (provider = icu, locale = 'de-DE');</pre><p> Имена локалей ICU указываются как <a class="link" href="locale.html#ICU-LANGUAGE-TAG" title="24.1.5.3. Языковая метка">языковые метки</a> BCP 47, но также принимается большинство имён локалей в стиле libc. Если это возможно, имена локалей в стиле libc преобразуются в языковые метки.</p><p>Для новых правил сортировки ICU допускается настройка поведения путём указания параметров в языковой метке. За подробным описанием и примерами обратитесь к <a class="xref" href="collation.html#ICU-CUSTOM-COLLATIONS" title="24.2.3. Пользовательские правила сортировки ICU">Подразделу 24.2.3</a>.</p></div><div class="sect4" id="COLLATION-COPY"><div class="titlepage"><div><div><h5 class="title">24.2.2.3.3. Копирование правил сортировки <a href="#COLLATION-COPY" class="id_link">#</a></h5></div></div></div><p>Команда <a class="xref" href="sql-createcollation.html" title="CREATE COLLATION"><span class="refentrytitle">CREATE COLLATION</span></a> может также создать новое правило сортировки из существующего, что может быть полезно для использования имён, независимых от операционных систем, создания имён для совместимости или использования правил сортировки ICU под более понятными именами. Например: </p><pre class="programlisting">CREATE COLLATION german FROM "de_DE";
CREATE COLLATION french FROM "fr-x-icu";</pre></div></div><div class="sect3" id="COLLATION-NONDETERMINISTIC"><div class="titlepage"><div><div><h4 class="title">24.2.2.4. Недетерминированные правила сортировки <a href="#COLLATION-NONDETERMINISTIC" class="id_link">#</a></h4></div></div></div><p>Правило сортировки может быть либо <em class="firstterm">детерминированным</em>, либо <em class="firstterm">недетерминированным</em>. С детерминированными правилами сортировки используются детерминированные сравнения, что означает, что сроки считаются равными, только если они состоят из одинаковой последовательности байтов. Недетерминированное же сравнение может признать равными строки, состоящие и из разных байтов. Обычно это требуется при сравнении без учёта регистра или ударения, а также при сравнении строк в различных нормальных формах Unicode. Как именно будут реализованы подобные сравнения, определяется провайдером правил сортировки; флаг детерминированности только отмечает, будет ли вопрос равенства решаться побайтовым сравнением. Подробнее сопутствующая терминология описывается в <a class="ulink" href="https://www.unicode.org/reports/tr10" target="_top">Техническом стандарте Unicode 10</a>.</p><p>Чтобы создать недетерминированное правило сортировки, укажите свойство <code class="literal">deterministic = false</code> в команде <code class="command">CREATE COLLATION</code>, например так: </p><pre class="programlisting">CREATE COLLATION ndcoll (provider = icu, locale = 'und', deterministic = false);</pre><p> В данном примере будет использоваться стандартное правило сортировки Unicode в недетерминированном режиме. В частности, это позволит корректно сравнивать строки в различных нормальных формах. Для более интересных применений задействуются специальные возможности ICU, рассмотренные выше. Например: </p><pre class="programlisting">CREATE COLLATION case_insensitive (provider = icu, locale = 'und-u-ks-level2', deterministic = false);
CREATE COLLATION ignore_accents (provider = icu, locale = 'und-u-ks-level1-kc-true', deterministic = false);</pre><p>Все стандартные и предопределённые правила сортировки являются детерминированными, и так же детерминированными по умолчанию создаются пользовательские правила. Недетерминированные правила сортировки обеспечивают более <span class="quote">«<span class="quote">правильное</span>»</span> поведение, особенно в части использования всех возможностей Unicode и обработки множества особых случаев, но они имеют и ряд недостатков. Прежде всего, их применение отрицательно сказывается на производительности. Заметьте в частности, что в B-деревьях с недетерминированным правилами не будет производиться исключение дубликатов. К тому же с недетерминированными правилами сортировки невозможны некоторые операции, например, поиск по шаблону. Поэтому применять их следует только тогда, когда в этом есть явная необходимость.</p><div class="tip"><h3 class="title">Подсказка</h3><p>Для эффективной обработки текста в различных формах нормализации Unicode также можно использовать функции/выражения <code class="function">normalize</code> и <code class="literal">is normalized</code>, позволяющие предварительно обработать или проверить строки, и не прибегать к использованию недетерминированных правил сортировки. Однако каждый подход имеет свои минусы.</p></div></div></div><div class="sect2" id="ICU-CUSTOM-COLLATIONS"><div class="titlepage"><div><div><h3 class="title">24.2.3. Пользовательские правила сортировки ICU <a href="#ICU-CUSTOM-COLLATIONS" class="id_link">#</a></h3></div></div></div><p>ICU позволяет управлять поведением правил сортировки путём определения новых правил с параметрами, заданными в виде части языковой метки. Эти параметры могут изменить порядок сортировки в соответствии с различными потребностями. Например: </p><pre class="programlisting">-- игнорировать различия в диакритических знаках и регистре
CREATE COLLATION ignore_accent_case (provider = icu, deterministic = false, locale = 'und-u-ks-level1');
SELECT 'Å' = 'A' COLLATE ignore_accent_case; -- true
SELECT 'z' = 'Z' COLLATE ignore_accent_case; -- true

-- буквы в верхнем регистре идут перед буквами в нижнем
CREATE COLLATION upper_first (provider = icu, locale = 'und-u-kf-upper');
SELECT 'B' &lt; 'b' COLLATE upper_first; -- true

-- сортировать последовательности цифр по числовым значениям и игнорировать знаки пунктуации
CREATE COLLATION num_ignore_punct (provider = icu, deterministic = false, locale = 'und-u-ka-shifted-kn');
SELECT 'id-45' &lt; 'id-123' COLLATE num_ignore_punct; -- true
SELECT 'w;x*y-z' = 'wxyz' COLLATE num_ignore_punct; -- true</pre><p> Многие доступные параметры описаны в <a class="xref" href="collation.html#ICU-COLLATION-SETTINGS" title="24.2.3.2. Параметры правил сортировки для локали ICU">Подразделе 24.2.3.2</a>, а дополнительную информацию можно найти в <a class="xref" href="collation.html#ICU-EXTERNAL-REFERENCES" title="24.2.3.5. Ссылки на внешние ресурсы про ICU">Подразделе 24.2.3.5</a>.</p><div class="sect3" id="ICU-COLLATION-COMPARISON-LEVELS"><div class="titlepage"><div><div><h4 class="title">24.2.3.1. Уровни сравнения ICU <a href="#ICU-COLLATION-COMPARISON-LEVELS" class="id_link">#</a></h4></div></div></div><p>Сравнение двух строк (сортировка) в ICU определяется многоуровневым процессом, в котором текстовые признаки сгруппированы в «уровни». Обработка каждого уровня зависит от <a class="link" href="collation.html#ICU-COLLATION-SETTINGS-TABLE" title="Таблица 24.2. Параметр правил сортировки ICU">параметрами правил сортировки</a>. На более высоких уровнях выполняется более детальное сравнение.</p><p><a class="xref" href="collation.html#ICU-COLLATION-LEVELS" title="Таблица 24.1. Уровни сортировки ICU">Таблица 24.1</a> показывает, какие различия в текстовых признаках имеют приоритет при сравнении на данном уровне. Символ Unicode <code class="literal">U+2063</code> является невидимым разделителем и, как видно из таблицы, игнорируется на всех уровнях сравнения ниже <code class="literal">identic</code>.</p><div class="table" id="ICU-COLLATION-LEVELS"><p class="title"><strong>Таблица 24.1. Уровни сортировки ICU</strong></p><div class="table-contents"><table class="table" summary="Уровни сортировки ICU" border="1"><colgroup><col class="col1" /><col class="col2" /><col class="col3" /><col class="col4" /><col class="col5" /><col class="col6" /><col class="col7" /><col class="col8" /></colgroup><thead><tr><th>Уровень</th><th>Описание</th><th><code class="literal">'f' = 'f'</code></th><th><code class="literal">'ab' = U&amp;'a\2063b'</code></th><th><code class="literal">'x-y' = 'x_y'</code></th><th><code class="literal">'g' = 'G'</code></th><th><code class="literal">'n' = 'ñ'</code></th><th><code class="literal">'y' = 'z'</code></th></tr></thead><tbody><tr><td>level1</td><td>Базовый символ</td><td><code class="literal">true</code></td><td><code class="literal">true</code></td><td><code class="literal">true</code></td><td><code class="literal">true</code></td><td><code class="literal">true</code></td><td><code class="literal">false</code></td></tr><tr><td>level2</td><td>Диакритические знаки</td><td><code class="literal">true</code></td><td><code class="literal">true</code></td><td><code class="literal">true</code></td><td><code class="literal">true</code></td><td><code class="literal">false</code></td><td><code class="literal">false</code></td></tr><tr><td>level3</td><td>Регистры/Варианты</td><td><code class="literal">true</code></td><td><code class="literal">true</code></td><td><code class="literal">true</code></td><td><code class="literal">false</code></td><td><code class="literal">false</code></td><td><code class="literal">false</code></td></tr><tr><td>level4</td><td>Знаки пунктуации</td><td><code class="literal">true</code></td><td><code class="literal">true</code></td><td><code class="literal">false</code></td><td><code class="literal">false</code></td><td><code class="literal">false</code></td><td><code class="literal">false</code></td></tr><tr><td>identic</td><td>Все</td><td><code class="literal">true</code></td><td><code class="literal">false</code></td><td><code class="literal">false</code></td><td><code class="literal">false</code></td><td><code class="literal">false</code></td><td><code class="literal">false</code></td></tr></tbody></table></div></div><br class="table-break" /><p>На каждом уровне, даже при выключенной полной нормализации, выполняется базовая нормализация. Например, <code class="literal">'á'</code> может состоять из кодов символов <code class="literal">U&amp;'\0061\0301'</code> или одного кода символа <code class="literal">U&amp;'\00E1'</code>, и эти последовательности будут считаться равными даже на уровне <code class="literal">identic</code>. Чтобы учитывались любые различия в представлениях кодов символов, используйте параметры правил сортировки, созданные с параметром <code class="symbol">deterministic</code>, который имеет значение <code class="literal">true</code>.</p><div class="sect4" id="ICU-COLLATION-LEVEL-EXAMPLES"><div class="titlepage"><div><div><h5 class="title">24.2.3.1.1. Примеры уровней сортировки <a href="#ICU-COLLATION-LEVEL-EXAMPLES" class="id_link">#</a></h5></div></div></div><pre class="programlisting">CREATE COLLATION level3 (provider = icu, deterministic = false, locale = 'und-u-ka-shifted-ks-level3');
CREATE COLLATION level4 (provider = icu, deterministic = false, locale = 'und-u-ka-shifted-ks-level4');
CREATE COLLATION identic (provider = icu, deterministic = false, locale = 'und-u-ka-shifted-ks-identic');

-- невидимый разделитель, игнорируемый на всех уровнях кроме identic
SELECT 'ab' = U&amp;'a\2063b' COLLATE level4; -- true
SELECT 'ab' = U&amp;'a\2063b' COLLATE identic; -- false

-- знаки пунктуации игнорируются на уровне 3, но не на уровне 4
SELECT 'x-y' = 'x_y' COLLATE level3; -- true
SELECT 'x-y' = 'x_y' COLLATE level4; -- false</pre></div></div><div class="sect3" id="ICU-COLLATION-SETTINGS"><div class="titlepage"><div><div><h4 class="title">24.2.3.2. Параметры правил сортировки для локали ICU <a href="#ICU-COLLATION-SETTINGS" class="id_link">#</a></h4></div></div></div><p><a class="xref" href="collation.html#ICU-COLLATION-SETTINGS-TABLE" title="Таблица 24.2. Параметр правил сортировки ICU">Таблица 24.2</a> показывает доступные параметры правил сортировки, которые можно использовать как часть языковой метки для настройки правил сортировки.</p><div class="table" id="ICU-COLLATION-SETTINGS-TABLE"><p class="title"><strong>Таблица 24.2. Параметр правил сортировки ICU</strong></p><div class="table-contents"><table class="table" summary="Параметр правил сортировки ICU" border="1"><colgroup><col class="col1" /><col class="col2" /><col class="col3" /><col class="col4" /></colgroup><thead><tr><th>Ключ</th><th>Значения</th><th>По умолчанию</th><th>Описание</th></tr></thead><tbody><tr><td><code class="literal">co</code></td><td><code class="literal">emoji</code>, <code class="literal">phonebk</code>, <code class="literal">standard</code>, <em class="replaceable"><code>...</code></em></td><td><code class="literal">standard</code></td><td>Тип правил сортировки. Обратитесь к <a class="xref" href="collation.html#ICU-EXTERNAL-REFERENCES" title="24.2.3.5. Ссылки на внешние ресурсы про ICU">Подразделу 24.2.3.5</a> для получения дополнительной информации.</td></tr><tr><td><code class="literal">ka</code></td><td><code class="literal">noignore</code>, <code class="literal">shifted</code></td><td><code class="literal">noignore</code></td><td>Если установлено значение <code class="literal">shifted</code>, некоторые символы (например, знаки препинания или пробел) игнорируются при сравнении. Чтобы ключ <code class="literal">ks</code> применялся, он должен быть установлен на уровне <code class="literal">level3</code> или ниже. Установите ключ <code class="literal">kv</code>, чтобы указать игнорируемые классы символов.</td></tr><tr><td><code class="literal">kb</code></td><td><code class="literal">true</code>, <code class="literal">false</code></td><td><code class="literal">false</code></td><td>Обратное сравнение для различий уровня 2. Например, с локалью <code class="literal">und-u-kb</code> <code class="literal">'àe'</code> окажется перед <code class="literal">'aé'</code>.</td></tr><tr><td><code class="literal">kc</code></td><td><code class="literal">true</code>, <code class="literal">false</code></td><td><code class="literal">false</code></td><td>
          <p>Относит случай к «уровню 2.5», который находится между диакритическими знаками и другими признаками уровня 3.</p>
          <p>Если установлено значение <code class="literal">true</code>, а для <code class="literal">ks</code> установлено значение <code class="literal">level1</code>, диакритические знаки будут игнорироваться, но будет учитываться регистр.</p>
         </td></tr><tr><td><code class="literal">kf</code></td><td><code class="literal">upper</code>, <code class="literal">lower</code>, <code class="literal">false</code></td><td><code class="literal">false</code></td><td>Если установлено значение <code class="literal">upper</code>, символы в верхнем регистре идут перед символами в нижнем, а если <code class="literal">lower</code> — наоборот. Если установлено значение <code class="literal">false</code>, сортировка зависит от правил локали.</td></tr><tr><td><code class="literal">kn</code></td><td><code class="literal">true</code>, <code class="literal">false</code></td><td><code class="literal">false</code></td><td>Если установлено значение <code class="literal">true</code>, последовательности цифр сортируются по числовым значениям. Например, <code class="literal">'id-45'</code> окажется перед <code class="literal">'id-123'</code>.</td></tr><tr><td><code class="literal">kk</code></td><td><code class="literal">true</code>, <code class="literal">false</code></td><td><code class="literal">false</code></td><td>
          <p>Включает полную нормализацию, может повлиять на производительность. Базовая нормализация выполняется, даже если установлено значение <code class="literal">false</code>. Локали для языков, требующих полной нормализации, обычно включают её по умолчанию.</p>
          <p>В некоторых случаях важна полная нормализация, например, когда к одному символу применяется несколько диакритических знаков. Например, последовательности кодов символов <code class="literal">U&amp;'\0065\0323\0302'</code> и <code class="literal">U&amp;'\0065\0302\0323'</code> представляют собой <code class="literal">e</code> с циркумфлексом и точками снизу, применяемыми в разном порядке. При включённой полной нормализации эти последовательности кодов символов рассматриваются как равные, в противном случае они неравны.</p>
         </td></tr><tr><td><code class="literal">kr</code></td><td><code class="literal">space</code>, <code class="literal">punct</code>, <code class="literal">symbol</code>, <code class="literal">currency</code>, <code class="literal">digit</code>, <em class="replaceable"><code>id_скрипта</code></em></td><td> </td><td>
          <p>Принимает одно или несколько допустимых значений или любой <em class="replaceable"><code>id_скрипта</code></em> BCP 47, например <code class="literal">latn</code> («латынь») или <code class="literal">grek</code> («греческий»). Несколько значений разделяются знаком «<code class="literal">-</code>».</p>
          <p>Переопределяет упорядочение классов символов: символы, принадлежащие более раннему классу в списке, указываются перед символами, принадлежащими более позднему классу в списке. Например, значение <code class="literal">digit-currency-space</code> (как часть языковой метки, такой как <code class="literal">und-u-kr-digit-currency-space</code>) сортирует знаки препинания перед цифрами и пробелами.</p>
         </td></tr><tr><td><code class="literal">ks</code></td><td><code class="literal">level1</code>, <code class="literal">level2</code>, <code class="literal">level3</code>, <code class="literal">level4</code>, <code class="literal">identic</code></td><td><code class="literal">level3</code></td><td>Чувствительность (или «степень») при сравнении, где на уровне на уровне <code class="literal">identic</code> большинство различий учитывается, а на уровне <code class="literal">level1</code> — игнорируется. За подробностями обратитесь к <a class="xref" href="collation.html#ICU-COLLATION-LEVELS" title="Таблица 24.1. Уровни сортировки ICU">Таблице 24.1</a>.</td></tr><tr><td><code class="literal">kv</code></td><td><code class="literal">space</code>, <code class="literal">punct</code>, <code class="literal">symbol</code>, <code class="literal">currency</code></td><td><code class="literal">punct</code></td><td>Классы символов игнорируются при сравнении на уровне 3. Установка следующего значения в списке включает все предыдущие, например <code class="literal">symbol</code> также включает <code class="literal">punct</code> и <code class="literal">space</code> в символах, которые следует игнорировать. Чтобы работать, ключ <code class="literal">ka</code> должен иметь значение <code class="literal">shifted</code>, а ключ <code class="literal">ks</code> — значение <code class="literal">level3</code> или ниже.</td></tr></tbody></table></div></div><br class="table-break" /><p>Значения по умолчанию могут зависеть от локали. Приведённая выше таблица не является полной. Обратитесь к <a class="xref" href="collation.html#ICU-EXTERNAL-REFERENCES" title="24.2.3.5. Ссылки на внешние ресурсы про ICU">Подразделу 24.2.3.5</a> для получения дополнительной информации.</p><div class="note"><h3 class="title">Примечание</h3><p>В случае со многими параметрами правил сортировки, чтобы конкретный параметр имел желаемый эффект, нужно создавать правила сортировки с параметром <code class="option">deterministic</code>, для которого задано значение <code class="literal">false</code> (см. <a class="xref" href="collation.html#COLLATION-NONDETERMINISTIC" title="24.2.2.4. Недетерминированные правила сортировки">Подраздел 24.2.2.4</a>). Кроме того, некоторые параметры вступают в силу только тогда, когда для ключа <code class="literal">ka</code> установлено значение <code class="literal">shifted</code> (см. <a class="xref" href="collation.html#ICU-COLLATION-SETTINGS-TABLE" title="Таблица 24.2. Параметр правил сортировки ICU">Таблицу 24.2</a>).</p></div></div><div class="sect3" id="ICU-LOCALE-EXAMPLES"><div class="titlepage"><div><div><h4 class="title">24.2.3.3. Примеры параметров правил сортировки <a href="#ICU-LOCALE-EXAMPLES" class="id_link">#</a></h4></div></div></div><div class="variablelist"><dl class="variablelist"><dt id="COLLATION-MANAGING-CREATE-ICU-DE-U-CO-PHONEBK-X-ICU"><span class="term"><code class="literal">CREATE COLLATION "de-u-co-phonebk-x-icu" (provider = icu, locale = 'de-u-co-phonebk');</code></span> <a href="#COLLATION-MANAGING-CREATE-ICU-DE-U-CO-PHONEBK-X-ICU" class="id_link">#</a></dt><dd><p>Немецкое правило сортировки с порядком, принятым для телефонной книги</p></dd><dt id="COLLATION-MANAGING-CREATE-ICU-UND-U-CO-EMOJI-X-ICU"><span class="term"><code class="literal">CREATE COLLATION "und-u-co-emoji-x-icu" (provider = icu, locale = 'und-u-co-emoji');</code></span> <a href="#COLLATION-MANAGING-CREATE-ICU-UND-U-CO-EMOJI-X-ICU" class="id_link">#</a></dt><dd><p>Корневое правило с сортировкой эмодзи, соответствующее техническому стандарту Unicode №51</p></dd><dt id="COLLATION-MANAGING-CREATE-ICU-EN-U-KR-GREK-LATN"><span class="term"><code class="literal">CREATE COLLATION latinlast (provider = icu, locale = 'en-u-kr-grek-latn');</code></span> <a href="#COLLATION-MANAGING-CREATE-ICU-EN-U-KR-GREK-LATN" class="id_link">#</a></dt><dd><p>Правило сортировки, с которым греческие буквы идут перед латинскими. (По умолчанию сначала идут латинские буквы.)</p></dd><dt id="COLLATION-MANAGING-CREATE-ICU-EN-U-KF-UPPER"><span class="term"><code class="literal">CREATE COLLATION upperfirst (provider = icu, locale = 'en-u-kf-upper');</code></span> <a href="#COLLATION-MANAGING-CREATE-ICU-EN-U-KF-UPPER" class="id_link">#</a></dt><dd><p>Правило сортировки, с которым буквы в верхнем регистре идут перед буквами в нижнем. (По умолчанию сначала идут буквы в нижнем регистре.)</p></dd><dt id="COLLATION-MANAGING-CREATE-ICU-EN-U-KF-UPPER-KR-GREK-LATN"><span class="term"><code class="literal">CREATE COLLATION special (provider = icu, locale = 'en-u-kf-upper-kr-grek-latn');</code></span> <a href="#COLLATION-MANAGING-CREATE-ICU-EN-U-KF-UPPER-KR-GREK-LATN" class="id_link">#</a></dt><dd><p>Правило, в котором сочетаются предыдущие свойства.</p></dd></dl></div></div><div class="sect3" id="ICU-TAILORING-RULES"><div class="titlepage"><div><div><h4 class="title">24.2.3.4. Правила для сортировки ICU <a href="#ICU-TAILORING-RULES" class="id_link">#</a></h4></div></div></div><p>Если вышеуказанных параметров правил сортировки недостаточно, порядок элементов сортировки можно изменить с помощью особых правил сортировки, синтаксис которых подробно описан в <a class="ulink" href="https://unicode-org.github.io/icu/userguide/collation/customization/" target="_top">https://unicode-org.github.io/icu/userguide/collation/customization/</a>.</p><p>В этом простом примере создаётся правило сортировки на основе корневой локали с дополнительным условием сортировки: </p><pre class="programlisting">
CREATE COLLATION custom (provider = icu, locale = 'und', rules = '&amp;V &lt;&lt; w &lt;&lt;&lt; W');
</pre><p> Так буква <span class="quote">«<span class="quote">W</span>»</span> окажется осле <span class="quote">«<span class="quote">V</span>»</span>, но это условие рассматривается как второстепенное отличие, подобное диакритическому знаку. Такие правила содержатся в определениях локалей некоторых языков. (Конечно, если определение локали уже содержит нужные правила, их не нужно снова указывать явно.)</p><p>Ниже показан более сложный пример. Следующий оператор задаёт правило сортировки с именем <code class="literal">ebcdic</code>, при использовании которого символы US-ASCII сортируются в порядке, соответствующем кодировке EBCDIC. </p><pre class="programlisting">CREATE COLLATION ebcdic (provider = icu, locale = 'und',
rules = $$
&amp; ' ' &lt; '.' &lt; '&lt;' &lt; '(' &lt; '+' &lt; \|
&lt; '&amp;' &lt; '!' &lt; '$' &lt; '*' &lt; ')' &lt; ';'
&lt; '-' &lt; '/' &lt; ',' &lt; '%' &lt; '_' &lt; '&gt;' &lt; '?'
&lt; '`' &lt; ':' &lt; '#' &lt; '@' &lt; \' &lt; '=' &lt; '"'
&lt;*a-r &lt; '~' &lt;*s-z &lt; '^' &lt; '[' &lt; ']'
&lt; '{' &lt;*A-I &lt; '}' &lt;*J-R &lt; '\' &lt;*S-Z &lt;*0-9
$$);

SELECT c
FROM (VALUES ('a'), ('b'), ('A'), ('B'), ('1'), ('2'), ('!'), ('^')) AS x(c)
ORDER BY c COLLATE ebcdic;
 c
---
 !
 a
 b
 ^
 A
 B
 1
 2</pre></div><div class="sect3" id="ICU-EXTERNAL-REFERENCES"><div class="titlepage"><div><div><h4 class="title">24.2.3.5. Ссылки на внешние ресурсы про ICU <a href="#ICU-EXTERNAL-REFERENCES" class="id_link">#</a></h4></div></div></div><p>Этот раздел (<a class="xref" href="collation.html#ICU-CUSTOM-COLLATIONS" title="24.2.3. Пользовательские правила сортировки ICU">Подраздел 24.2.3</a>) представляет собой лишь краткий обзор поведения ICU и языковых меток. Технические подробности, дополнительные параметры и новое поведение описаны в следующих документах:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a class="ulink" href="https://www.unicode.org/reports/tr35/tr35-collation.html" target="_top">Технический стандарт Unicode №35</a></p></li><li class="listitem"><p><a class="ulink" href="https://www.rfc-editor.org/info/bcp47" target="_top">BCP 47</a></p></li><li class="listitem"><p><a class="ulink" href="https://github.com/unicode-org/cldr/blob/master/common/bcp47/collation.xml" target="_top">репозиторий CLDR</a></p></li><li class="listitem"><p><a class="ulink" href="https://unicode-org.github.io/icu/userguide/locale/" target="_top">https://unicode-org.github.io/icu/userguide/locale/</a></p></li><li class="listitem"><p><a class="ulink" href="https://unicode-org.github.io/icu/userguide/collation/" target="_top">https://unicode-org.github.io/icu/userguide/collation/</a></p></li></ul></div></div></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="locale.html" title="24.1. Поддержка языковых стандартов">Пред.</a> </td><td width="20%" align="center"><a accesskey="u" href="charset.html" title="Глава 24. Локализация">Наверх</a></td><td width="40%" align="right"> <a accesskey="n" href="multibyte.html" title="24.3. Поддержка кодировок">След.</a></td></tr><tr><td width="40%" align="left" valign="top">24.1. Поддержка языковых стандартов </td><td width="20%" align="center"><a accesskey="h" href="index.html" title="Документация к PostgreSQL 16.3">Начало</a></td><td width="40%" align="right" valign="top"> 24.3. Поддержка кодировок</td></tr></table></div></body></html>