<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>8.10. Битовые строки</title><link rel="stylesheet" type="text/css" href="stylesheet.css" /><link rev="made" href="pgsql-docs@lists.postgresql.org" /><meta name="generator" content="DocBook XSL Stylesheets Vsnapshot" /><link rel="prev" href="datatype-net-types.html" title="8.9. Типы, описывающие сетевые адреса" /><link rel="next" href="datatype-textsearch.html" title="8.11. Типы, предназначенные для текстового поиска" /></head><body id="docContent" class="container-fluid col-10"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="5" align="center">8.10. Битовые строки</th></tr><tr><td width="10%" align="left"><a accesskey="p" href="datatype-net-types.html" title="8.9. Типы, описывающие сетевые адреса">Пред.</a> </td><td width="10%" align="left"><a accesskey="u" href="datatype.html" title="Глава 8. Типы данных">Наверх</a></td><th width="60%" align="center">Глава 8. Типы данных</th><td width="10%" align="right"><a accesskey="h" href="index.html" title="Документация к PostgreSQL 16.3">Начало</a></td><td width="10%" align="right"> <a accesskey="n" href="datatype-textsearch.html" title="8.11. Типы, предназначенные для текстового поиска">След.</a></td></tr></table><hr /></div><div class="sect1" id="DATATYPE-BIT"><div class="titlepage"><div><div><h2 class="title" style="clear: both">8.10. Битовые строки <a href="#DATATYPE-BIT" class="id_link">#</a></h2></div></div></div><a id="id-1.5.7.18.2" class="indexterm"></a><p>Битовые строки представляют собой последовательности из 1 и 0. Их можно использовать для хранения или отображения битовых масок. В SQL есть два битовых типа: <code class="type">bit(<em class="replaceable"><code>n</code></em>)</code> и <code class="type">bit varying(<em class="replaceable"><code>n</code></em>)</code>, где <em class="replaceable"><code>n</code></em> — положительное целое число.</p><p>Длина значения типа <code class="type">bit</code> должна в точности равняться <em class="replaceable"><code>n</code></em>; при попытке сохранить данные длиннее или короче произойдёт ошибка. Данные типа <code class="type">bit varying</code> могут иметь переменную длину, но не превышающую <em class="replaceable"><code>n</code></em>; строки большей длины не будут приняты. Запись <code class="type">bit</code> без указания длины равнозначна записи <code class="literal">bit(1)</code>, тогда как <code class="type">bit varying</code> без указания длины подразумевает строку неограниченной длины.</p><div class="note"><h3 class="title">Примечание</h3><p>При попытке привести значение битовой строки к типу <code class="type">bit(<em class="replaceable"><code>n</code></em>)</code>, оно будет усечено или дополнено нулями справа до длины ровно <em class="replaceable"><code>n</code></em> бит, ошибки при этом не будет. Подобным образом, если явно привести значение битовой строки к типу <code class="type">bit varying(<em class="replaceable"><code>n</code></em>)</code>, она будет усечена справа, если её длина превышает <em class="replaceable"><code>n</code></em> бит.</p></div><p>Синтаксис констант битовых строк описан в <a class="xref" href="sql-syntax-lexical.html#SQL-SYNTAX-BIT-STRINGS" title="4.1.2.5. Битовые строковые константы">Подразделе 4.1.2.5</a>, а все доступные битовые операторы и функции перечислены в <a class="xref" href="functions-bitstring.html" title="9.6. Функции и операторы для работы с битовыми строками">Разделе 9.6</a>.</p><div class="example" id="id-1.5.7.18.7"><p class="title"><strong>Пример 8.3. Использование битовых строк</strong></p><div class="example-contents"><pre class="programlisting">CREATE TABLE test (a BIT(3), b BIT VARYING(5));
INSERT INTO test VALUES (B'101', B'00');
INSERT INTO test VALUES (B'10', B'101');
<code class="computeroutput">
ОШИБКА:  длина битовой строки (2) не соответствует типу bit(3)
</code>
INSERT INTO test VALUES (B'10'::bit(3), B'101');
SELECT * FROM test;
<code class="computeroutput">
  a  |  b
-----+-----
 101 | 00
 100 | 101
</code></pre></div></div><br class="example-break" /><p>Для хранения битовой строки используется по 1 байту для каждой группы из 8 бит, плюс 5 или 8 байт дополнительно в зависимости от длины строки (но длинные строки могут быть сжаты или вынесены отдельно, как описано в <a class="xref" href="datatype-character.html" title="8.3. Символьные типы">Разделе 8.3</a> применительно к символьным строкам).</p></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="datatype-net-types.html" title="8.9. Типы, описывающие сетевые адреса">Пред.</a> </td><td width="20%" align="center"><a accesskey="u" href="datatype.html" title="Глава 8. Типы данных">Наверх</a></td><td width="40%" align="right"> <a accesskey="n" href="datatype-textsearch.html" title="8.11. Типы, предназначенные для текстового поиска">След.</a></td></tr><tr><td width="40%" align="left" valign="top">8.9. Типы, описывающие сетевые адреса </td><td width="20%" align="center"><a accesskey="h" href="index.html" title="Документация к PostgreSQL 16.3">Начало</a></td><td width="40%" align="right" valign="top"> 8.11. Типы, предназначенные для текстового поиска</td></tr></table></div></body></html>