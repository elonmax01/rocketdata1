<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>5.2. Значения по умолчанию</title><link rel="stylesheet" type="text/css" href="stylesheet.css" /><link rev="made" href="pgsql-docs@lists.postgresql.org" /><meta name="generator" content="DocBook XSL Stylesheets Vsnapshot" /><link rel="prev" href="ddl-basics.html" title="5.1. Основы таблиц" /><link rel="next" href="ddl-generated-columns.html" title="5.3. Генерируемые столбцы" /></head><body id="docContent" class="container-fluid col-10"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="5" align="center">5.2. Значения по умолчанию</th></tr><tr><td width="10%" align="left"><a accesskey="p" href="ddl-basics.html" title="5.1. Основы таблиц">Пред.</a> </td><td width="10%" align="left"><a accesskey="u" href="ddl.html" title="Глава 5. Определение данных">Наверх</a></td><th width="60%" align="center">Глава 5. Определение данных</th><td width="10%" align="right"><a accesskey="h" href="index.html" title="Документация к PostgreSQL 16.3">Начало</a></td><td width="10%" align="right"> <a accesskey="n" href="ddl-generated-columns.html" title="5.3. Генерируемые столбцы">След.</a></td></tr></table><hr /></div><div class="sect1" id="DDL-DEFAULT"><div class="titlepage"><div><div><h2 class="title" style="clear: both">5.2. Значения по умолчанию <a href="#DDL-DEFAULT" class="id_link">#</a></h2></div></div></div><a id="id-1.5.4.4.2" class="indexterm"></a><p>Столбцу можно назначить значение по умолчанию. Когда добавляется новая строка и каким-то её столбцам не присваиваются значения, эти столбцы принимают значения по умолчанию. Также команда управления данными может явно указать, что столбцу должно быть присвоено значение по умолчанию, не зная его. (Подробнее команды управления данными описаны в <a class="xref" href="dml.html" title="Глава 6. Модификация данных">Главе 6</a>.)</p><p><a id="id-1.5.4.4.4.1" class="indexterm"></a> Если значение по умолчанию не объявлено явно, им считается значение NULL. Обычно это имеет смысл, так как можно считать, что NULL представляет неизвестные данные.</p><p>В определении таблицы значения по умолчанию указываются после типа данных столбца. Например: </p><pre class="programlisting">CREATE TABLE products (
    product_no integer,
    name text,
    price numeric <span class="emphasis"><strong>DEFAULT 9.99</strong></span>
);</pre><p>Значение по умолчанию может быть выражением, которое в этом случае вычисляется в момент присваивания значения по умолчанию (а <span class="emphasis"><em>не</em></span> когда создаётся таблица). Например, столбцу <code class="type">timestamp</code> в качестве значения по умолчания часто присваивается <code class="literal">CURRENT_TIMESTAMP</code>, чтобы в момент добавления строки в нём оказалось текущее время. Ещё один распространённый пример — генерация <span class="quote">«<span class="quote">последовательных номеров</span>»</span> для всех строк. В <span class="productname">PostgreSQL</span> это обычно делается примерно так: </p><pre class="programlisting">CREATE TABLE products (
    product_no integer <span class="emphasis"><strong>DEFAULT nextval('products_product_no_seq')</strong></span>,
    ...
);</pre><p> здесь функция <code class="literal">nextval()</code> выбирает очередное значение из <em class="firstterm">последовательности</em> (см. <a class="xref" href="functions-sequence.html" title="9.17. Функции для работы с последовательностями">Раздел 9.17</a>). Это употребление настолько распространено, что для него есть специальная короткая запись: </p><pre class="programlisting">CREATE TABLE products (
    product_no <span class="emphasis"><strong>SERIAL</strong></span>,
    ...
);</pre><p> <code class="literal">SERIAL</code> обсуждается позже в <a class="xref" href="datatype-numeric.html#DATATYPE-SERIAL" title="8.1.4. Последовательные типы">Подразделе 8.1.4</a>.</p></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ddl-basics.html" title="5.1. Основы таблиц">Пред.</a> </td><td width="20%" align="center"><a accesskey="u" href="ddl.html" title="Глава 5. Определение данных">Наверх</a></td><td width="40%" align="right"> <a accesskey="n" href="ddl-generated-columns.html" title="5.3. Генерируемые столбцы">След.</a></td></tr><tr><td width="40%" align="left" valign="top">5.1. Основы таблиц </td><td width="20%" align="center"><a accesskey="h" href="index.html" title="Документация к PostgreSQL 16.3">Начало</a></td><td width="40%" align="right" valign="top"> 5.3. Генерируемые столбцы</td></tr></table></div></body></html>