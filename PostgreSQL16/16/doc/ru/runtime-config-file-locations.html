<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>20.2. Расположения файлов</title><link rel="stylesheet" type="text/css" href="stylesheet.css" /><link rev="made" href="pgsql-docs@lists.postgresql.org" /><meta name="generator" content="DocBook XSL Stylesheets Vsnapshot" /><link rel="prev" href="config-setting.html" title="20.1. Изменение параметров" /><link rel="next" href="runtime-config-connection.html" title="20.3. Подключения и аутентификация" /></head><body id="docContent" class="container-fluid col-10"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="5" align="center">20.2. Расположения файлов</th></tr><tr><td width="10%" align="left"><a accesskey="p" href="config-setting.html" title="20.1. Изменение параметров">Пред.</a> </td><td width="10%" align="left"><a accesskey="u" href="runtime-config.html" title="Глава 20. Настройка сервера">Наверх</a></td><th width="60%" align="center">Глава 20. Настройка сервера</th><td width="10%" align="right"><a accesskey="h" href="index.html" title="Документация к PostgreSQL 16.3">Начало</a></td><td width="10%" align="right"> <a accesskey="n" href="runtime-config-connection.html" title="20.3. Подключения и аутентификация">След.</a></td></tr></table><hr /></div><div class="sect1" id="RUNTIME-CONFIG-FILE-LOCATIONS"><div class="titlepage"><div><div><h2 class="title" style="clear: both">20.2. Расположения файлов <a href="#RUNTIME-CONFIG-FILE-LOCATIONS" class="id_link">#</a></h2></div></div></div><p>В дополнение к вышеупомянутому <code class="filename">postgresql.conf</code>, <span class="productname">PostgreSQL</span> обрабатывает два редактируемых вручную файла конфигурации, в которых настраивается аутентификация клиентов (их использование рассматривается в <a class="xref" href="client-authentication.html" title="Глава 21. Аутентификация клиентского приложения">Главе 21</a>). По умолчанию все три файла конфигурации размещаются в каталоге данных кластера БД. Параметры, описанные в этом разделе, позволяют разместить их и в любом другом месте. (Это позволяет упростить администрирование, в частности, выполнять резервное копирование этих файлов обычно проще, когда они хранятся отдельно.)</p><div class="variablelist"><dl class="variablelist"><dt id="GUC-DATA-DIRECTORY"><span class="term"><code class="varname">data_directory</code> (<code class="type">string</code>) <a id="id-1.6.7.5.3.1.1.3" class="indexterm"></a></span> <a href="#GUC-DATA-DIRECTORY" class="id_link">#</a></dt><dd><p>Задаёт каталог, в котором хранятся данные. Этот параметр можно задать только при запуске сервера.</p></dd><dt id="GUC-CONFIG-FILE"><span class="term"><code class="varname">config_file</code> (<code class="type">string</code>) <a id="id-1.6.7.5.3.2.1.3" class="indexterm"></a></span> <a href="#GUC-CONFIG-FILE" class="id_link">#</a></dt><dd><p>Задаёт основной файл конфигурации сервера (его стандартное имя — <code class="filename">postgresql.conf</code>). Этот параметр можно задать только в командной строке <code class="command">postgres</code>.</p></dd><dt id="GUC-HBA-FILE"><span class="term"><code class="varname">hba_file</code> (<code class="type">string</code>) <a id="id-1.6.7.5.3.3.1.3" class="indexterm"></a></span> <a href="#GUC-HBA-FILE" class="id_link">#</a></dt><dd><p>Задаёт файл конфигурации для аутентификации по сетевым узлам (его стандартное имя — <code class="filename">pg_hba.conf</code>). Этот параметр можно задать только при старте сервера.</p></dd><dt id="GUC-IDENT-FILE"><span class="term"><code class="varname">ident_file</code> (<code class="type">string</code>) <a id="id-1.6.7.5.3.4.1.3" class="indexterm"></a></span> <a href="#GUC-IDENT-FILE" class="id_link">#</a></dt><dd><p>Задаёт файл конфигурации для сопоставлений имён пользователей (его стандартное имя — <code class="filename">pg_ident.conf</code>). Этот параметр можно задать только при запуске сервера. См. также <a class="xref" href="auth-username-maps.html" title="21.2. Файл сопоставления имён пользователей">Раздел 21.2</a>.</p></dd><dt id="GUC-EXTERNAL-PID-FILE"><span class="term"><code class="varname">external_pid_file</code> (<code class="type">string</code>) <a id="id-1.6.7.5.3.5.1.3" class="indexterm"></a></span> <a href="#GUC-EXTERNAL-PID-FILE" class="id_link">#</a></dt><dd><p>Задаёт имя дополнительного файла с идентификатором процесса (PID), который будет создавать сервер для использования программами администрирования. Этот параметр можно задать только при запуске сервера.</p></dd></dl></div><p>При стандартной установке ни один из этих параметров не задаётся явно. Вместо них задаётся только каталог данных, аргументом командной строки <code class="option">-D</code> или переменной окружения <code class="envar">PGDATA</code>, и все необходимые файлы конфигурации загружаются из этого каталога.</p><p>Если вы хотите разместить файлы конфигурации не в каталоге данных, то аргумент командной строки <code class="command">postgres</code> <code class="option">-D</code> или переменная окружения <code class="envar">PGDATA</code> должны указывать на каталог, содержащий файлы конфигурации, а в <code class="filename">postgresql.conf</code> (или в командной строке) должен задаваться параметр <code class="varname">data_directory</code>, указывающий, где фактически находятся данные. Учтите, что <code class="varname">data_directory</code> переопределяет путь, задаваемый в <code class="option">-D</code> или <code class="envar">PGDATA</code> как путь каталога данных, но не расположение файлов конфигурации.</p><p>При желании вы можете задать имена и пути файлов конфигурации по отдельности, воспользовавшись параметрами <code class="varname">config_file</code>, <code class="varname">hba_file</code> и/или <code class="varname">ident_file</code>. Параметр <code class="varname">config_file</code> можно задать только в командной строке <code class="command">postgres</code>, тогда как остальные можно задать и в основном файле конфигурации. Если явно заданы все три эти параметра плюс <code class="varname">data_directory</code>, то задавать <code class="option">-D</code> или <code class="envar">PGDATA</code> не нужно.</p><p>Во всех этих параметрах относительный путь должен задаваться от каталога, в котором запускается <code class="command">postgres</code>.</p></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="config-setting.html" title="20.1. Изменение параметров">Пред.</a> </td><td width="20%" align="center"><a accesskey="u" href="runtime-config.html" title="Глава 20. Настройка сервера">Наверх</a></td><td width="40%" align="right"> <a accesskey="n" href="runtime-config-connection.html" title="20.3. Подключения и аутентификация">След.</a></td></tr><tr><td width="40%" align="left" valign="top">20.1. Изменение параметров </td><td width="20%" align="center"><a accesskey="h" href="index.html" title="Документация к PostgreSQL 16.3">Начало</a></td><td width="40%" align="right" valign="top"> 20.3. Подключения и аутентификация</td></tr></table></div></body></html>