<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>E.3. Выпуск 16.1</title><link rel="stylesheet" type="text/css" href="stylesheet.css" /><link rev="made" href="pgsql-docs@lists.postgresql.org" /><meta name="generator" content="DocBook XSL Stylesheets Vsnapshot" /><link rel="prev" href="release-16-2.html" title="E.2. Выпуск 16.2" /><link rel="next" href="release-16.html" title="E.4. Выпуск 16" /></head><body id="docContent" class="container-fluid col-10"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="5" align="center">E.3. Выпуск 16.1</th></tr><tr><td width="10%" align="left"><a accesskey="p" href="release-16-2.html" title="E.2. Выпуск 16.2">Пред.</a> </td><td width="10%" align="left"><a accesskey="u" href="release.html" title="Приложение E. Замечания к выпускам">Наверх</a></td><th width="60%" align="center">Приложение E. Замечания к выпускам</th><td width="10%" align="right"><a accesskey="h" href="index.html" title="Документация к PostgreSQL 16.3">Начало</a></td><td width="10%" align="right"> <a accesskey="n" href="release-16.html" title="E.4. Выпуск 16">След.</a></td></tr></table><hr /></div><div class="sect1" id="RELEASE-16-1"><div class="titlepage"><div><div><h2 class="title" style="clear: both">E.3. Выпуск 16.1 <a href="#RELEASE-16-1" class="id_link">#</a></h2></div></div></div><div class="toc"><dl class="toc"><dt><span class="sect2"><a href="release-16-1.html#RELEASE-16-1-MIGRATION">E.3.1. Миграция на версию 16.1</a></span></dt><dt><span class="sect2"><a href="release-16-1.html#RELEASE-16-1-CHANGES">E.3.2. Изменения</a></span></dt></dl></div><p><strong>Дата выпуска: </strong>2023-11-09</p><p>В этот выпуск вошли различные исправления, внесённые после версии 16.0. За информацией о нововведениях версии 16 обратитесь к <a class="xref" href="release-16.html" title="E.4. Выпуск 16">Разделу E.4</a>.</p><div class="sect2" id="RELEASE-16-1-MIGRATION"><div class="titlepage"><div><div><h3 class="title">E.3.1. Миграция на версию 16.1 <a href="#RELEASE-16-1-MIGRATION" class="id_link">#</a></h3></div></div></div><p>Если используется версия 16.X, выгрузка/восстановление базы не требуется.</p><p>Однако было обнаружено несколько ошибок, потенциально приводивших к тому, что поиск по некоторым типам индексов выдавал неверные результаты поиска или работал необоснованно неэффективно. После установки этого обновления рекомендуется перестроить возможно повреждённые индексы. Подробнее данные изменения описаны в пунктах 4-7 ниже.</p></div><div class="sect2" id="RELEASE-16-1-CHANGES"><div class="titlepage"><div><div><h3 class="title">E.3.2. Изменения <a href="#RELEASE-16-1-CHANGES" class="id_link">#</a></h3></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Исправление обработки аргументов неизвестного типа в агрегатных функциях <code class="literal">DISTINCT</code> <code class="type">"any"</code> (Том Лейн).</p><p>Эта ошибка приводила к тому, что значение типа <code class="type">text</code> интерпретировалось как значение типа <code class="type">unknown</code> (то есть строка, завершающаяся нулевым символом), при этом во время выполнения могло раскрываться содержимое памяти сервера после значения <code class="type">text</code>.</p><p>Проект <span class="productname">PostgreSQL</span> благодарит Цзинчжоу Фу за сообщение об этой проблеме. (CVE-2023-5868)</p></li><li class="listitem"><p>Выявление целочисленного переполнения при вычислении новых размерностей массива (Том Лейн)</p><p>При назначении новых элементов индексам массива, которые находятся за пределами границ текущего массива, в особых случаях могло происходить необнаруживаемое целочисленное переполнение. Потенциально были возможны манипуляции с памятью для выполнения произвольного кода, а также раскрытие содержимого памяти сервера.</p><p>Проект <span class="productname">PostgreSQL</span> благодарит Педро Гальегоса за сообщение об этой проблеме. (CVE-2023-5869)</p></li><li class="listitem"><p>Запрет для роли <code class="literal">pg_signal_backend</code> отправлять сигналы обслуживающим процессам и процессам автоочистки (Ной Миш, Йелте Феннема-Нио)</p><p>В документации сказано, что роль <code class="literal">pg_signal_backend</code> не может отправлять сигналы процессам, принадлежащим суперпользователям. Однако она могла отправлять сигналы обслуживающим процессам, поскольку OID роли у них равен нулю. Теперь такой OID считается указанием принадлежности суперпользователю. Отмена одного из этих типов процессов почти никак не влияет на безопасность с точки зрения основного кода (сразу запускается новый), но обслуживающие процессы расширений могли быть уязвимы.</p><p>Также теперь гарантируется, что в таких процессах корректно задан параметр <code class="varname">is_superuser</code>. Конкретных примеров влияния этого упущения на безопасность не обнаружено, но для некоторых расширений оно могло оказаться существенным.</p><p>Проект <span class="productname">PostgreSQL</span> благодарит Хеманта Сандрану и Махендракара Шринивасарао за сообщение об этой проблеме. (CVE-2023-5870)</p></li><li class="listitem"><p>Устранение некорректного поведения при рекурсивном разделении страницы в процессе построения индекса GiST (Хейкки Линнакангас)</p><p>Устранены случаи, когда положение ссылки вниз на странице отслеживалось неправильно, с помощью введения некоторой логики, позволяющей исправлять такие ошибки, а не продолжать работу, игнорируя их. Устранённая проблема могла приводить к неверным результатам при последующих поисках по индексу. После установки данного обновления может оказаться целесообразным перестроить все индексы GiST.</p></li><li class="listitem"><p>Предотвращение дублирования записей индекса-B-дерева для столбцов типа <code class="type">interval</code> (Ной Миш)</p><p>Существуют значения <code class="type">interval</code>, которые различаются, но считаются равными при сравнении, например <code class="literal">24:00:00</code> и <code class="literal">1 day</code>, что нарушало работу предположений при исключении дубликатов в индексах-B-деревьях, поэтому столбцы типа <code class="type">interval</code> необходимо убрать из такого исключения. Это упущение могло приводить к неправильным результатам сканирования только индекса. Более того, после обновления модуль <span class="application">amcheck</span> сообщает об ошибке почти для всех таких индексов. Пользователям следует перестроить любые индексы-B-деревья для столбцов <code class="type">interval</code>.</p></li><li class="listitem"><p>Более корректная обработка значений типа <code class="type">date</code> в индексах BRIN <code class="literal">datetime_minmax_multi_ops</code> (Томаш Вондра)</p><p>Расчёт расстояния между значениями дат был обратным, что приводило к неверным решениям о выборе записей для слияния сводок. Индекс выдавал правильные результаты, но гораздо менее эффективно, чем должен был. Рекомендуется перестроить индексы BRIN <code class="literal">minmax_multi</code> для столбцов <code class="type">date</code>.</p></li><li class="listitem"><p>Более корректная обработка больших значений типов <code class="type">timestamp</code> и <code class="type">timestamptz</code> в индексах BRIN <code class="literal">datetime_minmax_multi_ops</code> (Томаш Вондра)</p><p>Ошибочно считалось, что бесконечности находятся не на большом, а на нулевом расстоянии от других значений, что приводило к неверным решениям о выборе записей для слияния сводок. Кроме того, конечные, но очень большие значения (около конечных точек допустимого диапазона временных меток) могли вызывать внутренние переполнения, что также приводило к неверным решениям. Индекс выдавал правильные результаты, но гораздо менее эффективно, чем должен был. Рекомендуется перестроить индексы BRIN <code class="literal">minmax_multi</code> для столбцов <code class="type">timestamp</code> и <code class="type">timestamptz</code>, если столбец содержит или содержал бесконечности или большие конечные значения.</p></li><li class="listitem"><p>Предотвращение переполнения вычислений в индексах BRIN <code class="literal">interval_minmax_multi_ops</code> с крайними значениями интервала (Томаш Вондра)</p><p>Эта ошибка могла приводить к неожиданным сбоям при попытке вставить в такой индекс большие значения интервалов.</p></li><li class="listitem"><p>Исправление поэтапного создания секций и устранения секций во время выполнения для таблиц, секционированных по хешу с несколькими ключами разбиения (Дэвид Роули)</p><p>В некоторых случаях, связанных с условием <code class="literal">IS NULL</code> для одного из ключей разбиения, мог происходить сбой.</p></li><li class="listitem"><p>Исправление несогласованной перепроверки одновременно обновляемых строк во время выполнения команды <code class="command">MERGE</code> (Дин Рашид)</p><p>Если при изменении строки в режиме <code class="literal">READ COMMITTED</code> обнаруживается, что целевая строка была только что изменена параллельной транзакцией, для изменённой строки перепроверяются условия <code class="literal">WHERE</code> запроса. Для команды <code class="command">MERGE</code> не гарантировалось, что во время этой перепроверки использовались правильные строки других соединяемых таблиц, что, возможно, приводило к неправильным решениям о том, должна ли изменённая строка снова изменяться командой <code class="command">MERGE</code>.</p></li><li class="listitem"><p>Правильное определение целевой таблицы в наследуемой команде <code class="command">UPDATE</code>/<code class="command">DELETE</code>/<code class="command">MERGE</code>, даже если родительская таблица была исключена ограничениями (Амит Ланготе, Том Лейн)</p><p>Если ограничение исключало первоначально указанную таблицу, но не всех её потомков в иерархии наследования, первый неисключённый потомок определялся как основная целевая таблица. Из-за этого на уровне операторов срабатывали триггеры, связанные с этой таблицей, а не с первоначально указанной. В версии 16 это упущение могло приводить к появлению ошибок <span class="quote">«<span class="quote">invalid perminfoindex 0 in RTE with relid NNNN</span>»</span> (неверный perminfoindex 0 в RTE с relid NNNN).</p></li><li class="listitem"><p>Исправление позиции индекса-B-дерева для предложений ScalarArrayOpExpr в особых случаях при обработке пометки/восстановления (Питер Гейган)</p><p>При восстановлении сканирования индекса с ранее помеченной позицией в коде могли пропускаться необходимые шаги настройки, если сканирование продвинулось точно до конца совпадений для предложения ScalarArrayOpExpr (то есть <code class="literal">indexcol = ANY(ARRAY[])</code>). Это могло приводить к потере некоторых строк, которые должны были быть включены в выборку при сканировании.</p></li><li class="listitem"><p>Устранение утечки памяти внутри запроса при выполнении Memoize (Алексей Орлов, Дэвид Роули)</p></li><li class="listitem"><p>Устранение утечки памяти внутри запроса, когда функция, возвращающая множество, неоднократно не возвращала ни одной строки (Том Лейн)</p></li><li class="listitem"><p>Устранение сбоя при применении функции <code class="function">cursor_to_xmlschema()</code> к порталу, не возвращающему данные (Боюй Ян)</p></li><li class="listitem"><p>Устранение неправильного повторного использования условия исходного фильтра при последовательных вызовах функции <code class="function">pg_logical_slot_get_changes()</code> (Хоу Чжицзе)</p><p>Исходное условие, установленное одним вызовом этой функции, повторно использовалось в последующих вызовах, в которых не указан исходный аргумент. Такое поведение было некорректным.</p></li><li class="listitem"><p>Вывод корректного сообщения об ошибке, если <code class="function">pgrowlocks()</code> применяется к секционированной таблице (Дэвид Роули)</p><p>Ранее выводилось неточное сообщение об ошибке <span class="quote">«<span class="quote">only heap AM is supported</span>»</span> (поддерживается только AM в куче).</p></li><li class="listitem"><p>Более корректная обработка нерабочих индексов специальными SQL-функциями (Ной Миш)</p><p>Если одна из функций <code class="function">pgstatindex()</code>, <code class="function">pgstatginindex()</code>, <code class="function">pgstatashindex()</code> или <code class="function">pgstattuple()</code> применяется к нерабочему индексу, в журнал теперь выводится сообщение об ошибке. Если одна из функций <code class="function">brin_desummarize_range()</code>, <code class="function">brin_summarize_new_values()</code>, <code class="function">brin_summarize_range()</code> или <code class="function">gin_clean_pending_list()</code> применяется к нерабочему индексу, сообщение вносится в журнал в зависимости от уровня отладки. Раньше эти функции пытались обработать индекс и демонстрировали странное поведение в зависимости от результатов невыполненной команды <code class="command">CREATE INDEX</code>.</p></li><li class="listitem"><p>Предотвращение сбоя из-за преждевременного выделения памяти при длинных входных данных в функции <code class="function">to_tsvector()</code> (Том Лейн)</p></li><li class="listitem"><p>Исключение выделения лишнего пространства на диске для созданного <code class="type">tsvector</code> в функции <code class="function">tsvectorrecv()</code> (Денис Ерохин)</p><p>Если входящий вектор включает данные о местоположении, в результате выполнения двоичной функции приёма использовалось лишнее пространство (примерно равное размеру данных о положении) в готовом <code class="type">tsvector</code>. В особых случаях это могло приводить к сбою из-за ошибки <span class="quote">«<span class="quote">maximum total lexeme length exceeded</span>»</span> (превышена максимальная общая длина лексемы) для векторов, длина которых на момент создания была ниже ограничения. В любом случае это могло приводить к потере места на диске.</p></li><li class="listitem"><p>Улучшение проверки на наличие повреждений данных, сжатых методом PGLZ (Флавьен Гедес)</p></li><li class="listitem"><p>Исправление команды <code class="command">ALTER SUBSCRIPTION</code> для отражения изменений работы параметра <code class="literal">run_as_owner</code> (Хоу Чжицзе)</p></li><li class="listitem"><p>Исправление массовой вставки данных в секционированные таблицы (Андрес Фройнд)</p><p>Неправильное использование состояния вставки между секциями могло приводить к сбоям во время выполнения <code class="command">COPY FROM</code>, что обычно проявлялось в виде ошибок вида <span class="quote">«<span class="quote">could not read block NNNN in file XXXX: read only 0 of 8192 bytes</span>»</span> (не удалось прочитать блок NNNN в файле XXXX (прочитано байт: 0 из 8192)).</p></li><li class="listitem"><p>Предотвращение вычисления стандартных значений столбца, которые не понадобятся команде <code class="command">COPY FROM</code> (Лауренц Альбе)</p><p>Это исправление позволяет предотвратить возможную ошибку, когда значение по умолчанию фактически недопустимо для столбца, или если выражение по умолчанию не может быть вычислено в текущем контексте. Такие особые случаи иногда возникают, например, при восстановлении резервных копий. В предыдущих версиях такие ошибки не наблюдались, поэтому исправление внесено в версию 16.</p></li><li class="listitem"><p>Исправление сообщения об ошибке при необходимости преобразования неподдерживаемой кодировки в <code class="command">COPY FROM</code> (Том Лейн)</p><p>Во время недавней реорганизации кода была случайно удалена соответствующая проверка ошибок для этого случая, так что выводилось сообщение <span class="quote">«<span class="quote">cache lookup failed for function 0</span>»</span> (ошибка поиска в кеше для функции 0) вместо нужного сообщения.</p></li><li class="listitem"><p>Предотвращение сбоя команды <code class="command">EXPLAIN</code> в случаях, если параметр, помеченный как отображаемый в <code class="command">EXPLAIN</code>, имеет значение NULL при старте системы (Син Го, Александр Алексеев, Том Лейн)</p><p>Ни один встроенный параметр не соответствует этому описанию, но такие параметры могут определяться в расширениях.</p></li><li class="listitem"><p>Обеспечение существования снимка при удалении временных таблиц условием <code class="literal">ON COMMIT DROP</code> (Том Лейн)</p><p>Это исправление предотвращает возможное неправильное поведение в случаях, когда какие-либо записи каталога для временных таблиц имеют достаточно длинные поля, требующие применения TOAST (например, очень сложное условие <code class="literal">CHECK</code>).</p></li><li class="listitem"><p>Предотвращение неправильной реакции дочерних процессов, только что созданных функцией <code class="function">system()</code>, на сигналы завершения работы (Натан Боссарт)</p><p>Это исправление позволяет избежать условий гонки, при которых дочерний процесс, выделенный функцией <code class="function">system()</code>, но ещё не выполнивший намеченную дочернюю программу, может получить сигнал, предназначенный для процесса родительского сервера и завершить работу. Получение такого сигнала приводило к выполнению дублирующихся действий по очистке.</p></li><li class="listitem"><p>Устранение разрывов чтения <code class="filename">pg_control</code> в клиентских программах (Томас Манро)</p><p>В некоторых файловых системах чтение <code class="filename">pg_control</code> может не быть атомарным действием при одновременной записи этого файла сервером. Этот случай можно обнаружить по неверной контрольной сумме (CRC). Теперь попытка чтения повторяется несколько раз, чтобы проверить, станет ли файл допустимым, прежде чем выводится сообщение об ошибке.</p></li><li class="listitem"><p>Предотвращение разрывов чтения <code class="filename">pg_control</code> в соответствующих SQL-функциях (Томас Манро)</p><p>Перед чтением <code class="filename">pg_control</code> получается соответствующая блокировка для обеспечения согласованного представления этого файла.</p></li><li class="listitem"><p>Исправление ошибок <span class="quote">«<span class="quote">could not find pathkey item to sort</span>»</span> (не удалось найти элемент ключа пути для сортировки), возникающих при планировании агрегатных функций с параметрами <code class="literal">ORDER BY</code> или <code class="literal">DISTINCT</code> (Дэвид Роули)</p></li><li class="listitem"><p>Предотвращение целочисленного переполнения при вычислении размера массива строк активности обслуживающего процесса (Якуб Вартак)</p><p>На 64-разрядных машинах допускаются достаточно большие значения <code class="varname">track_activity_query_size</code>, чтобы вызвать 32-разрядное переполнение при умножении на разрешённое количество соединений. Однако в коде, фактически выделяющем локальный массив для каждого обслуживающего процесса, были упущения, и массив выделялся неправильно.</p></li><li class="listitem"><p>Исправление кратковременного отображения противоречивой статистики выполнения команды <code class="command">ANALYZE</code> для унаследованных таблиц (Хейкки Линнакангас)</p><p>Счётчикам на уровне блоков должно присваиваться нулевое значение одновременно с изменением поля текущего отношения.</p></li><li class="listitem"><p>Исправление процесса фоновой записи для передачи счётчикам статистики информации о любых записях в WAL, выполняемых этим процессом (Назир Билал Явуз)</p></li><li class="listitem"><p>Устранение путаницы с поведением принудительного сброса данных на диск в функции <code class="function">pgstat_report_wal()</code> (Рёга Йошида, Микаэль Пакье)</p><p>Ранее некоторые статистики о вводе-выводе WAL терялись при завершении работы.</p></li><li class="listitem"><p>Исправление отслеживания статистики расширений временных таблиц (Карина Лицкевич, Андрес Фройнд)</p><p>Ранее расширение временных таблиц учитывалось как запись в обычные таблицы, а не временные.</p></li><li class="listitem"><p>Учёт времени, затраченного на операции расширения отношений, как времени записи, если включён параметр <code class="varname">track_io_timing</code> (Назир Билал Явуз)</p></li><li class="listitem"><p>Отслеживание зависимостей кешированных операторов <code class="command">CALL</code> и их перепланирование, если оно необходимо (Том Лейн)</p><p>Команды DDL, такие как замена функции, встроенной в аргумент <code class="command">CALL</code>, могут вызвать необходимость перепланирования <code class="command">CALL</code>, кешированного PL/pgSQL. Ранее перепланирование не выполнялось, что приводило к неправильному поведению или странным ошибкам, таким как <span class="quote">«<span class="quote">cache lookup failed</span>»</span> (не удалось выполнить поиск в кеше).</p></li><li class="listitem"><p>Предотвращение возможного сбоя из-за вызова pfree для нулевого указателя в случае ошибки при установлении соединения <span class="application">OpenSSL</span> (Сергей Шиндерук)</p></li><li class="listitem"><p>Правильное отслеживание глубины вложенности при проверке переменных типа <code class="type">RECORD</code> на внешних уровнях запроса (Ричард Гуо)</p><p>Неправильное отслеживание могло приводить к сбоям проверочных утверждений, аварийным сбоям или ошибкам <span class="quote">«<span class="quote">bogus varno</span>»</span> (неприемлемое значение varno).</p></li><li class="listitem"><p>Отслеживание зависимостей хеш-функций и обратных функций узлов плана ScalarArrayOpExpr (Дэвид Роули)</p><p>В большинстве случаев исправленное упущение было безвредным, поскольку эти функции были доступны, пока работал исходный оператор узла.</p></li><li class="listitem"><p>Исправление некорректной обработки ошибок в управлении кешем типа <code class="type">RECORD</code> (Томас Манро)</p><p>Ошибка нехватки памяти, возникающая в неподходящее время, могла оставлять после себя несогласованное состояние, приводившее к зацикливанию.</p></li><li class="listitem"><p>Обработка ошибок, связанных с нехваткой памяти при чтении WAL, как критических (Микаэль Пакье)</p><p>Раньше они рассматривались как ошибки о неприемлемых данных, в результате чего делался вывод о достижении конца WAL, что было некорректно и могло приводить к несогласованному воспроизведению WAL.</p></li><li class="listitem"><p>Исправление возможного сбоя восстановления из-за попытки выделить память на основе неприемлемой длины записи WAL (Томас Манро, Микаэль Пакье)</p></li><li class="listitem"><p>Исправление ошибки <span class="quote">«<span class="quote">could not duplicate handle</span>»</span> (не удалось продублировать указатель), возникавшей в Windows, когда значение <code class="varname">min_dynamic_shared_memory</code> было больше нуля (Томас Манро)</p></li><li class="listitem"><p>Исправление порядка операций в <code class="function">GenericXLogFinish</code> (Джефф Девис)</p><p>В коде были нарушены условия, необходимые для обеспечения безопасности данных при сбое, поскольку запись в WAL происходила перед тем, как изменённые буферы помечались как «грязные». В коде ядра эта функция не используется, но её используют расширения (например, <code class="filename">contrib/bloom</code>).</p></li><li class="listitem"><p>Удаление неверного проверочного утверждения при обработке исключений PL/Python (Александр Лахин)</p></li><li class="listitem"><p>Исправление в программе <span class="application">pg_dump</span>, позволяющее записывать новый параметр подписок <code class="literal">run_as_owner</code> (Филип Уорнер).</p><p>Из-за исправленного упущения ранее в версии 16 подписки всегда восстанавливались со значением <code class="literal">false</code> параметра <code class="literal">run_as_owner</code>, в отличие от предыдущих.</p></li><li class="listitem"><p>Исправление поведения утилиты <span class="application">pg_restore</span> для включения в выборочное восстановление начальных прав доступа как на уровне таблицы, так и на уровне столбца для выбранных таблиц (Эйлер Тавейра, Том Лейн)</p><p>Ранее при наличии прав обоих уровней восстанавливались только права на уровне таблицы.</p></li><li class="listitem"><p>Добавление в программу <span class="application">pg_upgrade</span> логики для проверки использования типов данных <code class="type">abstime</code>, <code class="type">reltime</code> и <code class="type">tinterval</code> (Álvaro Herrera )</p><p>Эти устаревшие типы данных были удалены в <span class="productname">PostgreSQL</span> версии 12, поэтому добавлена проверка, чтобы убедиться в их отсутствии в старой базе данных перед выполнением её обновления.</p></li><li class="listitem"><p>Предотвращение ложных ошибок <span class="quote">«<span class="quote">too many client connections</span>»</span> (слишком много клиентских подключений) при использовании программы <span class="application">pgbench</span> в Windows (Ной Миш)</p></li><li class="listitem"><p>Исправление обработки нескольких ключей <code class="option">-N</code> утилитой <span class="application">vacuumdb</span> (Натан Боссарт, Кувамура Масаки)</p><p>Несколько ключей <code class="option">-N</code> должны исключать таблицы в нескольких схемах, но на самом деле этого не происходило из-за ошибочной конструкции сгенерированного запроса.</p></li><li class="listitem"><p>Исправление работы утилиты <span class="application">vacuumdb</span> для учёта параметра <code class="option">--buffer-usage-limit</code> в режиме только анализа (Рёга Йошида, Дэвид Роули)</p></li><li class="listitem"><p>Исключение сообщений о повреждении данных при прерванном удалении страницы в <code class="filename">contrib/amcheck</code> (Ной Миш)</p><p>Это исправление предотвращает выдачу несоответствующих сообщений об ошибках <span class="quote">«<span class="quote">the first child of leftmost target page is not leftmost of its level</span>»</span> (первый дочерний элемент крайней левой целевой страницы не является крайним левым на её уровне), <span class="quote">«<span class="quote">block NNNN is not leftmost</span>»</span> (блок NNNN не является крайним левым) или <span class="quote">«<span class="quote">left link/right link pair in index XXXX not in agreement</span>»</span> (пара левая ссылка/правая ссылка в индексе XXXX не согласуется). Эти сообщения появлялись, если модуль <span class="application">amcheck</span> запускался после незавершённого удаления страницы индекса-B-дерева и до выполнения очистки <code class="command">VACUUM</code>.</p></li><li class="listitem"><p>Исправление ошибки в индексах <code class="filename">contrib/btree_gin</code> по столбцам <code class="type">interval</code>, проявлявшейся при сканировании индекса с использованием оператора <code class="literal">&lt;</code> или <code class="literal">&lt;=</code> (Дин Рашид)</p><p>Ранее при таком сканировании выдавались не все элементы, которые должны были.</p></li><li class="listitem"><p>Добавление поддержки LLVM версий 16 и 17 (Томас Манро, Дмитрий Долгов)</p></li><li class="listitem"><p>Подавление различных предупреждений во время сборки в последней версии <span class="productname">macOS</span> (Том Лейн)</p><p>В среде <span class="productname">Xcode 15</span> (выпущенной вместе с <span class="productname">macOS Sonoma</span>) изменилось поведение компоновщика таким образом, что при сборке <span class="productname">PostgreSQL</span> появляется множество предупреждений о дублирующихся библиотеках. Они безвредны, но раздражают, поэтому повторное упоминание библиотек было удалено. Также исключено использование флага компоновщика <code class="option">-multiply_defined suppress</code>, который долгое время не использовался и стал причиной множества жалоб пользователей.</p></li><li class="listitem"><p>Возврат к использованию <code class="literal">python</code> при сборке файла правил <code class="filename">contrib/unaccent</code>, если не был указан параметр <code class="literal">--with-python</code> и не была задана переменная <code class="command">make</code> <code class="literal">PYTHON</code> (Япинь Ли)</p></li><li class="listitem"><p>Удаление <code class="literal">PHOT</code> (время на островах Феникс) из списка аббревиатур часовых поясов по умолчанию (Том Лейн)</p><p>Присутствие этой аббревиатуры в списке по умолчанию могло приводить к ошибкам в последних выпусках Debian и Ubuntu, поскольку в них больше не устанавливается базовая запись tzdb по умолчанию. Поскольку это аббревиатура для зоны с общим населением около двух десятков человек, от неё вполне можно отказаться. При необходимости её можно указать в пользовательском файле аббревиатур.</p></li></ul></div></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="release-16-2.html" title="E.2. Выпуск 16.2">Пред.</a> </td><td width="20%" align="center"><a accesskey="u" href="release.html" title="Приложение E. Замечания к выпускам">Наверх</a></td><td width="40%" align="right"> <a accesskey="n" href="release-16.html" title="E.4. Выпуск 16">След.</a></td></tr><tr><td width="40%" align="left" valign="top">E.2. Выпуск 16.2 </td><td width="20%" align="center"><a accesskey="h" href="index.html" title="Документация к PostgreSQL 16.3">Начало</a></td><td width="40%" align="right" valign="top"> E.4. Выпуск 16</td></tr></table></div></body></html>