<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>54.28. pg_stats_ext</title><link rel="stylesheet" type="text/css" href="stylesheet.css" /><link rev="made" href="pgsql-docs@lists.postgresql.org" /><meta name="generator" content="DocBook XSL Stylesheets Vsnapshot" /><link rel="prev" href="view-pg-stats.html" title="54.27. pg_stats" /><link rel="next" href="view-pg-stats-ext-exprs.html" title="54.29. pg_stats_ext_exprs" /></head><body id="docContent" class="container-fluid col-10"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="5" align="center">54.28. <code class="structname">pg_stats_ext</code></th></tr><tr><td width="10%" align="left"><a accesskey="p" href="view-pg-stats.html" title="54.27. pg_stats">Пред.</a> </td><td width="10%" align="left"><a accesskey="u" href="views.html" title="Глава 54. Системные представления">Наверх</a></td><th width="60%" align="center">Глава 54. Системные представления</th><td width="10%" align="right"><a accesskey="h" href="index.html" title="Документация к PostgreSQL 16.3">Начало</a></td><td width="10%" align="right"> <a accesskey="n" href="view-pg-stats-ext-exprs.html" title="54.29. pg_stats_ext_exprs">След.</a></td></tr></table><hr /></div><div class="sect1" id="VIEW-PG-STATS-EXT"><div class="titlepage"><div><div><h2 class="title" style="clear: both">54.28. <code class="structname">pg_stats_ext</code> <a href="#VIEW-PG-STATS-EXT" class="id_link">#</a></h2></div></div></div><a id="id-1.10.5.32.2" class="indexterm"></a><p>Представление <code class="structname">pg_stats_ext</code> открывает доступ к информации о каждом объекте расширенной статистики, объединяя данные из каталогов <a class="link" href="catalog-pg-statistic-ext.html" title="53.52. pg_statistic_ext"><code class="structname">pg_statistic_ext</code></a> и <a class="link" href="catalog-pg-statistic-ext-data.html" title="53.53. pg_statistic_ext_data"><code class="structname">pg_statistic_ext_data</code></a>. Это представление даёт доступ только к тем строкам <a class="link" href="catalog-pg-statistic-ext.html" title="53.52. pg_statistic_ext"><code class="structname">pg_statistic_ext</code></a> и <a class="link" href="catalog-pg-statistic-ext-data.html" title="53.53. pg_statistic_ext_data"><code class="structname">pg_statistic_ext_data</code></a>, что соответствуют таблицам, владельцем которых является пользователь: таким образом, это представление можно без опасений разрешить читать всем.</p><p>Кроме того, представление <code class="structname">pg_stats_ext</code> специально разработано для подачи информации в более понятном виде, чем нижележащие каталоги — ценой того, что его схему приходится расширять всякий раз, когда в <a class="link" href="catalog-pg-statistic-ext.html" title="53.52. pg_statistic_ext"><code class="structname">pg_statistic_ext</code></a> добавляются новые типы расширенной статистики.</p><div class="table" id="id-1.10.5.32.5"><p class="title"><strong>Таблица 54.28. Столбцы <code class="structname">pg_stats_ext</code></strong></p><div class="table-contents"><table class="table" summary="Столбцы pg_stats_ext" border="1"><colgroup><col /></colgroup><thead><tr><th class="catalog_table_entry"><p class="column_definition">Тип столбца</p>
      <p>Описание</p></th></tr></thead><tbody><tr><td class="catalog_table_entry"><p class="column_definition"><code class="structfield">schemaname</code> <code class="type">name</code> (ссылается на <a class="link" href="catalog-pg-namespace.html" title="53.32. pg_namespace"><code class="structname">pg_namespace</code></a>.<code class="structfield">nspname</code>)</p>
      <p>Имя схемы, содержащей таблицу</p></td></tr><tr><td class="catalog_table_entry"><p class="column_definition"><code class="structfield">tablename</code> <code class="type">name</code> (ссылается на <a class="link" href="catalog-pg-class.html" title="53.11. pg_class"><code class="structname">pg_class</code></a>.<code class="structfield">relname</code>)</p>
      <p>Имя таблицы</p></td></tr><tr><td class="catalog_table_entry"><p class="column_definition"><code class="structfield">statistics_schemaname</code> <code class="type">name</code> (ссылается на <a class="link" href="catalog-pg-namespace.html" title="53.32. pg_namespace"><code class="structname">pg_namespace</code></a>.<code class="structfield">nspname</code>)</p>
      <p>Имя схемы, содержащей объект расширенной статистики</p></td></tr><tr><td class="catalog_table_entry"><p class="column_definition"><code class="structfield">statistics_name</code> <code class="type">name</code> (ссылается на <a class="link" href="catalog-pg-statistic-ext.html" title="53.52. pg_statistic_ext"><code class="structname">pg_statistic_ext</code></a>.<code class="structfield">stxname</code>)</p>
      <p>Имя объекта расширенной статистики</p></td></tr><tr><td class="catalog_table_entry"><p class="column_definition"><code class="structfield">statistics_owner</code> <code class="type">name</code> (ссылается на <a class="link" href="catalog-pg-authid.html" title="53.8. pg_authid"><code class="structname">pg_authid</code></a>.<code class="structfield">rolname</code>)</p>
      <p>Владелец объекта расширенной статистики</p></td></tr><tr><td class="catalog_table_entry"><p class="column_definition"><code class="structfield">attnames</code> <code class="type">name[]</code> (ссылается на <a class="link" href="catalog-pg-attribute.html" title="53.7. pg_attribute"><code class="structname">pg_attribute</code></a>.<code class="structfield">attname</code>)</p>
      <p>Имена столбцов, включённых в объект расширенной статистики</p></td></tr><tr><td class="catalog_table_entry"><p class="column_definition">
       <code class="structfield">exprs</code> <code class="type">text[]</code>
      </p>
      <p>Выражения, включённые в объект расширенной статистики</p></td></tr><tr><td class="catalog_table_entry"><p class="column_definition">
       <code class="structfield">kinds</code> <code class="type">char[]</code>
      </p>
      <p>Типы объектов расширенной статистики, включённые для данной записи</p></td></tr><tr><td class="catalog_table_entry"><p class="column_definition"><code class="structfield">inherited</code> <code class="type">bool</code> (ссылается на <a class="link" href="catalog-pg-statistic-ext-data.html" title="53.53. pg_statistic_ext_data"><code class="structname">pg_statistic_ext_data</code></a>.<code class="structfield">stxdinherit</code>)</p>
      <p>Если true, в статистике учитываются значения в дочерних таблицах, а не только в указанном отношении</p></td></tr><tr><td class="catalog_table_entry"><p class="column_definition">
       <code class="structfield">n_distinct</code> <code class="type">pg_ndistinct</code>
      </p>
      <p>Количество различных комбинаций значений столбцов. Число больше нуля представляет примерное количество различных скомбинированных значений. Если это число меньше нуля, его модуль представляет количество различных значений, делённое на количество строк. (Отрицательная форма применяется, когда <code class="command">ANALYZE</code> полагает, что число различных значений, скорее всего, будет расти по мере роста таблицы; положительная, когда в столбце, вероятно, будет фиксированное количество возможных значений.) Например, -1 указывает на такую комбинацию столбцов, в которой количество различных значений совпадает с количеством строк.</p></td></tr><tr><td class="catalog_table_entry"><p class="column_definition">
       <code class="structfield">dependencies</code> <code class="type">pg_dependencies</code>
      </p>
      <p>Статистика по функциональным зависимостям</p></td></tr><tr><td class="catalog_table_entry"><p class="column_definition">
       <code class="structfield">most_common_vals</code> <code class="type">text[]</code>
      </p>
      <p>Список самых частых комбинаций значений в столбцах. (NULL, если не находятся комбинации, встречающиеся чаще других.)</p></td></tr><tr><td class="catalog_table_entry"><p class="column_definition">
       <code class="structfield">most_common_val_nulls</code> <code class="type">bool[]</code>
      </p>
      <p>Список флагов NULL для самых частых комбинаций значений. (NULL, когда <code class="structfield">most_common_vals</code> — NULL.)</p></td></tr><tr><td class="catalog_table_entry"><p class="column_definition">
       <code class="structfield">most_common_freqs</code> <code class="type">float8[]</code>
      </p>
      <p>Список частот самых частых комбинаций, то есть число их вхождений, делённое на общее количество строк. (NULL, когда <code class="structfield">most_common_vals</code> — NULL.)</p></td></tr><tr><td class="catalog_table_entry"><p class="column_definition">
       <code class="structfield">most_common_base_freqs</code> <code class="type">float8[]</code>
      </p>
      <p>Список базовых частот самых частых комбинаций, то есть произведение частот отдельных значений. (NULL, когда <code class="structfield">most_common_vals</code> — NULL.)</p></td></tr></tbody></table></div></div><br class="table-break" /><p>Максимальным числом записей в полях-массивах можно управлять на уровне столбцов, используя команду <a class="link" href="sql-altertable.html" title="ALTER TABLE"><code class="command">ALTER TABLE SET STATISTICS</code></a>, или глобально, задав параметр времени выполнения <a class="xref" href="runtime-config-query.html#GUC-DEFAULT-STATISTICS-TARGET">default_statistics_target</a>.</p></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="view-pg-stats.html" title="54.27. pg_stats">Пред.</a> </td><td width="20%" align="center"><a accesskey="u" href="views.html" title="Глава 54. Системные представления">Наверх</a></td><td width="40%" align="right"> <a accesskey="n" href="view-pg-stats-ext-exprs.html" title="54.29. pg_stats_ext_exprs">След.</a></td></tr><tr><td width="40%" align="left" valign="top">54.27. <code class="structname">pg_stats</code> </td><td width="20%" align="center"><a accesskey="h" href="index.html" title="Документация к PostgreSQL 16.3">Начало</a></td><td width="40%" align="right" valign="top"> 54.29. <code class="structname">pg_stats_ext_exprs</code></td></tr></table></div></body></html>