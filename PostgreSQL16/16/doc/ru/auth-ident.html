<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>21.8. Аутентификация ident</title><link rel="stylesheet" type="text/css" href="stylesheet.css" /><link rev="made" href="pgsql-docs@lists.postgresql.org" /><meta name="generator" content="DocBook XSL Stylesheets Vsnapshot" /><link rel="prev" href="sspi-auth.html" title="21.7. Аутентификация SSPI" /><link rel="next" href="auth-peer.html" title="21.9. Аутентификация peer" /></head><body id="docContent" class="container-fluid col-10"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="5" align="center">21.8. Аутентификация ident</th></tr><tr><td width="10%" align="left"><a accesskey="p" href="sspi-auth.html" title="21.7. Аутентификация SSPI">Пред.</a> </td><td width="10%" align="left"><a accesskey="u" href="client-authentication.html" title="Глава 21. Аутентификация клиентского приложения">Наверх</a></td><th width="60%" align="center">Глава 21. Аутентификация клиентского приложения</th><td width="10%" align="right"><a accesskey="h" href="index.html" title="Документация к PostgreSQL 16.3">Начало</a></td><td width="10%" align="right"> <a accesskey="n" href="auth-peer.html" title="21.9. Аутентификация peer">След.</a></td></tr></table><hr /></div><div class="sect1" id="AUTH-IDENT"><div class="titlepage"><div><div><h2 class="title" style="clear: both">21.8. Аутентификация ident <a href="#AUTH-IDENT" class="id_link">#</a></h2></div></div></div><a id="id-1.6.8.15.2" class="indexterm"></a><p>Метод аутентификации ident работает, получая имя пользователя операционной системы клиента от сервера Ident и используя его в качестве разрешённого имени пользователя базы данных (с возможным сопоставлением имён пользователя). Способ доступен только для подключений по TCP/IP.</p><div class="note"><h3 class="title">Примечание</h3><p>Когда для локального подключения (не TCP/IP) указан ident, вместо него используется метод аутентификации peer (см. <a class="xref" href="auth-peer.html" title="21.9. Аутентификация peer">Раздел 21.9</a>).</p></div><p>Для метода <code class="literal">ident</code> доступны следующие параметры конфигурации: </p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal">map</code></span></dt><dd><p>Позволяет сопоставить имена пользователей системы и базы данных. За подробностями обратитесь к <a class="xref" href="auth-username-maps.html" title="21.2. Файл сопоставления имён пользователей">Разделу 21.2</a>.</p></dd></dl></div><p>Протокол <span class="quote">«<span class="quote">Identification</span>»</span> (Ident) описан в <a class="ulink" href="https://datatracker.ietf.org/doc/html/rfc1413" target="_top">RFC 1413</a>. Практически каждая Unix-подобная операционная система поставляется с сервером Ident, по умолчанию слушающим TCP-порт 113. Базовая функция этого сервера — отвечать на вопросы, вроде <span class="quote">«<span class="quote">Какой пользователь инициировал подключение, которое идет через твой порт <em class="replaceable"><code>X</code></em> и подключается к моему порту <em class="replaceable"><code>Y</code></em>?</span>»</span>. Поскольку после установления физического подключения <span class="productname">PostgreSQL</span> знает и <em class="replaceable"><code>X</code></em>, и <em class="replaceable"><code>Y</code></em>, он может опрашивать сервер Ident на компьютере клиента и теоретически может определять пользователя операционной системы при каждом подключении.</p><p>Недостатком этой процедуры является то, что она зависит от интеграции с клиентом: если клиентская машина не вызывает доверия или скомпрометирована, злоумышленник может запустить любую программу на порту 113 и вернуть любое имя пользователя на свой выбор. Поэтому этот метод аутентификации подходит только для закрытых сетей, где каждая клиентская машина находится под жёстким контролем и где администраторы операционных систем и баз данных работают в тесном контакте. Другими словами, вы должны доверять машине, на которой работает сервер Ident. Помните предупреждение: </p><div class="blockquote"><table border="0" class="blockquote" style="width: 100%; cellspacing: 0; cellpadding: 0;" summary="Block quote"><tr><td width="10%" valign="top"> </td><td width="80%" valign="top"><p>Протокол Ident не предназначен для использования в качестве протокола авторизации и контроля доступа.</p></td><td width="10%" valign="top"> </td></tr><tr><td width="10%" valign="top"> </td><td colspan="2" align="right" valign="top">--<span class="attribution">RFC 1413</span></td></tr></table></div><p>У некоторых серверов Ident есть нестандартная возможность, позволяющая зашифровать возвращаемое имя пользователя, используя ключ, который известен только администратору исходного компьютера. Эту возможность <span class="emphasis"><em>нельзя</em></span> использовать с <span class="productname">PostgreSQL</span>, поскольку <span class="productname">PostgreSQL</span> не сможет расшифровать возвращаемую строку и получить фактическое имя пользователя.</p></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="sspi-auth.html" title="21.7. Аутентификация SSPI">Пред.</a> </td><td width="20%" align="center"><a accesskey="u" href="client-authentication.html" title="Глава 21. Аутентификация клиентского приложения">Наверх</a></td><td width="40%" align="right"> <a accesskey="n" href="auth-peer.html" title="21.9. Аутентификация peer">След.</a></td></tr><tr><td width="40%" align="left" valign="top">21.7. Аутентификация SSPI </td><td width="20%" align="center"><a accesskey="h" href="index.html" title="Документация к PostgreSQL 16.3">Начало</a></td><td width="40%" align="right" valign="top"> 21.9. Аутентификация peer</td></tr></table></div></body></html>