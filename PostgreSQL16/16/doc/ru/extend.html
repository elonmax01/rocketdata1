<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Глава 38. Расширение SQL</title><link rel="stylesheet" type="text/css" href="stylesheet.css" /><link rev="made" href="pgsql-docs@lists.postgresql.org" /><meta name="generator" content="DocBook XSL Stylesheets Vsnapshot" /><link rel="prev" href="server-programming.html" title="Часть V. Серверное программирование" /><link rel="next" href="extend-how.html" title="38.1. Как реализована расширяемость" /></head><body id="docContent" class="container-fluid col-10"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="5" align="center">Глава 38. Расширение <acronym class="acronym">SQL</acronym></th></tr><tr><td width="10%" align="left"><a accesskey="p" href="server-programming.html" title="Часть V. Серверное программирование">Пред.</a> </td><td width="10%" align="left"><a accesskey="u" href="server-programming.html" title="Часть V. Серверное программирование">Наверх</a></td><th width="60%" align="center">Часть V. Серверное программирование</th><td width="10%" align="right"><a accesskey="h" href="index.html" title="Документация к PostgreSQL 16.3">Начало</a></td><td width="10%" align="right"> <a accesskey="n" href="extend-how.html" title="38.1. Как реализована расширяемость">След.</a></td></tr></table><hr /></div><div class="chapter" id="EXTEND"><div class="titlepage"><div><div><h2 class="title">Глава 38. Расширение <acronym class="acronym">SQL</acronym></h2></div></div></div><div class="toc"><p><strong>Содержание</strong></p><dl class="toc"><dt><span class="sect1"><a href="extend-how.html">38.1. Как реализована расширяемость</a></span></dt><dt><span class="sect1"><a href="extend-type-system.html">38.2. Система типов <span class="productname">PostgreSQL</span></a></span></dt><dd><dl><dt><span class="sect2"><a href="extend-type-system.html#EXTEND-TYPE-SYSTEM-BASE">38.2.1. Базовые типы</a></span></dt><dt><span class="sect2"><a href="extend-type-system.html#EXTEND-TYPE-SYSTEM-CONTAINER">38.2.2. Типы-контейнеры</a></span></dt><dt><span class="sect2"><a href="extend-type-system.html#EXTEND-TYPE-SYSTEM-DOMAINS">38.2.3. Домены</a></span></dt><dt><span class="sect2"><a href="extend-type-system.html#EXTEND-TYPE-SYSTEM-PSEUDO">38.2.4. Псевдотипы</a></span></dt><dt><span class="sect2"><a href="extend-type-system.html#EXTEND-TYPES-POLYMORPHIC">38.2.5. Полиморфные типы</a></span></dt></dl></dd><dt><span class="sect1"><a href="xfunc.html">38.3. Пользовательские функции</a></span></dt><dt><span class="sect1"><a href="xproc.html">38.4. Пользовательские процедуры</a></span></dt><dt><span class="sect1"><a href="xfunc-sql.html">38.5. Функции на языке запросов (<acronym class="acronym">SQL</acronym>)</a></span></dt><dd><dl><dt><span class="sect2"><a href="xfunc-sql.html#XFUNC-SQL-FUNCTION-ARGUMENTS">38.5.1. Аргументы <acronym class="acronym">SQL</acronym>-функций</a></span></dt><dt><span class="sect2"><a href="xfunc-sql.html#XFUNC-SQL-BASE-FUNCTIONS">38.5.2. Функции <acronym class="acronym">SQL</acronym> с базовыми типами</a></span></dt><dt><span class="sect2"><a href="xfunc-sql.html#XFUNC-SQL-COMPOSITE-FUNCTIONS">38.5.3. Функции <acronym class="acronym">SQL</acronym> со сложными типами</a></span></dt><dt><span class="sect2"><a href="xfunc-sql.html#XFUNC-OUTPUT-PARAMETERS">38.5.4. Функции <acronym class="acronym">SQL</acronym> с выходными параметрами</a></span></dt><dt><span class="sect2"><a href="xfunc-sql.html#XFUNC-OUTPUT-PARAMETERS-PROC">38.5.5. Процедуры <acronym class="acronym">SQL</acronym> с выходными параметрами</a></span></dt><dt><span class="sect2"><a href="xfunc-sql.html#XFUNC-SQL-VARIADIC-FUNCTIONS">38.5.6. Функции <acronym class="acronym">SQL</acronym> с переменным числом аргументов</a></span></dt><dt><span class="sect2"><a href="xfunc-sql.html#XFUNC-SQL-PARAMETER-DEFAULTS">38.5.7. Функции <acronym class="acronym">SQL</acronym> со значениями аргументов по умолчанию</a></span></dt><dt><span class="sect2"><a href="xfunc-sql.html#XFUNC-SQL-TABLE-FUNCTIONS">38.5.8. Функции <acronym class="acronym">SQL</acronym>, порождающие таблицы</a></span></dt><dt><span class="sect2"><a href="xfunc-sql.html#XFUNC-SQL-FUNCTIONS-RETURNING-SET">38.5.9. Функции <acronym class="acronym">SQL</acronym>, возвращающие множества</a></span></dt><dt><span class="sect2"><a href="xfunc-sql.html#XFUNC-SQL-FUNCTIONS-RETURNING-TABLE">38.5.10. Функции <acronym class="acronym">SQL</acronym>, возвращающие таблицы (<code class="literal">TABLE</code>)</a></span></dt><dt><span class="sect2"><a href="xfunc-sql.html#XFUNC-SQL-POLYMORPHIC-FUNCTIONS">38.5.11. Полиморфные функции <acronym class="acronym">SQL</acronym></a></span></dt><dt><span class="sect2"><a href="xfunc-sql.html#XFUNC-SQL-COLLATIONS">38.5.12. Функции <acronym class="acronym">SQL</acronym> с правилами сортировки</a></span></dt></dl></dd><dt><span class="sect1"><a href="xfunc-overload.html">38.6. Перегрузка функций</a></span></dt><dt><span class="sect1"><a href="xfunc-volatility.html">38.7. Категории изменчивости функций</a></span></dt><dt><span class="sect1"><a href="xfunc-pl.html">38.8. Функции на процедурных языках</a></span></dt><dt><span class="sect1"><a href="xfunc-internal.html">38.9. Внутренние функции</a></span></dt><dt><span class="sect1"><a href="xfunc-c.html">38.10. Функции на языке C</a></span></dt><dd><dl><dt><span class="sect2"><a href="xfunc-c.html#XFUNC-C-DYNLOAD">38.10.1. Динамическая загрузка</a></span></dt><dt><span class="sect2"><a href="xfunc-c.html#XFUNC-C-BASETYPE">38.10.2. Базовые типы в функциях на языке C</a></span></dt><dt><span class="sect2"><a href="xfunc-c.html#XFUNC-C-V1-CALL-CONV">38.10.3. Соглашение о вызовах версии 1</a></span></dt><dt><span class="sect2"><a href="xfunc-c.html#XFUNC-C-CODE">38.10.4. Написание кода</a></span></dt><dt><span class="sect2"><a href="xfunc-c.html#DFUNC">38.10.5. Компиляция и компоновка динамически загружаемых функций</a></span></dt><dt><span class="sect2"><a href="xfunc-c.html#XFUNC-C-COMPOSITE-TYPE-ARGS">38.10.6. Аргументы составного типа</a></span></dt><dt><span class="sect2"><a href="xfunc-c.html#XFUNC-C-RETURNING-ROWS">38.10.7. Возврат строк (составных типов)</a></span></dt><dt><span class="sect2"><a href="xfunc-c.html#XFUNC-C-RETURN-SET">38.10.8. Возврат множеств</a></span></dt><dt><span class="sect2"><a href="xfunc-c.html#XFUNC-C-POLYMORPHIC">38.10.9. Полиморфные типы аргументов и результата</a></span></dt><dt><span class="sect2"><a href="xfunc-c.html#XFUNC-SHARED-ADDIN">38.10.10. Разделяемая память и лёгкие блокировки</a></span></dt><dt><span class="sect2"><a href="xfunc-c.html#EXTEND-CPP">38.10.11. Использование C++ для расширяемости</a></span></dt></dl></dd><dt><span class="sect1"><a href="xfunc-optimization.html">38.11. Информация для оптимизации функций</a></span></dt><dt><span class="sect1"><a href="xaggr.html">38.12. Пользовательские агрегатные функции</a></span></dt><dd><dl><dt><span class="sect2"><a href="xaggr.html#XAGGR-MOVING-AGGREGATES">38.12.1. Режим движущегося агрегата</a></span></dt><dt><span class="sect2"><a href="xaggr.html#XAGGR-POLYMORPHIC-AGGREGATES">38.12.2. Агрегатные функции с полиморфными и переменными аргументами</a></span></dt><dt><span class="sect2"><a href="xaggr.html#XAGGR-ORDERED-SET-AGGREGATES">38.12.3. Сортирующие агрегатные функции</a></span></dt><dt><span class="sect2"><a href="xaggr.html#XAGGR-PARTIAL-AGGREGATES">38.12.4. Частичное агрегирование</a></span></dt><dt><span class="sect2"><a href="xaggr.html#XAGGR-SUPPORT-FUNCTIONS">38.12.5. Вспомогательные функции для агрегатов</a></span></dt></dl></dd><dt><span class="sect1"><a href="xtypes.html">38.13. Пользовательские типы</a></span></dt><dt><span class="sect1"><a href="xoper.html">38.14. Пользовательские операторы</a></span></dt><dt><span class="sect1"><a href="xoper-optimization.html">38.15. Информация для оптимизации операторов</a></span></dt><dd><dl><dt><span class="sect2"><a href="xoper-optimization.html#XOPER-COMMUTATOR">38.15.1. <code class="literal">COMMUTATOR</code></a></span></dt><dt><span class="sect2"><a href="xoper-optimization.html#XOPER-NEGATOR">38.15.2. <code class="literal">NEGATOR</code></a></span></dt><dt><span class="sect2"><a href="xoper-optimization.html#XOPER-RESTRICT">38.15.3. <code class="literal">RESTRICT</code></a></span></dt><dt><span class="sect2"><a href="xoper-optimization.html#XOPER-JOIN">38.15.4. <code class="literal">JOIN</code></a></span></dt><dt><span class="sect2"><a href="xoper-optimization.html#XOPER-HASHES">38.15.5. <code class="literal">HASHES</code></a></span></dt><dt><span class="sect2"><a href="xoper-optimization.html#XOPER-MERGES">38.15.6. <code class="literal">MERGES</code></a></span></dt></dl></dd><dt><span class="sect1"><a href="xindex.html">38.16. Интерфейсы расширений для индексов</a></span></dt><dd><dl><dt><span class="sect2"><a href="xindex.html#XINDEX-OPCLASS">38.16.1. Методы индексов и классы операторов</a></span></dt><dt><span class="sect2"><a href="xindex.html#XINDEX-STRATEGIES">38.16.2. Стратегии методов индексов</a></span></dt><dt><span class="sect2"><a href="xindex.html#XINDEX-SUPPORT">38.16.3. Опорные процедуры метода индекса</a></span></dt><dt><span class="sect2"><a href="xindex.html#XINDEX-EXAMPLE">38.16.4. Пример</a></span></dt><dt><span class="sect2"><a href="xindex.html#XINDEX-OPFAMILY">38.16.5. Семейства и классы операторов</a></span></dt><dt><span class="sect2"><a href="xindex.html#XINDEX-OPCLASS-DEPENDENCIES">38.16.6. Системные зависимости от классов операторов</a></span></dt><dt><span class="sect2"><a href="xindex.html#XINDEX-ORDERING-OPS">38.16.7. Операторы упорядочивания</a></span></dt><dt><span class="sect2"><a href="xindex.html#XINDEX-OPCLASS-FEATURES">38.16.8. Особенности классов операторов</a></span></dt></dl></dd><dt><span class="sect1"><a href="extend-extensions.html">38.17. Упаковывание связанных объектов в расширение</a></span></dt><dd><dl><dt><span class="sect2"><a href="extend-extensions.html#EXTEND-EXTENSIONS-FILES">38.17.1. Файлы расширений</a></span></dt><dt><span class="sect2"><a href="extend-extensions.html#EXTEND-EXTENSIONS-RELOCATION">38.17.2. Перемещаемость расширений</a></span></dt><dt><span class="sect2"><a href="extend-extensions.html#EXTEND-EXTENSIONS-CONFIG-TABLES">38.17.3. Конфигурационные таблицы расширений</a></span></dt><dt><span class="sect2"><a href="extend-extensions.html#EXTEND-EXTENSIONS-UPDATES">38.17.4. Обновление расширений</a></span></dt><dt><span class="sect2"><a href="extend-extensions.html#EXTEND-EXTENSIONS-UPDATE-SCRIPTS">38.17.5. Установка расширений скриптами обновления</a></span></dt><dt><span class="sect2"><a href="extend-extensions.html#EXTEND-EXTENSIONS-SECURITY">38.17.6. Замечания о безопасности расширений</a></span></dt><dt><span class="sect2"><a href="extend-extensions.html#EXTEND-EXTENSIONS-EXAMPLE">38.17.7. Пример расширения</a></span></dt></dl></dd><dt><span class="sect1"><a href="extend-pgxs.html">38.18. Инфраструктура сборки расширений</a></span></dt></dl></div><a id="id-1.8.3.2" class="indexterm"></a><p>В следующих разделах мы обсудим, как в <span class="productname">PostgreSQL</span> можно расширять язык запросов SQL, добавляя собственные: </p><div class="itemizedlist"><ul class="itemizedlist compact" style="list-style-type: bullet; "><li class="listitem" style="list-style-type: disc"><p>функции (начиная с <a class="xref" href="xfunc.html" title="38.3. Пользовательские функции">Раздела 38.3</a>)</p></li><li class="listitem" style="list-style-type: disc"><p>агрегатные функции (начиная с <a class="xref" href="xaggr.html" title="38.12. Пользовательские агрегатные функции">Раздела 38.12</a>)</p></li><li class="listitem" style="list-style-type: disc"><p>типы данных (начиная с <a class="xref" href="xtypes.html" title="38.13. Пользовательские типы">Раздела 38.13</a>)</p></li><li class="listitem" style="list-style-type: disc"><p>операторы (начиная с <a class="xref" href="xoper.html" title="38.14. Пользовательские операторы">Раздела 38.14</a>)</p></li><li class="listitem" style="list-style-type: disc"><p>классы операторов для индексов (начиная с <a class="xref" href="xindex.html" title="38.16. Интерфейсы расширений для индексов">Раздела 38.16</a>)</p></li><li class="listitem" style="list-style-type: disc"><p>пакеты связанных объектов (начиная с <a class="xref" href="extend-extensions.html" title="38.17. Упаковывание связанных объектов в расширение">Раздела 38.17</a>)</p></li></ul></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="server-programming.html" title="Часть V. Серверное программирование">Пред.</a> </td><td width="20%" align="center"><a accesskey="u" href="server-programming.html" title="Часть V. Серверное программирование">Наверх</a></td><td width="40%" align="right"> <a accesskey="n" href="extend-how.html" title="38.1. Как реализована расширяемость">След.</a></td></tr><tr><td width="40%" align="left" valign="top">Часть V. Серверное программирование </td><td width="20%" align="center"><a accesskey="h" href="index.html" title="Документация к PostgreSQL 16.3">Начало</a></td><td width="40%" align="right" valign="top"> 38.1. Как реализована расширяемость</td></tr></table></div></body></html>