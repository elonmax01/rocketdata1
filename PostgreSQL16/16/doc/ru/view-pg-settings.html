<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>54.24. pg_settings</title><link rel="stylesheet" type="text/css" href="stylesheet.css" /><link rev="made" href="pgsql-docs@lists.postgresql.org" /><meta name="generator" content="DocBook XSL Stylesheets Vsnapshot" /><link rel="prev" href="view-pg-sequences.html" title="54.23. pg_sequences" /><link rel="next" href="view-pg-shadow.html" title="54.25. pg_shadow" /></head><body id="docContent" class="container-fluid col-10"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="5" align="center">54.24. <code class="structname">pg_settings</code></th></tr><tr><td width="10%" align="left"><a accesskey="p" href="view-pg-sequences.html" title="54.23. pg_sequences">Пред.</a> </td><td width="10%" align="left"><a accesskey="u" href="views.html" title="Глава 54. Системные представления">Наверх</a></td><th width="60%" align="center">Глава 54. Системные представления</th><td width="10%" align="right"><a accesskey="h" href="index.html" title="Документация к PostgreSQL 16.3">Начало</a></td><td width="10%" align="right"> <a accesskey="n" href="view-pg-shadow.html" title="54.25. pg_shadow">След.</a></td></tr></table><hr /></div><div class="sect1" id="VIEW-PG-SETTINGS"><div class="titlepage"><div><div><h2 class="title" style="clear: both">54.24. <code class="structname">pg_settings</code> <a href="#VIEW-PG-SETTINGS" class="id_link">#</a></h2></div></div></div><a id="id-1.10.5.28.2" class="indexterm"></a><p>Представление <code class="structname">pg_settings</code> открывает доступ к параметрам времени выполнения сервера. По сути оно представляет собой альтернативный интерфейс для команд <a class="link" href="sql-show.html" title="SHOW"><code class="command">SHOW</code></a> и <a class="link" href="sql-set.html" title="SET"><code class="command">SET</code></a>. Оно также позволяет получить некоторые свойства каждого параметра, которые нельзя получить непосредственно, используя команду <a class="link" href="sql-show.html" title="SHOW"><code class="command">SHOW</code></a>, например минимальные и максимальные значения.</p><div class="table" id="id-1.10.5.28.4"><p class="title"><strong>Таблица 54.24. Столбцы <code class="structname">pg_settings</code></strong></p><div class="table-contents"><table class="table" summary="Столбцы pg_settings" border="1"><colgroup><col /></colgroup><thead><tr><th class="catalog_table_entry"><p class="column_definition">Тип столбца</p>
      <p>Описание</p></th></tr></thead><tbody><tr><td class="catalog_table_entry"><p class="column_definition">
       <code class="structfield">name</code> <code class="type">text</code>
      </p>
      <p>Имя параметра конфигурации времени выполнения</p></td></tr><tr><td class="catalog_table_entry"><p class="column_definition">
       <code class="structfield">setting</code> <code class="type">text</code>
      </p>
      <p>Текущее значение параметра</p></td></tr><tr><td class="catalog_table_entry"><p class="column_definition">
       <code class="structfield">unit</code> <code class="type">text</code>
      </p>
      <p>Неявно подразумеваемая единица измерения параметра</p></td></tr><tr><td class="catalog_table_entry"><p class="column_definition">
       <code class="structfield">category</code> <code class="type">text</code>
      </p>
      <p>Логическая группа параметра</p></td></tr><tr><td class="catalog_table_entry"><p class="column_definition">
       <code class="structfield">short_desc</code> <code class="type">text</code>
      </p>
      <p>Краткое описание параметра</p></td></tr><tr><td class="catalog_table_entry"><p class="column_definition">
       <code class="structfield">extra_desc</code> <code class="type">text</code>
      </p>
      <p>Дополнительное, более подробное, описание параметра</p></td></tr><tr><td class="catalog_table_entry"><p class="column_definition">
       <code class="structfield">context</code> <code class="type">text</code>
      </p>
      <p>Контекст, в котором может задаваться значение параметра (см. ниже)</p></td></tr><tr><td class="catalog_table_entry"><p class="column_definition">
       <code class="structfield">vartype</code> <code class="type">text</code>
      </p>
      <p>Тип параметра (<code class="literal">bool</code>, <code class="literal">enum</code>, <code class="literal">integer</code>, <code class="literal">real</code> или <code class="literal">string</code>)</p></td></tr><tr><td class="catalog_table_entry"><p class="column_definition">
       <code class="structfield">source</code> <code class="type">text</code>
      </p>
      <p>Источник текущего значения параметра</p></td></tr><tr><td class="catalog_table_entry"><p class="column_definition">
       <code class="structfield">min_val</code> <code class="type">text</code>
      </p>
      <p>Минимальное допустимое значение параметра (NULL для нечисловых значений)</p></td></tr><tr><td class="catalog_table_entry"><p class="column_definition">
       <code class="structfield">max_val</code> <code class="type">text</code>
      </p>
      <p>Максимально допустимое значение параметра (NULL для нечисловых значений)</p></td></tr><tr><td class="catalog_table_entry"><p class="column_definition">
       <code class="structfield">enumvals</code> <code class="type">text[]</code>
      </p>
      <p>Допустимые значения параметра-перечисления (NULL для значений не перечислений)</p></td></tr><tr><td class="catalog_table_entry"><p class="column_definition">
       <code class="structfield">boot_val</code> <code class="type">text</code>
      </p>
      <p>Значение параметра, устанавливаемое при запуске сервера, если параметр не устанавливается другим образом</p></td></tr><tr><td class="catalog_table_entry"><p class="column_definition">
       <code class="structfield">reset_val</code> <code class="type">text</code>
      </p>
      <p>Значение, к которому будет сбрасывать параметр команда <a class="link" href="sql-reset.html" title="RESET"><code class="command">RESET</code></a> в текущем сеансе</p></td></tr><tr><td class="catalog_table_entry"><p class="column_definition">
       <code class="structfield">sourcefile</code> <code class="type">text</code>
      </p>
      <p>Файл конфигурации, в котором было задано текущее значение (NULL для значений, полученных не из файлов конфигурации, или при чтении этого поля не суперпользователем и не пользователем с правами роли <code class="literal">pg_read_all_settings</code>); полезно при использовании указаний <code class="literal">include</code> в файлах конфигурации</p></td></tr><tr><td class="catalog_table_entry"><p class="column_definition">
       <code class="structfield">sourceline</code> <code class="type">int4</code>
      </p>
      <p>Номер строки в файле конфигурации, в которой было задано текущее значение (NULL для значений, полученных не из файлов конфигурации, или при чтении этого поля не суперпользователем и не пользователем с правами роли <code class="literal">pg_read_all_settings</code>).</p></td></tr><tr><td class="catalog_table_entry"><p class="column_definition">
       <code class="structfield">pending_restart</code> <code class="type">bool</code>
      </p>
      <p><code class="literal">true</code>, если значение изменено в файле конфигурации, но требуется перезапуск; в противном случае — <code class="literal">false</code>.</p></td></tr></tbody></table></div></div><br class="table-break" /><p>Поле <code class="structfield">context</code> может содержать одно из следующих значений (они перечислены в порядке уменьшения сложности изменения параметров):</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal">internal</code></span></dt><dd><p>Эти параметры нельзя изменить непосредственно; они отражают значения, определяемые внутри системы. Некоторые из них можно изменить, пересобрав сервер с другими параметрами конфигурации, либо передав другие аргументы <span class="application">initdb</span>.</p></dd><dt><span class="term"><code class="literal">postmaster</code></span></dt><dd><p>Эти параметры могут быть применены только при запуске сервера, так что любое изменение требует перезапуска сервера. Значения этих параметров обычно задаются в <code class="filename">postgresql.conf</code>, либо передаются в командной строке при запуске сервера. Разумеется, параметры более низкого уровня <code class="structfield">context</code> также можно задать в момент запуска сервера.</p></dd><dt><span class="term"><code class="literal">sighup</code></span></dt><dd><p>Внесённые в <code class="filename">postgresql.conf</code> изменения этих параметров можно применить, не перезапуская сервер. Если передать управляющему процессу сигнал <span class="systemitem">SIGHUP</span>, он перечитает <code class="filename">postgresql.conf</code> и применит изменения. Управляющий процесс также перешлёт сигнал <span class="systemitem">SIGHUP</span> всем своим дочерним процессам, чтобы они тоже приняли новое значение.</p></dd><dt><span class="term"><code class="literal">superuser-backend</code></span></dt><dd><p>Внесённые в <code class="filename">postgresql.conf</code> изменения этих параметров можно применить без перезапуска сервера; их также можно задать для определённого сеанса в пакете запроса соединения (например, через переменную окружения <code class="literal">PGOPTIONS</code>, учитываемую библиотекой <span class="application">libpq</span>), но сделать это может только суперпользователь или пользователь с соответствующими правами <code class="literal">SET</code>. Однако эти параметры никогда не меняются в сеансе, когда он уже начат. Если вы измените их в <code class="filename">postgresql.conf</code>, отправьте сигнал <span class="systemitem">SIGHUP</span> управляющему процессу, чтобы он перечитал <code class="filename">postgresql.conf</code>. Новые значения подействуют только на сеансы, запускаемые после этого.</p></dd><dt><span class="term"><code class="literal">backend</code></span></dt><dd><p>Внесённые в <code class="filename">postgresql.conf</code> изменения этих параметров можно применить без перезапуска сервера; их также можно задать для определённого сеанса в пакете запроса соединения (например, через переменную окружения <code class="literal">PGOPTIONS</code>, учитываемую библиотекой <span class="application">libpq</span>); это может сделать любой пользователь в своём сеансе. Однако эти параметры никогда не меняются в сеансе, когда он уже начат. Если вы измените их в <code class="filename">postgresql.conf</code>, отправьте сигнал <span class="systemitem">SIGHUP</span> управляющему процессу, чтобы он перечитал <code class="filename">postgresql.conf</code>. Новые значения подействуют только на сеансы, запускаемые после этого.</p></dd><dt><span class="term"><code class="literal">superuser</code></span></dt><dd><p>Эти параметры можно изменить в <code class="filename">postgresql.conf</code>, либо в рамках сеанса, командой <code class="command">SET</code>; но только суперпользователи и пользователи с соответствующими правами <code class="literal">SET</code> могут менять их, используя <code class="command">SET</code>. Изменения <code class="filename">postgresql.conf</code> не повлияют на существующие сеансы, если в них командой <code class="command">SET</code> были заданы локальные значения.</p></dd><dt><span class="term"><code class="literal">user</code></span></dt><dd><p>Эти параметры можно задать в <code class="filename">postgresql.conf</code>, либо в рамках сеанса, командой <code class="command">SET</code>. В рамках сеанса изменять их разрешено всем пользователям. Изменения в <code class="filename">postgresql.conf</code> будут отражены в существующих сеансах, только если в них командой <code class="command">SET</code> не были заданы локальные значения.</p></dd></dl></div><p>Чтобы узнать больше о различных способах изменения этих параметров, обратитесь к <a class="xref" href="config-setting.html" title="20.1. Изменение параметров">Разделу 20.1</a>.</p><p>Это представление не допускает добавление и удаление строк, но допускает изменение. Команда <code class="command">UPDATE</code>, применённая к строке <code class="structname">pg_settings</code>, равнозначна выполнению команды <code class="command">SET</code> для этого параметра. Изменение повлияет только на значение в текущем сеансе. Если <code class="command">UPDATE</code> выполняется в транзакции, которая затем прерывается, эффект <code class="command">UPDATE</code> пропадает, когда транзакция откатывается. После фиксирования окружающей транзакции этот эффект сохраняется до завершения сеанса, если он не будет переопределён другой командой <code class="command">UPDATE</code> или <code class="command">SET</code>.</p><p>В этом представлении не отображаются <a class="link" href="runtime-config-custom.html" title="20.16. Внесистемные параметры">внесистемные параметры</a>, если определяющий их модуль расширения не будет загружен к моменту обращения к представлению (например, он может загружаться в <a class="xref" href="runtime-config-client.html#GUC-SHARED-PRELOAD-LIBRARIES">shared_preload_libraries</a> или при вызове функции уровня C в данном расширении или при выполнении команды <a class="link" href="sql-load.html" title="LOAD"><code class="command">LOAD</code></a>). Так, например, <a class="link" href="archive-modules.html" title="Глава 51. Модули архивирования">модули архивирования</a> обычно загружаются процессом архиватора, а не обычными сеансами, поэтому в данном представлении не будут отображаться никакие внесистемные параметры, определённые в таких модулях, если специально не загрузить их в обслуживающий процесс, выполняющий запрос.</p></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="view-pg-sequences.html" title="54.23. pg_sequences">Пред.</a> </td><td width="20%" align="center"><a accesskey="u" href="views.html" title="Глава 54. Системные представления">Наверх</a></td><td width="40%" align="right"> <a accesskey="n" href="view-pg-shadow.html" title="54.25. pg_shadow">След.</a></td></tr><tr><td width="40%" align="left" valign="top">54.23. <code class="structname">pg_sequences</code> </td><td width="20%" align="center"><a accesskey="h" href="index.html" title="Документация к PostgreSQL 16.3">Начало</a></td><td width="40%" align="right" valign="top"> 54.25. <code class="structname">pg_shadow</code></td></tr></table></div></body></html>