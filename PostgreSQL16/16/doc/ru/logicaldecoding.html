<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Глава 49. Логическое декодирование</title><link rel="stylesheet" type="text/css" href="stylesheet.css" /><link rev="made" href="pgsql-docs@lists.postgresql.org" /><meta name="generator" content="DocBook XSL Stylesheets Vsnapshot" /><link rel="prev" href="bgworker.html" title="Глава 48. Фоновые рабочие процессы" /><link rel="next" href="logicaldecoding-example.html" title="49.1. Примеры логического декодирования" /></head><body id="docContent" class="container-fluid col-10"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="5" align="center">Глава 49. Логическое декодирование</th></tr><tr><td width="10%" align="left"><a accesskey="p" href="bgworker.html" title="Глава 48. Фоновые рабочие процессы">Пред.</a> </td><td width="10%" align="left"><a accesskey="u" href="server-programming.html" title="Часть V. Серверное программирование">Наверх</a></td><th width="60%" align="center">Часть V. Серверное программирование</th><td width="10%" align="right"><a accesskey="h" href="index.html" title="Документация к PostgreSQL 16.3">Начало</a></td><td width="10%" align="right"> <a accesskey="n" href="logicaldecoding-example.html" title="49.1. Примеры логического декодирования">След.</a></td></tr></table><hr /></div><div class="chapter" id="LOGICALDECODING"><div class="titlepage"><div><div><h2 class="title">Глава 49. Логическое декодирование</h2></div></div></div><div class="toc"><p><strong>Содержание</strong></p><dl class="toc"><dt><span class="sect1"><a href="logicaldecoding-example.html">49.1. Примеры логического декодирования</a></span></dt><dt><span class="sect1"><a href="logicaldecoding-explanation.html">49.2. Концепции логического декодирования</a></span></dt><dd><dl><dt><span class="sect2"><a href="logicaldecoding-explanation.html#LOGICALDECODING-EXPLANATION-LOG-DEC">49.2.1. Логическое декодирование</a></span></dt><dt><span class="sect2"><a href="logicaldecoding-explanation.html#LOGICALDECODING-REPLICATION-SLOTS">49.2.2. Слоты репликации</a></span></dt><dt><span class="sect2"><a href="logicaldecoding-explanation.html#LOGICALDECODING-EXPLANATION-OUTPUT-PLUGINS">49.2.3. Модули вывода</a></span></dt><dt><span class="sect2"><a href="logicaldecoding-explanation.html#LOGICALDECODING-EXPLANATION-EXPORTED-SNAPSHOTS">49.2.4. Экспортированные снимки</a></span></dt></dl></dd><dt><span class="sect1"><a href="logicaldecoding-walsender.html">49.3. Интерфейс протокола потоковой репликации</a></span></dt><dt><span class="sect1"><a href="logicaldecoding-sql.html">49.4. Интерфейс логического декодирования на уровне <acronym class="acronym">SQL</acronym></a></span></dt><dt><span class="sect1"><a href="logicaldecoding-catalogs.html">49.5. Системные каталоги, связанные с логическим декодированием</a></span></dt><dt><span class="sect1"><a href="logicaldecoding-output-plugin.html">49.6. Модули вывода логического декодирования</a></span></dt><dd><dl><dt><span class="sect2"><a href="logicaldecoding-output-plugin.html#LOGICALDECODING-OUTPUT-INIT">49.6.1. Функция инициализации</a></span></dt><dt><span class="sect2"><a href="logicaldecoding-output-plugin.html#LOGICALDECODING-CAPABILITIES">49.6.2. Возможности</a></span></dt><dt><span class="sect2"><a href="logicaldecoding-output-plugin.html#LOGICALDECODING-OUTPUT-MODE">49.6.3. Режимы вывода</a></span></dt><dt><span class="sect2"><a href="logicaldecoding-output-plugin.html#LOGICALDECODING-OUTPUT-PLUGIN-CALLBACKS">49.6.4. Обработчики в модуле вывода</a></span></dt><dt><span class="sect2"><a href="logicaldecoding-output-plugin.html#LOGICALDECODING-OUTPUT-PLUGIN-OUTPUT">49.6.5. Функции для формирования вывода</a></span></dt></dl></dd><dt><span class="sect1"><a href="logicaldecoding-writer.html">49.7. Запись вывода логического декодирования</a></span></dt><dt><span class="sect1"><a href="logicaldecoding-synchronous.html">49.8. Поддержка синхронной репликации для логического декодирования</a></span></dt><dd><dl><dt><span class="sect2"><a href="logicaldecoding-synchronous.html#LOGICALDECODING-SYNCHRONOUS-OVERVIEW">49.8.1. Обзор</a></span></dt><dt><span class="sect2"><a href="logicaldecoding-synchronous.html#LOGICALDECODING-SYNCHRONOUS-CAVEATS">49.8.2. Ограничения</a></span></dt></dl></dd><dt><span class="sect1"><a href="logicaldecoding-streaming.html">49.9. Передача больших транзакций для логического декодирования</a></span></dt><dt><span class="sect1"><a href="logicaldecoding-two-phase-commits.html">49.10. Поддержка двухфазной фиксации для логического декодирования</a></span></dt></dl></div><a id="id-1.8.14.2" class="indexterm"></a><p>PostgreSQL обеспечивает инфраструктуру для потоковой передачи изменений, выполняемых через SQL, внешним потребителям. Эта функциональность может быть полезна для самых разных целей, включая аудит и реализацию репликации.</p><p>Изменения передаются в потоках, связываемых со слотами логической репликации.</p><p>Формат, в котором передаются изменения, определяет используемый модуль вывода. Пример модуля вывода включён в дистрибутив PostgreSQL. Также возможно разработать и другие модули, расширяющие выбор доступных форматов, не затрагивая код ядра самого сервера. Любой модуль вывода получает на вход отдельные строки, создаваемые командой <code class="command">INSERT</code>, и новые версии строк, которые создаёт <code class="command">UPDATE</code>. Доступность старых версий строк для <code class="command">UPDATE</code> и <code class="command">DELETE</code> зависит от выбора варианта идентификации реплики (см. описание <a class="xref" href="sql-altertable.html#SQL-ALTERTABLE-REPLICA-IDENTITY"><code class="literal">REPLICA IDENTITY</code></a>).</p><p>Изменения могут быть получены либо по протоколу потоковой репликации (см. <a class="xref" href="protocol-replication.html" title="55.4. Протокол потоковой репликации">Раздел 55.4</a> и <a class="xref" href="logicaldecoding-walsender.html" title="49.3. Интерфейс протокола потоковой репликации">Раздел 49.3</a>), либо через функции, вызываемые в SQL (см. <a class="xref" href="logicaldecoding-sql.html" title="49.4. Интерфейс логического декодирования на уровне SQL">Раздел 49.4</a>). Также возможно разработать дополнительные методы для обработки данных, поступающих через слот репликации, не модифицируя код ядра сервера (см. <a class="xref" href="logicaldecoding-writer.html" title="49.7. Запись вывода логического декодирования">Раздел 49.7</a>).</p></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="bgworker.html" title="Глава 48. Фоновые рабочие процессы">Пред.</a> </td><td width="20%" align="center"><a accesskey="u" href="server-programming.html" title="Часть V. Серверное программирование">Наверх</a></td><td width="40%" align="right"> <a accesskey="n" href="logicaldecoding-example.html" title="49.1. Примеры логического декодирования">След.</a></td></tr><tr><td width="40%" align="left" valign="top">Глава 48. Фоновые рабочие процессы </td><td width="20%" align="center"><a accesskey="h" href="index.html" title="Документация к PostgreSQL 16.3">Начало</a></td><td width="40%" align="right" valign="top"> 49.1. Примеры логического декодирования</td></tr></table></div></body></html>