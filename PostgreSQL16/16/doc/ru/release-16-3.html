<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>E.1. Выпуск 16.3</title><link rel="stylesheet" type="text/css" href="stylesheet.css" /><link rev="made" href="pgsql-docs@lists.postgresql.org" /><meta name="generator" content="DocBook XSL Stylesheets Vsnapshot" /><link rel="prev" href="release.html" title="Приложение E. Замечания к выпускам" /><link rel="next" href="release-16-2.html" title="E.2. Выпуск 16.2" /></head><body id="docContent" class="container-fluid col-10"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="5" align="center">E.1. Выпуск 16.3</th></tr><tr><td width="10%" align="left"><a accesskey="p" href="release.html" title="Приложение E. Замечания к выпускам">Пред.</a> </td><td width="10%" align="left"><a accesskey="u" href="release.html" title="Приложение E. Замечания к выпускам">Наверх</a></td><th width="60%" align="center">Приложение E. Замечания к выпускам</th><td width="10%" align="right"><a accesskey="h" href="index.html" title="Документация к PostgreSQL 16.3">Начало</a></td><td width="10%" align="right"> <a accesskey="n" href="release-16-2.html" title="E.2. Выпуск 16.2">След.</a></td></tr></table><hr /></div><div class="sect1" id="RELEASE-16-3"><div class="titlepage"><div><div><h2 class="title" style="clear: both">E.1. Выпуск 16.3 <a href="#RELEASE-16-3" class="id_link">#</a></h2></div></div></div><div class="toc"><dl class="toc"><dt><span class="sect2"><a href="release-16-3.html#RELEASE-16-3-MIGRATION">E.1.1. Миграция на версию 16.3</a></span></dt><dt><span class="sect2"><a href="release-16-3.html#RELEASE-16-3-CHANGES">E.1.2. Изменения</a></span></dt></dl></div><p><strong>Дата выпуска: </strong>2024-05-09</p><p>В этот выпуск вошли различные исправления, внесённые после версии 16.2. За информацией о нововведениях версии 16 обратитесь к <a class="xref" href="release-16.html" title="E.4. Выпуск 16">Разделу E.4</a>.</p><div class="sect2" id="RELEASE-16-3-MIGRATION"><div class="titlepage"><div><div><h3 class="title">E.1.1. Миграция на версию 16.3 <a href="#RELEASE-16-3-MIGRATION" class="id_link">#</a></h3></div></div></div><p>Если используется версия 16.X, выгрузка/восстановление базы не требуется.</p><p>Однако в системных представлениях <code class="structname">pg_stats_ext</code> и <code class="structname">pg_stats_ext_exprs</code> была обнаружена уязвимость безопасности, которая потенциально позволяла аутентифицированным пользователям базы данных видеть данные, к которым они не должны были иметь доступа. Если такая угроза безопасности вызывает опасения, выполните действия, указанные в первом пункте списка изменений ниже.</p><p>Также, если вы обновляете сервер с более ранней версии, чем 16.2, см. <a class="xref" href="release-16-2.html" title="E.2. Выпуск 16.2">Раздел E.2</a>.</p></div><div class="sect2" id="RELEASE-16-3-CHANGES"><div class="titlepage"><div><div><h3 class="title">E.1.2. Изменения <a href="#RELEASE-16-3-CHANGES" class="id_link">#</a></h3></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Видимость записей <code class="structname">pg_stats_ext</code> и <code class="structname">pg_stats_ext_exprs</code> ограничена владельцем таблицы (Натан Боссарт)</p><p>В этих представлениях не скрывалась статистика для выражений со столбцами, на чтение которых у текущего пользователя не было разрешения. Столбцы представления, такие как <code class="structfield">most_common_vals</code>, могли содержать данные, важные для безопасности. Потенциальные взаимодействия не до конца понятны, поэтому в целях безопасности строки в этих представлениях теперь видимы только владельцу связанной таблицы.</p><p>Проект <span class="productname">PostgreSQL</span> благодарит Лукаса Фиттла за сообщение об этой проблеме. (CVE-2024-4317)</p><p>Это исправление корректирует поведение только в новых кластерах баз данных, созданных с помощью initdb. Чтобы применить это изменение в существующем кластере, необходимо сделать следующее:</p><div class="procedure"><ol class="procedure" type="1"><li class="step"><p>Найдите скрипт SQL <code class="filename">fix-CVE-2024-4317.sql</code> в каталоге <em class="replaceable"><code>share</code></em> инсталляции <span class="productname">PostgreSQL</span> (обычно он находится в <code class="filename">/usr/share/postgresql/</code>). Обязательно используйте скрипт, соответствующий вашей основной версии <span class="productname">PostgreSQL</span>. Отсутствие данного файла означает, что либо основная версия не подвержена уязвимости (она есть только в версиях 14–16), либо корректирующая версия слишком устарела для исправления.</p></li><li class="step"><p>В <span class="emphasis"><em>каждой</em></span> базе данных кластера запустите скрипт <code class="filename">fix-CVE-2024-4317.sql</code> от имени суперпользователя. В <span class="application">psql</span> это будет выглядеть так: </p><pre class="programlisting">\i /usr/share/postgresql/fix-CVE-2024-4317.sql</pre><p> (путь к файлу должен быть изменён соответствующим образом). Любая ошибка потенциально указывает на то, что используется неправильная версия скрипта. Рекомендуется выполнить скрипт несколько раз.</p></li><li class="step"><p>Не забудьте применить скрипт к шаблонам баз данных <code class="literal">template0</code> и <code class="literal">template1</code>, иначе уязвимости будут подвержены базы данных, созданные позднее. Чтобы исправить <code class="literal">template0</code>, необходимо временно разрешить ему принимать соединения. Для этого используйте </p><pre class="programlisting">ALTER DATABASE template0 WITH ALLOW_CONNECTIONS true;</pre><p>, а после исправления <code class="literal">template0</code> отмените разрешение с помощью </p><pre class="programlisting">ALTER DATABASE template0 WITH ALLOW_CONNECTIONS false;</pre></li></ol></div></li><li class="listitem"><p>Исправление поведения команды <code class="command">INSERT</code> при вставке из нескольких строк <code class="command">VALUES</code> в целевой столбец, который является доменом, определённым поверх массива или составного типа (Том Лейн)</p><p>В таких случаях команда либо завершалась ошибкой с сообщением о несовпадающих типах данных, либо вставлялись непредсказуемые приведённые значения, в результате чего могли выдаваться странные результаты.</p></li><li class="listitem"><p>Требование права <code class="literal">SELECT</code> для целевой таблицы при выполнении команды <code class="command">MERGE</code> с предложением <code class="literal">DO NOTHING</code> (Альваро Эррера)</p><p>Право <code class="literal">SELECT</code> всегда требовалось во всех практических случаях, но теперь оно требуется, даже если запрос не считывает столбцы целевой таблицы. Это позволяет избежать особого случая, когда для команды <code class="command">MERGE</code> не требуются никакие права, что кажется нежелательным, даже если команда ничего не делает.</p></li><li class="listitem"><p>Исправление обработки самоизменяемых кортежей при выполнении команды <code class="command">MERGE</code> (Дин Рашид)</p><p>Теперь, если целевая строка соединяется с более чем одной исходной строкой, выдаётся ошибка согласно требованиям стандарта SQL. (Ранее код мог игнорировать это условие при выполнении параллельного изменения.) Кроме того, теперь выдаётся корректное сообщение об ошибке, если целевая строка уже обновлена более поздней командой в текущей транзакции, когда в запросе используется триггер <code class="literal">BEFORE</code> или изменчивая функция.</p></li><li class="listitem"><p>Исправление некорректного устранения секции NULL в случаях, когда таблица секционирована по логическому столбцу и запрос содержит логическое предложение <code class="literal">IS NOT</code> (Дэвид Роули)</p><p>Значение NULL удовлетворяло предложению вида <code class="literal"><em class="replaceable"><code>boolcol</code></em> IS NOT FALSE</code>, поэтому устранение секции, содержащей значения NULL, приводило к некорректным результатам.</p></li><li class="listitem"><p>Обеспечение перемещения всех последовательностей, принадлежащих таблице, в новую схему при использовании команды <code class="command">ALTER FOREIGN TABLE SET SCHEMA</code> (Том Лейн)</p><p>Перемещение обычной таблицы в новую схему приводит к тому, что все последовательности, принадлежащие таблице, также перемещаются в эту схему (вместе с индексами и ограничениями). Раньше последовательности сторонних таблиц не перемещались.</p></li><li class="listitem"><p>Обеспечение того же режима журналирования последовательностей со столбцами идентификаторов или столбцами serial, создаваемых командой <code class="command">ALTER TABLE ... ADD COLUMN</code> , что и у таблицы-владельца (Питер Эйзентраут)</p><p>Если таблица создаётся как нежурналируемая командой <code class="command">CREATE UNLOGGED TABLE</code>, журналирование любых принадлежащих таблице последовательностей также не выполняется. Но для команды <code class="command">ALTER TABLE</code> такое поведение не обеспечивалось, так что выполнялось ненужное журналирование последовательности с добавленными столбцами идентификаторов.</p></li><li class="listitem"><p>Улучшение информативности сообщения об ошибке <code class="command">ALTER TABLE ... ALTER COLUMN TYPE</code> при наличии зависимой функции или публикации (Том Лейн)</p></li><li class="listitem"><p>Распознавание ключевых слов стратегии создания базы данных в команде <code class="command">CREATE DATABASE</code> без учёта регистра для обеспечения согласованности с другими параметрами (Томаш Вондра)</p></li><li class="listitem"><p>Исправление подсчёта страниц в куче командой <code class="command">EXPLAIN</code> при сканировании кучи по битовой карте (Мелани Плейгман)</p><p>Ранее не учитывались страницы кучи, не содержащие видимых кортежей, но более логично подсчитывать все страницы, возвращаемые при сканировании индекса по битовой карте.</p></li><li class="listitem"><p>Исправление вывода команды <code class="command">EXPLAIN</code> для подпланов в <code class="command">MERGE</code> (Дин Рашид)</p><p>При выполнении команды <code class="command">EXPLAIN</code> параметры подплана, ссылающиеся на переменные в других частях дерева плана, иногда не отображались должным образом.</p></li><li class="listitem"><p>Предотвращение взаимоблокировок при удалении потерянных временных таблиц (Михаил Жилин)</p><p>Если сеанс, создающий временную таблицу, завершается сбоем без удаления таблицы, процесс автоочистки рано или поздно попытается удалить потерянную таблицу. Однако входящий сеанс, которому назначено то же временное пространство имён, тоже сделает это. Раньше такие одновременные попытки очистки могли приводить к взаимоблокировкам, если временная таблица имела зависимость (например, принадлежащую ей последовательность).</p></li><li class="listitem"><p>Исправление обновления состояния карты видимости при выполнении команды <code class="command">VACUUM</code> с параметром <code class="literal">DISABLE_PAGE_SKIPPING</code> (Хейкки Линнакангас)</p><p>Из-за недочёта реализации очистка в таком режиме вызывала загрязнение всех страниц в куче , что приводило к избыточному вводу-выводу. Кроме того, не очищались неправильно установленные биты карты видимости.</p></li><li class="listitem"><p>Устранение условий гонки при проверке значений замороженных XID для каждого отношения (Ной Миш)</p><p>Вычисление значений замороженных XID для каждой базы данных на основе значений каждого отношения при выполнении команды <code class="command">VACUUM</code> могло сбиваться из-за параллельного изменения этих значений другой командой <code class="command">VACUUM</code>.</p></li><li class="listitem"><p>Исправление отчётов об использовании буфера при параллельной очистке (Антонин Боннефой)</p><p>Обращения к буферу, выполняемые параллельными рабочими процессами, не учитывались в статистике, предоставляемой в режиме <code class="literal">VERBOSE</code>.</p></li><li class="listitem"><p>Обеспечение применения условий соединения, сгенерированных на основе классов эквивалентности, на правильном уровне плана (Том Лейн)</p><p>В версиях до <span class="productname">PostgreSQL</span> 16 сгенерированные условия могли оцениваться ниже внешних соединений, что приводило к неверным результатам запроса, поскольку они должны оцениваться выше (после) внешних соединений. Это касалось всех версий в случаях соединений с конструкциями <code class="command">UNION ALL</code>, когда в столбце соединения в результате некоторых подзапросов <code class="command">SELECT</code> возвращались константы.</p></li><li class="listitem"><p>Исправление ошибок <span class="quote">«<span class="quote">could not find pathkey item to sort</span>»</span> (не удалось найти элемент ключа пути для сортировки), возникающих при планировании агрегатных функций с параметрами <code class="literal">ORDER BY</code> или <code class="literal">DISTINCT</code> (Дэвид Роули)</p><p>Это исправление похоже на вошедшее в версию 16.1, но оно решает проблему с параллельными планами.</p></li><li class="listitem"><p>Предотвращение потенциально некорректной оптимизации некоторых оконных функций (Дэвид Роули)</p><p>Оптимизация <span class="quote">«<span class="quote">условий запуска</span>»</span> была отключена для <code class="function">ntile()</code> и <code class="function">count()</code> с непостоянными аргументами. Это позволяет избежать возможного некорректного поведения при выполнении вложенных запросов SELECT, что ранее обычно приводило к таким ошибкам, как <span class="quote">«<span class="quote">WindowFunc not found in subplan target lists</span>»</span> (оконная функция не найдена в целевом списке подплана).</p></li><li class="listitem"><p>Предотвращение ненужного использования режима движущегося агрегата для окна с неподвижным началом рамки (Валлимахараджан Джи)</p><p>В случаях, когда в качестве оконной функции использовался простой агрегат, а начало рамки окна указывалось как <code class="literal">UNBOUNDED PRECEDING</code>, рамка не могла перемещаться, поэтому не следовало использовать специальный (и более дорогой) режим движущегося агрегата. Данная оптимизация изначально должна была работать, но из-за ошибки в коде никогда не применялась.</p></li><li class="listitem"><p>Предотвращение использования ранее освобождённых данных при планировании соединений на уровне секций GEQO-оптимизатором (Том Лейн)</p><p>Такие случаи обычно приводили к сбою или неожиданному сообщению об ошибке.</p></li><li class="listitem"><p>Предотвращение освобождения ещё используемых данных в Memoize (Тендер Ван, Андрей Лепихов)</p><p>В производственных сборках эта ошибка зачастую не вызывала никаких проблем, поскольку освобождённые данные, скорее всего, не перезаписывались до использования.</p></li><li class="listitem"><p>Исправление некорректного отображения кодов для видов статистики в сообщениях об ошибках <span class="quote">«<span class="quote">requested statistics kind <em class="replaceable"><code>X</code></em> is not yet built</span>»</span> (запрошенный вид статистики X ещё не создан) (Дэвид Роули)</p></li><li class="listitem"><p>Использование хеш-таблицы вместо линейного поиска для объектов <span class="quote">«<span class="quote">catcache list</span>»</span> (Том Лейн)</p><p>Это изменение решает проблемы с производительностью, которые наблюдались при выполнении определённых операций в инсталляциях с тысячами ролей.</p></li><li class="listitem"><p>Более аккуратная обработка функций, возвращающих <code class="type">RECORD</code>, в предложениях <code class="literal">FROM</code> (Том Лейн)</p><p>Выходные столбцы такого вызова функции должны определяться предложением <code class="literal">AS</code>, которое указывает имена столбцов и типы данных. Если фактическое выходное значение функции не соответствует этому указанию, предполагается, что во время выполнения должна выдаваться ошибка. Однако в некоторых местах кода фактическое значение могло проверяться преждевременно, и если оно не соответствовало, могли возникать странные ошибки или сбои проверочных утверждений.</p></li><li class="listitem"><p>Устранение путаницы в отношении типа возвращаемой строки процедур на языке SQL (Том Лейн)</p><p>Процедура, реализованная на языке SQL, которая возвращает один столбец составного типа, могла вызывать сбой проверочного утверждения или аварийный сбой.</p></li><li class="listitem"><p>Добавление защитных проверок глубины стека в некоторых рекурсивных функциях (Егор Чиндяскин)</p></li><li class="listitem"><p>Устранение ошибок округления и возможности переполнения в функции <code class="function">date_bin()</code> (Моааз Ассали)</p><p>В случаях, когда приводимое значение предшествовало временной метке источника и их разность уже была кратна точному шагу, в коде шаг всё равно вычитался неправильно. Кроме того, были выявлены некоторые случаи целочисленного переполнения, которые могли приводить к неверным результатам.</p></li><li class="listitem"><p>Обнаружение целочисленного переполнения при добавлении или вычитании значений типа <code class="type">interval</code> из значений типа <code class="type">timestamp</code> (Джозеф Кошаков)</p><p>В некоторых случаях, которые должны вызывать ошибку выхода за пределы допустимого диапазона, вместо этого выдавался неверный результат.</p></li><li class="listitem"><p>Устранение условий гонки в функции <code class="function">pg_get_expr()</code> (Том Лейн)</p><p>Функция должна была возвращать NULL, если параллельно удалялось отношение, на которое ссылался аргумент, но иногда вместо этого выдавалась ошибка.</p></li><li class="listitem"><p>Устранение ошибки в обнаружении старых идентификаторов транзакций в функциях, касающихся статуса XID (Карина Лицкевич)</p><p>Ранее идентификаторы транзакций больше 2<sup>31</sup> могли быть ошибочно идентифицированы как последние, что приводило к неправильному поведению функций <code class="function">pg_xact_status()</code> или <code class="function">txid_status()</code>.</p></li><li class="listitem"><p>Исключение поведения, при котором карта свободного пространства таблицы возвращает страницу, находящуюся за концом таблицы (Ронан Данклау)</p><p>Поскольку карта свободного пространства не заносится в журнал WAL, ранее такое поведение было возможно в крайних случаях, связанных со сбоем ОС, повышением реплики или восстановлением PITR. В результате выдавалась ошибка <span class="quote">«<span class="quote">could not read block</span>»</span> (не удалось прочитать блок).</p></li><li class="listitem"><p>Исправление утечки файлового дескриптора при возникновении ошибки во время ожидания в функции <code class="function">WaitEventSetWait</code> (Эцуро Фудзита)</p></li><li class="listitem"><p>Предотвращение повреждения стека исключений, если FDW реализует асинхронное добавление данных, но без настройки условий ожидания для узла плана Append (Александр Пыхалов)</p></li><li class="listitem"><p>Вызов ошибки при обращении к индексу во время его перестроения (Том Лейн)</p><p>Раньше при перестроении вызывалось проверочное утверждение, а теперь — обычная ошибка времени выполнения, т. е. при попытке перестроить индекс с некорректным обращением к той же таблице, пользователи сразу увидят более точное сообщение об ошибке.</p></li><li class="listitem"><p>Обеспечение вывода полностью дополненного значения при сканировании только индекса столбцов <code class="type">name</code> (Дэвид Роули)</p><p>Ранее возвращался указатель на это значение, поскольку физически хранящееся в индексе значение усекается. Это вызывало ошибки при тестировании с использованием valgrind. Теоретически это могло приводить к сбоям, но сообщений о них не поступало.</p></li><li class="listitem"><p>Устранение условий гонки, которые могли приводить к выводу сообщения с неправильной причиной конфликта при аннулировании слота репликации (Бертран Друво)</p></li><li class="listitem"><p>Устранение условий гонки при принятии решения о необходимости операции синхронизации таблицы в логической репликации (Вигнеш C)</p><p>Событие аннулирования, поступающее во время определения подписчиком, какие таблицы необходимо синхронизировать, игнорировалось, поэтому любые таблицы, нуждающиеся в синхронизации, могли обрабатываться несвоевременно.</p></li><li class="listitem"><p>Исправление сбоя при выделении памяти объёмом более 4ГБ в DSM (Хейкки Линнакангас)</p></li><li class="listitem"><p>Прерывание подключения, если при создании нового сеанса сокет клиента не может быть переведён в неблокирующий режим (Хейкки Линнакангас)</p><p>Раньше теоретически было возможно работать с сокетом, находящимся в блокирующем режиме, но полноценная поддержка такой возможности долгое время отсутствовала, поэтому теперь ошибка выдаётся сразу при установке подключения, а не уже при появлении некорректного поведения.</p></li><li class="listitem"><p>Устранение некорректных сообщений об ошибках с <span class="application">OpenSSL</span> 3.0.0 и более поздних версий (Хейкки Линнакангас, Том Лейн)</p><p>Ошибки, о которых сообщала система через OpenSSL, выводились в виде числового кода ошибки, а не в читаемом виде.</p></li><li class="listitem"><p>Обеспечение потокобезопасности отчётов об ошибках для функции <code class="function">getaddrinfo()</code> в Windows (Томас Манро)</p><p>В многопоточной клиентской программе <span class="application">libpq</span> могло выводиться некорректное или повреждённое сообщение об ошибке после сбоя при поиске сети.</p></li><li class="listitem"><p>Предотвращение параллельных вызовов функций <code class="function">bindtextdomain()</code> в <span class="application">libpq</span> и <span class="application">ecpglib</span> (Том Лейн)</p><p>Хотя в реализации <span class="application">gettext</span> для GNU параллельные вызовы обрабатываются корректно, в доступной для Windows версии могли возникать сбои.</p></li><li class="listitem"><p>Устранение сбоя в препроцессоре <span class="application">ecpg</span> при попытке программы переопределить макрос, который был определён в командной строке препроцессора (Том Лейн)</p></li><li class="listitem"><p>Предотвращение выдачи ложных предупреждений <span class="quote">«<span class="quote">unsupported feature will be passed to server</span>»</span> (неподдерживаемая функция будет передана на сервер) в <span class="application">ecpg</span> (Том Лейн)</p></li><li class="listitem"><p>Корректное завершение строк в результатах функции <code class="function">intoasc()</code> в <span class="application">ecpg</span> нулевым символом (Олег Целебровский)</p></li><li class="listitem"><p>Сопоставление имён параметров без учёта регистра в параметре <code class="option">-c</code> <span class="application">initdb</span> (Том Лейн)</p><p>Сервер обрабатывает имена параметров без учёта регистра, поэтому данный код должен действовать так же. Это позволяет избежать внесения избыточных записей в сгенерированный файл <code class="filename">postgresql.conf</code>.</p></li><li class="listitem"><p>Предотвращение утечки результатов запроса после его отмены в <span class="application">psql</span> (Том Лейн)</p><p>Это происходило только при отмене непоследнего запроса в строке запроса с разделителями <code class="literal">\;</code>.</p></li><li class="listitem"><p>Исправление в <span class="application">pg_dumpall</span>, чтобы комментарии ролей при их наличии выгружались независимо от параметра <code class="option">--no-role-passwords</code> (Даниэль Густафссон, Альваро Эррера)</p></li><li class="listitem"><p>Пропуск файлов с именем <code class="filename">.DS_Store</code> в <span class="application">pg_basebackup</span>, <span class="application">pg_checksums</span> и <span class="application">pg_rewind</span> (Даниэль Густафссон)</p><p>Это позволяет избежать проблем в macOS, где Finder может создавать такие файлы.</p></li><li class="listitem"><p>Исправление в <span class="application">PL/pgSQL</span> разбора однострочных комментариев (в стиле <code class="literal">--</code>), следующих за выражениями (Эрик Винхольд, Том Лейн)</p><p>Это упущение приводило к ошибкам разбора, если такой комментарий следовал за выражением <code class="literal">WHEN</code> в операторе <span class="application">PL/pgSQL</span> <code class="command">CASE</code>.</p></li><li class="listitem"><p>Устранение выдачи ложных несовпадений коротких и длинных значений заголовков в <code class="filename">contrib/amcheck</code> (Андрей Бородин, Михаил Жилин)</p><p>Данные переменной длины в кортеже кучи или индексном кортеже могут иметь короткий или длинный заголовок, в зависимости от параметров сжатия, которые применялись при их создании. Эти значения теперь считаются эквивалентными, и сообщение о несовпадении не выводится.</p></li><li class="listitem"><p>Устранение ошибок в функциях вывода BRIN (Томаш Вондра)</p><p>Эти функции вывода используются только для отображения записей индекса в <code class="filename">contrib/pageinspect</code>, поэтому ошибки имели ограниченное практическое значение.</p></li><li class="listitem"><p>Исключение запросов на сортировку по константе в <code class="filename">contrib/postgres_fdw</code> (Дэвид Роули)</p><p>Это могло происходить в случаях выполнения <code class="literal">UNION ALL</code> с подзапросами, выдающими константу. Сортировка по константе не только бесполезна, но также могла неверно обрабатываться удалённым сервером, что приводило к ошибкам <span class="quote">«<span class="quote">ORDER BY position <em class="replaceable"><code>N</code></em> is not in select list</span>»</span> (в списке выборки ORDER BY нет позиции N).</p></li><li class="listitem"><p>Установка часового пояса <code class="literal">GMT</code>, а не <code class="literal">UTC</code> для удалённого сеанса в <code class="filename">contrib/postgres_fdw</code> (Том Лейн)</p><p>На практике результат не поменяется. Однако <code class="literal">GMT</code> распознаётся жёстко заданным кодом на сервере, а <code class="literal">UTC</code> ищется в базе данных часовых поясов. Таким образом, в прежней реализации мог происходить сбой в редких случаях, если в базе данных часовых поясов удалённого сервера не хватало записей.</p></li><li class="listitem"><p>Исключение использования в <code class="filename">contrib/xml2</code> библиотечных функций, которые признаны устаревшими в последних версиях <span class="application">libxml2</span> (Дмитрий Коваль)</p></li><li class="listitem"><p>Устранение несовместимости с LLVM 18 (Томас Манро, Дмитрий Долгов)</p></li><li class="listitem"><p>Возможность <code class="literal">make check</code> работать с библиотекой С <span class="application">musl</span> (Томас Манро, Брюс Момджян, Том Лейн)</p></li></ul></div></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="release.html" title="Приложение E. Замечания к выпускам">Пред.</a> </td><td width="20%" align="center"><a accesskey="u" href="release.html" title="Приложение E. Замечания к выпускам">Наверх</a></td><td width="40%" align="right"> <a accesskey="n" href="release-16-2.html" title="E.2. Выпуск 16.2">След.</a></td></tr><tr><td width="40%" align="left" valign="top">Приложение E. Замечания к выпускам </td><td width="20%" align="center"><a accesskey="h" href="index.html" title="Документация к PostgreSQL 16.3">Начало</a></td><td width="40%" align="right" valign="top"> E.2. Выпуск 16.2</td></tr></table></div></body></html>