<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>23.2. Создание базы данных</title><link rel="stylesheet" type="text/css" href="stylesheet.css" /><link rev="made" href="pgsql-docs@lists.postgresql.org" /><meta name="generator" content="DocBook XSL Stylesheets Vsnapshot" /><link rel="prev" href="manage-ag-overview.html" title="23.1. Обзор" /><link rel="next" href="manage-ag-templatedbs.html" title="23.3. Шаблоны баз данных" /></head><body id="docContent" class="container-fluid col-10"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="5" align="center">23.2. Создание базы данных</th></tr><tr><td width="10%" align="left"><a accesskey="p" href="manage-ag-overview.html" title="23.1. Обзор">Пред.</a> </td><td width="10%" align="left"><a accesskey="u" href="managing-databases.html" title="Глава 23. Управление базами данных">Наверх</a></td><th width="60%" align="center">Глава 23. Управление базами данных</th><td width="10%" align="right"><a accesskey="h" href="index.html" title="Документация к PostgreSQL 16.3">Начало</a></td><td width="10%" align="right"> <a accesskey="n" href="manage-ag-templatedbs.html" title="23.3. Шаблоны баз данных">След.</a></td></tr></table><hr /></div><div class="sect1" id="MANAGE-AG-CREATEDB"><div class="titlepage"><div><div><h2 class="title" style="clear: both">23.2. Создание базы данных <a href="#MANAGE-AG-CREATEDB" class="id_link">#</a></h2></div></div></div><a id="id-1.6.10.5.2" class="indexterm"></a><p>Для создания базы данных сервер <span class="productname">PostgreSQL</span> должен быть развёрнут и запущен (см. <a class="xref" href="server-start.html" title="19.3. Запуск сервера баз данных">Раздел 19.3</a>).</p><p>База данных создаётся SQL-командой <a class="xref" href="sql-createdatabase.html" title="CREATE DATABASE"><span class="refentrytitle">CREATE DATABASE</span></a>: </p><pre class="synopsis">
CREATE DATABASE <em class="replaceable"><code>имя</code></em>;
</pre><p> где <em class="replaceable"><code>имя</code></em> подчиняется правилам именования идентификаторов <acronym class="acronym">SQL</acronym>. Текущий пользователь автоматически назначается владельцем. Владелец может удалить свою базу, что также приведёт к удалению всех её объектов, в том числе, имеющих других владельцев.</p><p>Создание баз данных это привилегированная операция. Как предоставить права доступа, описано в <a class="xref" href="role-attributes.html" title="22.2. Атрибуты ролей">Разделе 22.2</a>.</p><p>Поскольку для выполнения команды <code class="command">CREATE DATABASE</code> необходимо подключение к серверу базы данных, возникает вопрос как создать самую первую базу данных. Первая база данных всегда создаётся командой <code class="command">initdb</code> при инициализации пространства хранения данных (см. <a class="xref" href="creating-cluster.html" title="19.2. Создание кластера баз данных">Раздел 19.2</a>.) Эта база данных называется <code class="literal">postgres</code>.<a id="id-1.6.10.5.6.5" class="indexterm"></a> Далее для создания первой <span class="quote">«<span class="quote">обычной</span>»</span> базы данных можно подключиться к <code class="literal">postgres</code>.</p><p>Две дополнительные базы данных <code class="literal">template1</code><a id="id-1.6.10.5.7.2" class="indexterm"></a> и <code class="literal">template0</code><a id="id-1.6.10.5.7.4" class="indexterm"></a> также создаются во время инициализации кластера. При каждом создании новой базы данных в рамках кластера по факту производится клонирование шаблона <code class="literal">template1</code>. При этом любые изменения, сделанные в <code class="literal">template1</code>, распространяются на все созданные впоследствии базы данных. Следует избегать создания объектов в <code class="literal">template1</code>, за исключением ситуации, когда их необходимо автоматически добавлять в новые базы. База <code class="literal">template0</code> представляет собой чистую копию исходного содержимого <code class="literal">template1</code>. Поэтому её можно клонировать вместо <code class="literal">template1</code>, когда важно создать базу данных без каких-либо локальных дополнений. Подробнее об этом рассказывается в <a class="xref" href="manage-ag-templatedbs.html" title="23.3. Шаблоны баз данных">Разделе 23.3</a>.</p><p>Для удобства, есть утилита командной строки для создания баз данных, <code class="command">createdb</code>.<a id="id-1.6.10.5.8.2" class="indexterm"></a> </p><pre class="synopsis">
createdb <em class="replaceable"><code>dbname</code></em>
</pre><p> Утилита <code class="command">createdb</code> не делает ничего волшебного, она просто подключается к базе данных <code class="literal">postgres</code> и выполняет ранее описанную SQL-команду <code class="command">CREATE DATABASE</code>. Подробнее о её вызове можно узнать в <a class="xref" href="app-createdb.html" title="createdb"><span class="refentrytitle"><span class="application">createdb</span></span></a>. Обратите внимание, что команда <code class="command">createdb</code> без параметров создаст базу данных с именем текущего пользователя.</p><div class="note"><h3 class="title">Примечание</h3><p><a class="xref" href="client-authentication.html" title="Глава 21. Аутентификация клиентского приложения">Глава 21</a> содержит информацию о том, как ограничить права на подключение к заданной базе данных.</p></div><p>Иногда необходимо создать базу данных для другого пользователя и назначить его владельцем, чтобы он мог конфигурировать и управлять ею. Для этого используйте одну из следующих команд: </p><pre class="programlisting">CREATE DATABASE <em class="replaceable"><code>имя_базы</code></em> OWNER <em class="replaceable"><code>имя_роли</code></em>;</pre><p> из среды SQL, или: </p><pre class="programlisting">createdb -O <em class="replaceable"><code>имя_роли</code></em> <em class="replaceable"><code>имя_базы</code></em></pre><p> из командной строки ОС. Лишь суперпользователь может создавать базы данных для других (для ролей, членом которых он не является).</p></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="manage-ag-overview.html" title="23.1. Обзор">Пред.</a> </td><td width="20%" align="center"><a accesskey="u" href="managing-databases.html" title="Глава 23. Управление базами данных">Наверх</a></td><td width="40%" align="right"> <a accesskey="n" href="manage-ag-templatedbs.html" title="23.3. Шаблоны баз данных">След.</a></td></tr><tr><td width="40%" align="left" valign="top">23.1. Обзор </td><td width="20%" align="center"><a accesskey="h" href="index.html" title="Документация к PostgreSQL 16.3">Начало</a></td><td width="40%" align="right" valign="top"> 23.3. Шаблоны баз данных</td></tr></table></div></body></html>