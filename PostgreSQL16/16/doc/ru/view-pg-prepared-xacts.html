<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>54.16. pg_prepared_xacts</title><link rel="stylesheet" type="text/css" href="stylesheet.css" /><link rev="made" href="pgsql-docs@lists.postgresql.org" /><meta name="generator" content="DocBook XSL Stylesheets Vsnapshot" /><link rel="prev" href="view-pg-prepared-statements.html" title="54.15. pg_prepared_statements" /><link rel="next" href="view-pg-publication-tables.html" title="54.17. pg_publication_tables" /></head><body id="docContent" class="container-fluid col-10"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="5" align="center">54.16. <code class="structname">pg_prepared_xacts</code></th></tr><tr><td width="10%" align="left"><a accesskey="p" href="view-pg-prepared-statements.html" title="54.15. pg_prepared_statements">Пред.</a> </td><td width="10%" align="left"><a accesskey="u" href="views.html" title="Глава 54. Системные представления">Наверх</a></td><th width="60%" align="center">Глава 54. Системные представления</th><td width="10%" align="right"><a accesskey="h" href="index.html" title="Документация к PostgreSQL 16.3">Начало</a></td><td width="10%" align="right"> <a accesskey="n" href="view-pg-publication-tables.html" title="54.17. pg_publication_tables">След.</a></td></tr></table><hr /></div><div class="sect1" id="VIEW-PG-PREPARED-XACTS"><div class="titlepage"><div><div><h2 class="title" style="clear: both">54.16. <code class="structname">pg_prepared_xacts</code> <a href="#VIEW-PG-PREPARED-XACTS" class="id_link">#</a></h2></div></div></div><a id="id-1.10.5.20.2" class="indexterm"></a><p>Представление <code class="structname">pg_prepared_xacts</code> содержит информацию о транзакциях, которые в настоящее время подготовлены для двухфазной фиксации (за подробностями обратитесь к <a class="xref" href="sql-prepare-transaction.html" title="PREPARE TRANSACTION"><span class="refentrytitle">PREPARE TRANSACTION</span></a>).</p><p>Представление <code class="structname">pg_prepared_xacts</code> содержит отдельную запись для каждой подготовленной транзакции. Эта запись удаляется, когда транзакция фиксируется или откатывается.</p><div class="table" id="id-1.10.5.20.5"><p class="title"><strong>Таблица 54.16. Столбцы <code class="structname">pg_prepared_xacts</code></strong></p><div class="table-contents"><table class="table" summary="Столбцы pg_prepared_xacts" border="1"><colgroup><col /></colgroup><thead><tr><th class="catalog_table_entry"><p class="column_definition">Тип столбца</p>
      <p>Описание</p></th></tr></thead><tbody><tr><td class="catalog_table_entry"><p class="column_definition">
       <code class="structfield">transaction</code> <code class="type">xid</code>
      </p>
      <p>Числовой идентификатор подготовленной транзакции</p></td></tr><tr><td class="catalog_table_entry"><p class="column_definition">
       <code class="structfield">gid</code> <code class="type">text</code>
      </p>
      <p>Глобальный идентификатор транзакции, назначаемый транзакции</p></td></tr><tr><td class="catalog_table_entry"><p class="column_definition">
       <code class="structfield">prepared</code> <code class="type">timestamptz</code>
      </p>
      <p>Время, в которое транзакция была подготовлена для фиксации</p></td></tr><tr><td class="catalog_table_entry"><p class="column_definition"><code class="structfield">owner</code> <code class="type">name</code> (ссылается на <a class="link" href="catalog-pg-authid.html" title="53.8. pg_authid"><code class="structname">pg_authid</code></a>.<code class="structfield">rolname</code>)</p>
      <p>Имя пользователя, выполнявшего транзакцию</p></td></tr><tr><td class="catalog_table_entry"><p class="column_definition"><code class="structfield">database</code> <code class="type">name</code> (ссылается на <a class="link" href="catalog-pg-database.html" title="53.15. pg_database"><code class="structname">pg_database</code></a>.<code class="structfield">datname</code>)</p>
      <p>Имя базы данных, в которой выполнялась транзакция</p></td></tr></tbody></table></div></div><br class="table-break" /><p>Когда запрашивается представление <code class="structname">pg_prepared_xacts</code>, внутренние структуры данных менеджера транзакций на мгновение блокируются и создаётся их копия для вывода через это представление. Это гарантирует, что представление выдаёт согласованный набор результатов, при этом не задерживая обычные операции на более продолжительное время, чем необходимо. Тем не менее это может отрицательно сказаться на производительности базы данных при частых обращениях к представлению.</p></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="view-pg-prepared-statements.html" title="54.15. pg_prepared_statements">Пред.</a> </td><td width="20%" align="center"><a accesskey="u" href="views.html" title="Глава 54. Системные представления">Наверх</a></td><td width="40%" align="right"> <a accesskey="n" href="view-pg-publication-tables.html" title="54.17. pg_publication_tables">След.</a></td></tr><tr><td width="40%" align="left" valign="top">54.15. <code class="structname">pg_prepared_statements</code> </td><td width="20%" align="center"><a accesskey="h" href="index.html" title="Документация к PostgreSQL 16.3">Начало</a></td><td width="40%" align="right" valign="top"> 54.17. <code class="structname">pg_publication_tables</code></td></tr></table></div></body></html>