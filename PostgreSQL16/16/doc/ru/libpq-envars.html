<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>34.15. Переменные окружения</title><link rel="stylesheet" type="text/css" href="stylesheet.css" /><link rev="made" href="pgsql-docs@lists.postgresql.org" /><meta name="generator" content="DocBook XSL Stylesheets Vsnapshot" /><link rel="prev" href="libpq-events.html" title="34.14. Система событий" /><link rel="next" href="libpq-pgpass.html" title="34.16. Файл паролей" /></head><body id="docContent" class="container-fluid col-10"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="5" align="center">34.15. Переменные окружения</th></tr><tr><td width="10%" align="left"><a accesskey="p" href="libpq-events.html" title="34.14. Система событий">Пред.</a> </td><td width="10%" align="left"><a accesskey="u" href="libpq.html" title="Глава 34. libpq — библиотека для языка C">Наверх</a></td><th width="60%" align="center">Глава 34. <span class="application">libpq</span> — библиотека для языка C</th><td width="10%" align="right"><a accesskey="h" href="index.html" title="Документация к PostgreSQL 16.3">Начало</a></td><td width="10%" align="right"> <a accesskey="n" href="libpq-pgpass.html" title="34.16. Файл паролей">След.</a></td></tr></table><hr /></div><div class="sect1" id="LIBPQ-ENVARS"><div class="titlepage"><div><div><h2 class="title" style="clear: both">34.15. Переменные окружения <a href="#LIBPQ-ENVARS" class="id_link">#</a></h2></div></div></div><a id="id-1.7.3.22.2" class="indexterm"></a><p>Воспользовавшись следующими переменными окружения, можно задать значения параметров соединения по умолчанию, которые будут использоваться функциями <a class="xref" href="libpq-connect.html#LIBPQ-PQCONNECTDB"><code class="function">PQconnectdb</code></a>, <a class="xref" href="libpq-connect.html#LIBPQ-PQSETDBLOGIN"><code class="function">PQsetdbLogin</code></a> и <a class="xref" href="libpq-connect.html#LIBPQ-PQSETDB"><code class="function">PQsetdb</code></a>, если никакое значение не будет задано вызывающим кодом. В частности, используя их, можно обойтись без жёсткого задания параметров соединения в простых клиентских приложениях. </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a id="id-1.7.3.22.3.4.1.1.1" class="indexterm"></a> <code class="envar">PGHOST</code> действует так же, как параметр соединения <a class="xref" href="libpq-connect.html#LIBPQ-CONNECT-HOST">host</a>.</p></li><li class="listitem"><p><a id="id-1.7.3.22.3.4.2.1.1" class="indexterm"></a> <code class="envar">PGHOSTADDR</code> действует так же, как параметр соединения <a class="xref" href="libpq-connect.html#LIBPQ-CONNECT-HOSTADDR">hostaddr</a>. Эту переменную можно задать вместо или вместе с <code class="envar">PGHOST</code> для предотвращения поиска адреса в DNS.</p></li><li class="listitem"><p><a id="id-1.7.3.22.3.4.3.1.1" class="indexterm"></a> <code class="envar">PGPORT</code> действует так же, как параметр соединения <a class="xref" href="libpq-connect.html#LIBPQ-CONNECT-PORT">port</a>.</p></li><li class="listitem"><p><a id="id-1.7.3.22.3.4.4.1.1" class="indexterm"></a> <code class="envar">PGDATABASE</code> действует так же, как параметр соединения <a class="xref" href="libpq-connect.html#LIBPQ-CONNECT-DBNAME">dbname</a>.</p></li><li class="listitem"><p><a id="id-1.7.3.22.3.4.5.1.1" class="indexterm"></a> <code class="envar">PGUSER</code> действует так же, как параметр соединения <a class="xref" href="libpq-connect.html#LIBPQ-CONNECT-USER">user</a>.</p></li><li class="listitem"><p><a id="id-1.7.3.22.3.4.6.1.1" class="indexterm"></a> <code class="envar">PGPASSWORD</code> действует так же, как параметр соединения <a class="xref" href="libpq-connect.html#LIBPQ-CONNECT-PASSWORD">password</a>. Использовать эту переменную окружения не рекомендуется по соображениям безопасности, так как в некоторых операционных системах непривилегированные пользователи могут видеть переменные окружения процессов в выводе <span class="application">ps</span>; вместо этого лучше использовать файл паролей (см. <a class="xref" href="libpq-pgpass.html" title="34.16. Файл паролей">Раздел 34.16</a>).</p></li><li class="listitem"><p><a id="id-1.7.3.22.3.4.7.1.1" class="indexterm"></a> <code class="envar">PGPASSFILE</code> действует так же, как параметр соединения <a class="xref" href="libpq-connect.html#LIBPQ-CONNECT-PASSFILE">passfile</a>.</p></li><li class="listitem"><p><a id="id-1.7.3.22.3.4.8.1.1" class="indexterm"></a> <code class="envar">PGREQUIREAUTH</code> действует так же, как параметр соединения <a class="xref" href="libpq-connect.html#LIBPQ-CONNECT-REQUIRE-AUTH">require_auth</a>.</p></li><li class="listitem"><p><a id="id-1.7.3.22.3.4.9.1.1" class="indexterm"></a> <code class="envar">PGCHANNELBINDING</code> действует так же, как параметр соединения <a class="xref" href="libpq-connect.html#LIBPQ-CONNECT-CHANNEL-BINDING">channel_binding</a>.</p></li><li class="listitem"><p><a id="id-1.7.3.22.3.4.10.1.1" class="indexterm"></a> <code class="envar">PGSERVICE</code> действует так же, как параметр соединения <a class="xref" href="libpq-connect.html#LIBPQ-CONNECT-SERVICE">service</a>.</p></li><li class="listitem"><p><a id="id-1.7.3.22.3.4.11.1.1" class="indexterm"></a> <code class="envar">PGSERVICEFILE</code> задаёт имя личного файла пользователя с параметрами подключения к службам (см. <a class="xref" href="libpq-pgservice.html" title="34.17. Файл соединений служб">Раздел 34.17</a>). По умолчанию применяется имя файла <code class="filename">~/.pg_service.conf</code> (или <code class="filename">%APPDATA%\postgresql\.pg_service.conf</code> в Microsoft Windows).</p></li><li class="listitem"><p><a id="id-1.7.3.22.3.4.12.1.1" class="indexterm"></a> <code class="envar">PGOPTIONS</code> действует так же, как параметр соединения <a class="xref" href="libpq-connect.html#LIBPQ-CONNECT-OPTIONS">options</a>.</p></li><li class="listitem"><p><a id="id-1.7.3.22.3.4.13.1.1" class="indexterm"></a> <code class="envar">PGAPPNAME</code> действует так же, как параметр соединения <a class="xref" href="libpq-connect.html#LIBPQ-CONNECT-APPLICATION-NAME">application_name</a>.</p></li><li class="listitem"><p><a id="id-1.7.3.22.3.4.14.1.1" class="indexterm"></a> <code class="envar">PGSSLMODE</code> действует так же, как параметр соединения <a class="xref" href="libpq-connect.html#LIBPQ-CONNECT-SSLMODE">sslmode</a>.</p></li><li class="listitem"><p><a id="id-1.7.3.22.3.4.15.1.1" class="indexterm"></a> <code class="envar">PGREQUIRESSL</code> действует так же, как параметр соединения <a class="xref" href="libpq-connect.html#LIBPQ-CONNECT-REQUIRESSL">requiressl</a>. Эта переменная окружения утратила актуальность с появлением переменной <code class="envar">PGSSLMODE</code>; если установить обе переменные, значение данной не возымеет эффекта.</p></li><li class="listitem"><p><a id="id-1.7.3.22.3.4.16.1.1" class="indexterm"></a> <code class="envar">PGSSLCOMPRESSION</code> действует так же, как параметр соединения <a class="xref" href="libpq-connect.html#LIBPQ-CONNECT-SSLCOMPRESSION">sslcompression</a>.</p></li><li class="listitem"><p><a id="id-1.7.3.22.3.4.17.1.1" class="indexterm"></a> <code class="envar">PGSSLCERT</code> действует так же, как параметр соединения <a class="xref" href="libpq-connect.html#LIBPQ-CONNECT-SSLCERT">sslcert</a>.</p></li><li class="listitem"><p><a id="id-1.7.3.22.3.4.18.1.1" class="indexterm"></a> <code class="envar">PGSSLKEY</code> действует так же, как параметр соединения <a class="xref" href="libpq-connect.html#LIBPQ-CONNECT-SSLKEY">sslkey</a>.</p></li><li class="listitem"><p><a id="id-1.7.3.22.3.4.19.1.1" class="indexterm"></a> <code class="envar">PGSSLCERTMODE</code> действует так же, как параметр соединения <a class="xref" href="libpq-connect.html#LIBPQ-CONNECT-SSLCERTMODE">sslcertmode</a>.</p></li><li class="listitem"><p><a id="id-1.7.3.22.3.4.20.1.1" class="indexterm"></a> <code class="envar">PGSSLROOTCERT</code> действует так же, как параметр соединения <a class="xref" href="libpq-connect.html#LIBPQ-CONNECT-SSLROOTCERT">sslrootcert</a>.</p></li><li class="listitem"><p><a id="id-1.7.3.22.3.4.21.1.1" class="indexterm"></a> <code class="envar">PGSSLCRL</code> действует так же, как параметр соединения <a class="xref" href="libpq-connect.html#LIBPQ-CONNECT-SSLCRL">sslcrl</a>.</p></li><li class="listitem"><p><a id="id-1.7.3.22.3.4.22.1.1" class="indexterm"></a> <code class="envar">PGSSLCRLDIR</code> действует так же, как параметр соединения <a class="xref" href="libpq-connect.html#LIBPQ-CONNECT-SSLCRLDIR">sslcrldir</a>.</p></li><li class="listitem"><p><a id="id-1.7.3.22.3.4.23.1.1" class="indexterm"></a> <code class="envar">PGSSLSNI</code> действует так же, как параметр соединения <a class="xref" href="libpq-connect.html#LIBPQ-CONNECT-SSLSNI">sslsni</a>.</p></li><li class="listitem"><p><a id="id-1.7.3.22.3.4.24.1.1" class="indexterm"></a> <code class="envar">PGREQUIREPEER</code> действует так же, как параметр соединения <a class="xref" href="libpq-connect.html#LIBPQ-CONNECT-REQUIREPEER">requirepeer</a>.</p></li><li class="listitem"><p><a id="id-1.7.3.22.3.4.25.1.1" class="indexterm"></a> <code class="envar">PGSSLMINPROTOCOLVERSION</code> действует так же, как параметр соединения <a class="xref" href="libpq-connect.html#LIBPQ-CONNECT-SSL-MIN-PROTOCOL-VERSION">ssl_min_protocol_version</a>.</p></li><li class="listitem"><p><a id="id-1.7.3.22.3.4.26.1.1" class="indexterm"></a> <code class="envar">PGSSLMAXPROTOCOLVERSION</code> действует так же, как параметр соединения <a class="xref" href="libpq-connect.html#LIBPQ-CONNECT-SSL-MAX-PROTOCOL-VERSION">ssl_max_protocol_version</a>.</p></li><li class="listitem"><p><a id="id-1.7.3.22.3.4.27.1.1" class="indexterm"></a> <code class="envar">PGGSSENCMODE</code> действует так же, как параметр соединения <a class="xref" href="libpq-connect.html#LIBPQ-CONNECT-GSSENCMODE">gssencmode</a>.</p></li><li class="listitem"><p><a id="id-1.7.3.22.3.4.28.1.1" class="indexterm"></a> <code class="envar">PGKRBSRVNAME</code> действует так же, как параметр соединения <a class="xref" href="libpq-connect.html#LIBPQ-CONNECT-KRBSRVNAME">krbsrvname</a>.</p></li><li class="listitem"><p><a id="id-1.7.3.22.3.4.29.1.1" class="indexterm"></a> <code class="envar">PGGSSLIB</code> действует так же, как параметр соединения <a class="xref" href="libpq-connect.html#LIBPQ-CONNECT-GSSLIB">gsslib</a>.</p></li><li class="listitem"><p><a id="id-1.7.3.22.3.4.30.1.1" class="indexterm"></a> <code class="envar">PGGSSDELEGATION</code> действует так же, как параметр соединения <a class="xref" href="libpq-connect.html#LIBPQ-CONNECT-GSSDELEGATION">gssdelegation</a>.</p></li><li class="listitem"><p><a id="id-1.7.3.22.3.4.31.1.1" class="indexterm"></a> <code class="envar">PGCONNECT_TIMEOUT</code> действует так же, как параметр соединения <a class="xref" href="libpq-connect.html#LIBPQ-CONNECT-CONNECT-TIMEOUT">connect_timeout</a>.</p></li><li class="listitem"><p><a id="id-1.7.3.22.3.4.32.1.1" class="indexterm"></a> <code class="envar">PGCLIENTENCODING</code> действует так же, как параметр соединения <a class="xref" href="libpq-connect.html#LIBPQ-CONNECT-CLIENT-ENCODING">client_encoding</a>.</p></li><li class="listitem"><p><a id="id-1.7.3.22.3.4.33.1.1" class="indexterm"></a> <code class="envar">PGTARGETSESSIONATTRS</code> действует так же, как параметр соединения <a class="xref" href="libpq-connect.html#LIBPQ-CONNECT-TARGET-SESSION-ATTRS">target_session_attrs</a>.</p></li><li class="listitem"><p><a id="id-1.7.3.22.3.4.34.1.1" class="indexterm"></a> <code class="envar">PGLOADBALANCEHOSTS</code> действует так же, как параметр соединения <a class="xref" href="libpq-connect.html#LIBPQ-CONNECT-LOAD-BALANCE-HOSTS">load_balance_hosts</a>.</p></li></ul></div><p>Следующие переменные окружения позволяют задать поведение по умолчанию для каждого отдельного сеанса <span class="productname">PostgreSQL</span>. (См. также описание команд <a class="xref" href="sql-alterrole.html" title="ALTER ROLE"><span class="refentrytitle">ALTER ROLE</span></a> и <a class="xref" href="sql-alterdatabase.html" title="ALTER DATABASE"><span class="refentrytitle">ALTER DATABASE</span></a>, позволяющих установить поведение по умолчанию для отдельного пользователя или отдельной базы.) </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a id="id-1.7.3.22.4.4.1.1.1" class="indexterm"></a> <code class="envar">PGDATESTYLE</code> устанавливает стиль представления даты/времени по умолчанию. (Равносильно <code class="literal">SET datestyle TO ...</code>.)</p></li><li class="listitem"><p><a id="id-1.7.3.22.4.4.2.1.1" class="indexterm"></a> <code class="envar">PGTZ</code> устанавливает часовой пояс по умолчанию. (Равносильно <code class="literal">SET timezone TO ...</code>.)</p></li><li class="listitem"><p><a id="id-1.7.3.22.4.4.3.1.1" class="indexterm"></a> <code class="envar">PGGEQO</code> устанавливает режим по умолчанию для генетического оптимизатора запросов. (Равносильно <code class="literal">SET geqo TO ...</code>.)</p></li></ul></div><p> Информацию о корректных значениях этих переменных окружения можно найти в описании <acronym class="acronym">SQL</acronym>-команды <a class="xref" href="sql-set.html" title="SET"><span class="refentrytitle">SET</span></a>.</p><p>Следующие переменные среды определяют внутреннее поведение <span class="application">libpq</span>; они переопределяют встроенные значения. </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a id="id-1.7.3.22.5.2.1.1.1" class="indexterm"></a> <code class="envar">PGSYSCONFDIR</code> задаёт каталог, в котором содержится файл <code class="filename">pg_service.conf</code>, а в будущем он может содержать и другие общесистемные файлы конфигурации.</p></li><li class="listitem"><p><a id="id-1.7.3.22.5.2.2.1.1" class="indexterm"></a> <code class="envar">PGLOCALEDIR</code> задаёт каталог, содержащий файлы <code class="literal">locale</code>, предназначенные для перевода сообщений.</p></li></ul></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="libpq-events.html" title="34.14. Система событий">Пред.</a> </td><td width="20%" align="center"><a accesskey="u" href="libpq.html" title="Глава 34. libpq — библиотека для языка C">Наверх</a></td><td width="40%" align="right"> <a accesskey="n" href="libpq-pgpass.html" title="34.16. Файл паролей">След.</a></td></tr><tr><td width="40%" align="left" valign="top">34.14. Система событий </td><td width="20%" align="center"><a accesskey="h" href="index.html" title="Документация к PostgreSQL 16.3">Начало</a></td><td width="40%" align="right" valign="top"> 34.16. Файл паролей</td></tr></table></div></body></html>