<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>6.1. Добавление данных</title><link rel="stylesheet" type="text/css" href="stylesheet.css" /><link rev="made" href="pgsql-docs@lists.postgresql.org" /><meta name="generator" content="DocBook XSL Stylesheets Vsnapshot" /><link rel="prev" href="dml.html" title="Глава 6. Модификация данных" /><link rel="next" href="dml-update.html" title="6.2. Изменение данных" /></head><body id="docContent" class="container-fluid col-10"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="5" align="center">6.1. Добавление данных</th></tr><tr><td width="10%" align="left"><a accesskey="p" href="dml.html" title="Глава 6. Модификация данных">Пред.</a> </td><td width="10%" align="left"><a accesskey="u" href="dml.html" title="Глава 6. Модификация данных">Наверх</a></td><th width="60%" align="center">Глава 6. Модификация данных</th><td width="10%" align="right"><a accesskey="h" href="index.html" title="Документация к PostgreSQL 16.3">Начало</a></td><td width="10%" align="right"> <a accesskey="n" href="dml-update.html" title="6.2. Изменение данных">След.</a></td></tr></table><hr /></div><div class="sect1" id="DML-INSERT"><div class="titlepage"><div><div><h2 class="title" style="clear: both">6.1. Добавление данных <a href="#DML-INSERT" class="id_link">#</a></h2></div></div></div><a id="id-1.5.5.3.2" class="indexterm"></a><a id="id-1.5.5.3.3" class="indexterm"></a><p>Сразу после создания таблицы она не содержит никаких данных. Поэтому, чтобы она была полезна, в неё прежде всего нужно добавить данные. По сути данные добавляются в таблицу по одной строке. И хотя вы конечно можете добавить в таблицу несколько строк, добавить в неё меньше, чем строку, невозможно. Даже если вы указываете значения только некоторых столбцов, создаётся полная строка.</p><p>Чтобы создать строку, вы будете использовать команду <a class="xref" href="sql-insert.html" title="INSERT"><span class="refentrytitle">INSERT</span></a>. В этой команде необходимо указать имя таблицы и значения столбцов. Например, рассмотрим таблицу товаров из <a class="xref" href="ddl.html" title="Глава 5. Определение данных">Главы 5</a>: </p><pre class="programlisting">CREATE TABLE products (
    product_no integer,
    name text,
    price numeric
);</pre><p> Добавить в неё строку можно было бы так: </p><pre class="programlisting">INSERT INTO products VALUES (1, 'Cheese', 9.99);</pre><p> Значения данных перечисляются в порядке столбцов в таблице и разделяются запятыми. Обычно в качестве значений указываются константы, но это могут быть и скалярные выражения.</p><p>Показанная выше запись имеет один недостаток — вам необходимо знать порядок столбцов в таблице. Чтобы избежать этого, можно перечислить столбцы явно. Например, следующие две команды дадут тот же результат, что и показанная выше: </p><pre class="programlisting">INSERT INTO products (product_no, name, price) VALUES (1, 'Cheese', 9.99);
INSERT INTO products (name, price, product_no) VALUES ('Cheese', 9.99, 1);</pre><p> Многие считают, что лучше всегда явно указывать имена столбцов.</p><p>Если значения определяются не для всех столбцов, лишние столбцы можно опустить. В таком случае эти столбцы получат значения по умолчанию. Например: </p><pre class="programlisting">INSERT INTO products (product_no, name) VALUES (1, 'Cheese');
INSERT INTO products VALUES (1, 'Cheese');</pre><p> Вторая форма является расширением <span class="productname">PostgreSQL</span>. Она заполняет столбцы слева по числу переданных значений, а все остальные столбцы принимают значения по умолчанию.</p><p>Для ясности можно также явно указать значения по умолчанию для отдельных столбцов или всей строки: </p><pre class="programlisting">INSERT INTO products (product_no, name, price) VALUES (1, 'Cheese', DEFAULT);
INSERT INTO products DEFAULT VALUES;</pre><p>Одна команда может вставить сразу несколько строк: </p><pre class="programlisting">INSERT INTO products (product_no, name, price) VALUES
    (1, 'Cheese', 9.99),
    (2, 'Bread', 1.99),
    (3, 'Milk', 2.99);</pre><p>Также возможно вставить результат запроса (который может не содержать строк либо содержать одну или несколько): </p><pre class="programlisting">INSERT INTO products (product_no, name, price)
  SELECT product_no, name, price FROM new_products
    WHERE release_date = 'today';</pre><p> Это позволяет использовать все возможности механизма запросов SQL (см. <a class="xref" href="queries.html" title="Глава 7. Запросы">Главу 7</a>) для вычисления вставляемых строк.</p><div class="tip"><h3 class="title">Подсказка</h3><p>Когда нужно добавить сразу множество строк, возможно будет лучше использовать команду <a class="xref" href="sql-copy.html" title="COPY"><span class="refentrytitle">COPY</span></a>. Она не такая гибкая, как <a class="xref" href="sql-insert.html" title="INSERT"><span class="refentrytitle">INSERT</span></a>, но гораздо эффективнее. Дополнительно об ускорении массовой загрузки данных можно узнать в <a class="xref" href="populate.html" title="14.4. Наполнение базы данных">Разделе 14.4</a>.</p></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="dml.html" title="Глава 6. Модификация данных">Пред.</a> </td><td width="20%" align="center"><a accesskey="u" href="dml.html" title="Глава 6. Модификация данных">Наверх</a></td><td width="40%" align="right"> <a accesskey="n" href="dml-update.html" title="6.2. Изменение данных">След.</a></td></tr><tr><td width="40%" align="left" valign="top">Глава 6. Модификация данных </td><td width="20%" align="center"><a accesskey="h" href="index.html" title="Документация к PostgreSQL 16.3">Начало</a></td><td width="40%" align="right" valign="top"> 6.2. Изменение данных</td></tr></table></div></body></html>