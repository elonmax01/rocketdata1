<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>DROP OWNED</title><link rel="stylesheet" type="text/css" href="stylesheet.css" /><link rev="made" href="pgsql-docs@lists.postgresql.org" /><meta name="generator" content="DocBook XSL Stylesheets Vsnapshot" /><link rel="prev" href="sql-dropopfamily.html" title="DROP OPERATOR FAMILY" /><link rel="next" href="sql-droppolicy.html" title="DROP POLICY" /></head><body id="docContent" class="container-fluid col-10"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="5" align="center">DROP OWNED</th></tr><tr><td width="10%" align="left"><a accesskey="p" href="sql-dropopfamily.html" title="DROP OPERATOR FAMILY">Пред.</a> </td><td width="10%" align="left"><a accesskey="u" href="sql-commands.html" title="Команды SQL">Наверх</a></td><th width="60%" align="center">Команды SQL</th><td width="10%" align="right"><a accesskey="h" href="index.html" title="Документация к PostgreSQL 16.3">Начало</a></td><td width="10%" align="right"> <a accesskey="n" href="sql-droppolicy.html" title="DROP POLICY">След.</a></td></tr></table><hr /></div><div class="refentry" id="SQL-DROP-OWNED"><div class="titlepage"></div><a id="id-1.9.3.122.1" class="indexterm"></a><div class="refnamediv"><h2><span class="refentrytitle">DROP OWNED</span></h2><p>DROP OWNED — удалить объекты базы данных, принадлежащие роли</p></div><div class="refsynopsisdiv"><h2>Синтаксис</h2><pre class="synopsis">DROP OWNED BY { <em class="replaceable"><code>имя</code></em> | CURRENT_ROLE | CURRENT_USER | SESSION_USER } [, ...] [ CASCADE | RESTRICT ]</pre></div><div class="refsect1" id="id-1.9.3.122.5"><h2>Описание</h2><p><code class="command">DROP OWNED</code> удаляет в текущей базе данных все объекты, принадлежащие любой из указанных ролей. Кроме того, эти роли лишаются всех прав, которые они имели для объектов текущей базы данных или общих объектов (баз данных, табличных пространств, параметров конфигурации).</p></div><div class="refsect1" id="id-1.9.3.122.6"><h2>Параметры</h2><div class="variablelist"><dl class="variablelist"><dt><span class="term"><em class="replaceable"><code>имя</code></em></span></dt><dd><p>Имя роли, все объекты которой будут уничтожены, а права отозваны.</p></dd><dt><span class="term"><code class="literal">CASCADE</code></span></dt><dd><p>Автоматически удалять объекты, зависящие от каждого затрагиваемого объекта, и, в свою очередь, все зависящие от них объекты (см. <a class="xref" href="ddl-depend.html" title="5.14. Отслеживание зависимостей">Раздел 5.14</a>).</p></dd><dt><span class="term"><code class="literal">RESTRICT</code></span></dt><dd><p>Отказать в удалении объектов, принадлежащих роли, если от каких-либо из них зависят другие объекты в базе данных. Это поведение по умолчанию.</p></dd></dl></div></div><div class="refsect1" id="id-1.9.3.122.7"><h2>Замечания</h2><p><code class="command">DROP OWNED</code> часто применяется при подготовке к удалению одной или нескольких ролей. Так как команда <code class="command">DROP OWNED</code> затрагивает объекты только в текущей базе данных, обычно её нужно выполнять в каждой базе данных, которая содержит объекты, принадлежащие удаляемой роли.</p><p>С указанием <code class="literal">CASCADE</code> эта команда может рекурсивно удалить объекты, принадлежащие и другим пользователям.</p><p>Команда <a class="link" href="sql-reassign-owned.html" title="REASSIGN OWNED"><code class="command">REASSIGN OWNED</code></a> даёт альтернативную возможность — сменить владельца для всех объектов базы, принадлежащих одной или нескольким ролям. Однако <code class="command">REASSIGN OWNED</code> не затрагивает права, назначенные для объектов, не принадлежащих указанным ролям.</p><p>Базы данных и табличные пространства, принадлежащие указанным ролям, эта команда не удаляет.</p><p>За подробностями обратитесь к <a class="xref" href="role-removal.html" title="22.4. Удаление ролей">Разделу 22.4</a>.</p></div><div class="refsect1" id="id-1.9.3.122.8"><h2>Совместимость</h2><p>Команда <code class="command">DROP OWNED</code> — расширение <span class="productname">PostgreSQL</span>.</p></div><div class="refsect1" id="id-1.9.3.122.9"><h2>См. также</h2><span class="simplelist"><a class="xref" href="sql-reassign-owned.html" title="REASSIGN OWNED"><span class="refentrytitle">REASSIGN OWNED</span></a>, <a class="xref" href="sql-droprole.html" title="DROP ROLE"><span class="refentrytitle">DROP ROLE</span></a></span></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="sql-dropopfamily.html" title="DROP OPERATOR FAMILY">Пред.</a> </td><td width="20%" align="center"><a accesskey="u" href="sql-commands.html" title="Команды SQL">Наверх</a></td><td width="40%" align="right"> <a accesskey="n" href="sql-droppolicy.html" title="DROP POLICY">След.</a></td></tr><tr><td width="40%" align="left" valign="top">DROP OPERATOR FAMILY </td><td width="20%" align="center"><a accesskey="h" href="index.html" title="Документация к PostgreSQL 16.3">Начало</a></td><td width="40%" align="right" valign="top"> DROP POLICY</td></tr></table></div></body></html>