<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>17.5. Действия после установки</title><link rel="stylesheet" type="text/css" href="stylesheet.css" /><link rev="made" href="pgsql-docs@lists.postgresql.org" /><meta name="generator" content="DocBook XSL Stylesheets Vsnapshot" /><link rel="prev" href="install-meson.html" title="17.4. Сборка и установка с использованием Meson" /><link rel="next" href="supported-platforms.html" title="17.6. Поддерживаемые платформы" /></head><body id="docContent" class="container-fluid col-10"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="5" align="center">17.5. Действия после установки</th></tr><tr><td width="10%" align="left"><a accesskey="p" href="install-meson.html" title="17.4. Сборка и установка с использованием Meson">Пред.</a> </td><td width="10%" align="left"><a accesskey="u" href="installation.html" title="Глава 17. Установка из исходного кода">Наверх</a></td><th width="60%" align="center">Глава 17. Установка из исходного кода</th><td width="10%" align="right"><a accesskey="h" href="index.html" title="Документация к PostgreSQL 16.3">Начало</a></td><td width="10%" align="right"> <a accesskey="n" href="supported-platforms.html" title="17.6. Поддерживаемые платформы">След.</a></td></tr></table><hr /></div><div class="sect1" id="INSTALL-POST"><div class="titlepage"><div><div><h2 class="title" style="clear: both">17.5. Действия после установки <a href="#INSTALL-POST" class="id_link">#</a></h2></div></div></div><div class="toc"><dl class="toc"><dt><span class="sect2"><a href="install-post.html#INSTALL-POST-SHLIBS">17.5.1. Разделяемые библиотеки</a></span></dt><dt><span class="sect2"><a href="install-post.html#INSTALL-POST-ENV-VARS">17.5.2. Переменные окружения</a></span></dt></dl></div><div class="sect2" id="INSTALL-POST-SHLIBS"><div class="titlepage"><div><div><h3 class="title">17.5.1. Разделяемые библиотеки <a href="#INSTALL-POST-SHLIBS" class="id_link">#</a></h3></div></div></div><a id="id-1.6.4.9.2.2" class="indexterm"></a><p>В некоторых системах с разделяемыми библиотеками необходимо указать системе, как найти недавно установленные разделяемые библиотеки. К числу систем, где это <span class="emphasis"><em>не</em></span> требуется, относятся <span class="systemitem">FreeBSD</span>, <span class="systemitem">Linux</span>, <span class="systemitem">NetBSD</span>, <span class="systemitem">OpenBSD</span> и <span class="systemitem">Solaris</span>.</p><p>Путь поиска разделяемых библиотек на разных платформах может устанавливаться по-разному, но наиболее распространённый способ — установить переменную окружения <code class="envar">LD_LIBRARY_PATH</code>, например так: в оболочках Bourne (<code class="command">sh</code>, <code class="command">ksh</code>, <code class="command">bash</code>, <code class="command">zsh</code>): </p><pre class="programlisting">LD_LIBRARY_PATH=/usr/local/pgsql/lib
export LD_LIBRARY_PATH</pre><p> или в <code class="command">csh</code>, <code class="command">tcsh</code>: </p><pre class="programlisting">setenv LD_LIBRARY_PATH /usr/local/pgsql/lib</pre><p> Замените <code class="literal">/usr/local/pgsql/lib</code> значением, переданным <a class="xref" href="install-make.html#CONFIGURE" title="Конфигурирование">Шаг 1</a> в <code class="option"><code class="literal">--libdir</code></code>. Эти команды следует поместить в стартовый файл оболочки, например, в <code class="filename">/etc/profile</code> или <code class="filename">~/.bash_profile</code>. Полезные предостережения об использовании этого метода приведены на странице <a class="ulink" href="http://xahlee.info/UnixResource_dir/_/ldpath.html" target="_top">http://xahlee.info/UnixResource_dir/_/ldpath.html</a>.</p><p>В некоторых системах предпочтительнее установить переменную окружения <code class="envar">LD_RUN_PATH</code> <span class="emphasis"><em>до</em></span> сборки.</p><p>В <span class="systemitem">Cygwin</span> добавьте каталог с библиотеками в <code class="envar">PATH</code> или переместите файлы <code class="filename">.dll</code> в каталог <code class="filename">bin</code>.</p><p>В случае сомнений обратитесь к страницам руководства по вашей системе (возможно, к справке по <code class="command">ld.so</code> или <code class="command">rld</code>). Если вы позже получаете сообщение: </p><pre class="screen">
psql: error in loading shared libraries
libpq.so.2.1: cannot open shared object file: No such file or directory
</pre><p> (psql: ошибка при загрузке разделяемых библиотек
libpq.so.2.1: не удалось открыть разделяемый объектный файл: Нет такого файла или каталога), значит этот шаг был необходим. Тогда вам просто нужно вернуться к нему.</p><p><a id="id-1.6.4.9.2.8.1" class="indexterm"></a> Если вы используете <span class="systemitem">Linux</span> и имеете права root, вы можете запустить: </p><pre class="programlisting">/sbin/ldconfig /usr/local/pgsql/lib</pre><p> (возможно, с другим каталогом) после установки, чтобы механизм связывания во время выполнения мог найти разделяемые библиотеки быстрее. За дополнительными сведениями обратитесь к странице руководства по <code class="command">ldconfig</code>. Во <span class="systemitem">FreeBSD</span>, <span class="systemitem">NetBSD</span> и <span class="systemitem">OpenBSD</span> команда будет такой: </p><pre class="programlisting">/sbin/ldconfig -m /usr/local/pgsql/lib</pre><p> В других системах подобной команды может не быть.</p></div><div class="sect2" id="INSTALL-POST-ENV-VARS"><div class="titlepage"><div><div><h3 class="title">17.5.2. Переменные окружения <a href="#INSTALL-POST-ENV-VARS" class="id_link">#</a></h3></div></div></div><a id="id-1.6.4.9.3.2" class="indexterm"></a><p>Если целевым каталогом был выбран <code class="filename">/usr/local/pgsql</code> или какой-то другой, по умолчанию отсутствующий в пути поиска, вам следует добавить <code class="filename">/usr/local/pgsql/bin</code> (или другой путь, переданный <a class="xref" href="install-make.html#CONFIGURE" title="Конфигурирование">Шаг 1</a> в указании <code class="option"><code class="literal">--bindir</code></code>) в вашу переменную <code class="envar">PATH</code>. Строго говоря, это не обязательно, но при этом использовать <span class="productname">PostgreSQL</span> будет гораздо удобнее.</p><p>Для этого добавьте в ваш скрипт запуска оболочки, например <code class="filename">~/.bash_profile</code> (или в <code class="filename">/etc/profile</code>, если это нужно всем пользователям): </p><pre class="programlisting">PATH=/usr/local/pgsql/bin:$PATH
export PATH</pre><p> Для оболочек <code class="command">csh</code> или <code class="command">tcsh</code> команда должна быть такой: </p><pre class="programlisting">set path = ( /usr/local/pgsql/bin $path )</pre><p><a id="id-1.6.4.9.3.5.1" class="indexterm"></a> Чтобы ваша система могла найти документацию <span class="application">man</span>, вам нужно добавить в скрипт запуска оболочки примерно следующие строки, если только она не установлена в размещение, просматриваемое по умолчанию: </p><pre class="programlisting">MANPATH=/usr/local/pgsql/share/man:$MANPATH
export MANPATH</pre><p>Переменные окружения <code class="envar">PGHOST</code> и <code class="envar">PGPORT</code> задают для клиентских приложений адрес компьютера и порт сервера базы данных, переопределяя стандартные значения. Если планируется запускать клиентские приложения удалённо, пользователям, которые будут использовать определённый сервер, будет удобно, если они установят <code class="envar">PGHOST</code>. Однако это не обязательно, так как большинство клиентских программ могут принять эти параметры через аргументы командной строки.</p></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="install-meson.html" title="17.4. Сборка и установка с использованием Meson">Пред.</a> </td><td width="20%" align="center"><a accesskey="u" href="installation.html" title="Глава 17. Установка из исходного кода">Наверх</a></td><td width="40%" align="right"> <a accesskey="n" href="supported-platforms.html" title="17.6. Поддерживаемые платформы">След.</a></td></tr><tr><td width="40%" align="left" valign="top">17.4. Сборка и установка с использованием Meson </td><td width="20%" align="center"><a accesskey="h" href="index.html" title="Документация к PostgreSQL 16.3">Начало</a></td><td width="40%" align="right" valign="top"> 17.6. Поддерживаемые платформы</td></tr></table></div></body></html>