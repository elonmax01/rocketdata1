<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>5.1. Основы таблиц</title><link rel="stylesheet" type="text/css" href="stylesheet.css" /><link rev="made" href="pgsql-docs@lists.postgresql.org" /><meta name="generator" content="DocBook XSL Stylesheets Vsnapshot" /><link rel="prev" href="ddl.html" title="Глава 5. Определение данных" /><link rel="next" href="ddl-default.html" title="5.2. Значения по умолчанию" /></head><body id="docContent" class="container-fluid col-10"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="5" align="center">5.1. Основы таблиц</th></tr><tr><td width="10%" align="left"><a accesskey="p" href="ddl.html" title="Глава 5. Определение данных">Пред.</a> </td><td width="10%" align="left"><a accesskey="u" href="ddl.html" title="Глава 5. Определение данных">Наверх</a></td><th width="60%" align="center">Глава 5. Определение данных</th><td width="10%" align="right"><a accesskey="h" href="index.html" title="Документация к PostgreSQL 16.3">Начало</a></td><td width="10%" align="right"> <a accesskey="n" href="ddl-default.html" title="5.2. Значения по умолчанию">След.</a></td></tr></table><hr /></div><div class="sect1" id="DDL-BASICS"><div class="titlepage"><div><div><h2 class="title" style="clear: both">5.1. Основы таблиц <a href="#DDL-BASICS" class="id_link">#</a></h2></div></div></div><a id="id-1.5.4.3.2" class="indexterm"></a><a id="id-1.5.4.3.3" class="indexterm"></a><a id="id-1.5.4.3.4" class="indexterm"></a><p>Таблица в реляционной базе данных похожа на таблицу на бумаге: она так же состоит из строк и столбцов. Число и порядок столбцов фиксированы, а каждый столбец имеет имя. Число строк переменно — оно отражает текущее количество находящихся в ней данных. SQL не даёт никаких гарантий относительно порядка строк таблицы. При чтении таблицы строки выводятся в произвольном порядке, если только явно не требуется сортировка. Подробнее это рассматривается в <a class="xref" href="queries.html" title="Глава 7. Запросы">Главе 7</a>. Более того, SQL не назначает строкам уникальные идентификаторы, так что можно иметь в таблице несколько полностью идентичных строк. Это вытекает из математической модели, которую реализует SQL, но обычно такое дублирование нежелательно. Позже в этой главе мы увидим, как его избежать.</p><p>Каждому столбцу сопоставлен тип данных. Тип данных ограничивает набор допустимых значений, которые можно присвоить столбцу, и определяет смысловое значение данных для вычислений. Например, в столбец числового типа нельзя записать обычные текстовые строки, но зато его данные можно использовать в математических вычислениях. И наоборот, если столбец имеет тип текстовой строки, для него допустимы практически любые данные, но он непригоден для математических действий (хотя другие операции, например конкатенация строк, возможны).</p><p>В <span class="productname">PostgreSQL</span> есть внушительный набор встроенных типов данных, удовлетворяющий большинство приложений. Пользователи также могут определять собственные типы данных. Большинство встроенных типов данных имеют понятные имена и семантику, так что мы отложим их подробное рассмотрение до <a class="xref" href="datatype.html" title="Глава 8. Типы данных">Главы 8</a>. Наиболее часто применяются следующие типы данных: <code class="type">integer</code> для целых чисел, <code class="type">numeric</code> для чисел, которые могут быть дробными, <code class="type">text</code> для текстовых строк, <code class="type">date</code> для дат, <code class="type">time</code> для времени и <code class="type">timestamp</code> для значений, включающих дату и время.</p><a id="id-1.5.4.3.8" class="indexterm"></a><p>Для создания таблицы используется команда <a class="xref" href="sql-createtable.html" title="CREATE TABLE"><span class="refentrytitle">CREATE TABLE</span></a>. В этой команде вы должны указать как минимум имя новой таблицы и имена и типы данных каждого столбца. Например: </p><pre class="programlisting">CREATE TABLE my_first_table (
    first_column text,
    second_column integer
);</pre><p> Так вы создадите таблицу <code class="literal">my_first_table</code> с двумя столбцами. Первый столбец называется <code class="literal">first_column</code> и имеет тип данных <code class="type">text</code>; второй столбец называется <code class="literal">second_column</code> и имеет тип <code class="type">integer</code>. Имена таблицы и столбцов соответствуют синтаксису идентификаторов, описанному в <a class="xref" href="sql-syntax-lexical.html#SQL-SYNTAX-IDENTIFIERS" title="4.1.1. Идентификаторы и ключевые слова">Подразделе 4.1.1</a>. Имена типов также являются идентификаторами, хотя есть некоторые исключения. Заметьте, что список столбцов заключается в скобки, а его элементы разделяются запятыми.</p><p>Конечно, предыдущий пример ненатурален. Обычно в именах таблиц и столбцов отражается, какие данные они будут содержать. Поэтому давайте взглянем на более реалистичный пример: </p><pre class="programlisting">CREATE TABLE products (
    product_no integer,
    name text,
    price numeric
);</pre><p> (Тип <code class="type">numeric</code> может хранить дробные числа, в которых обычно выражаются денежные суммы.)</p><div class="tip"><h3 class="title">Подсказка</h3><p>Когда вы создаёте много взаимосвязанных таблиц, имеет смысл заранее выбрать единый шаблон именования таблиц и столбцов. Например, решить, будут ли в именах таблиц использоваться существительные во множественном или в единственном числе (есть соображения в пользу каждого варианта).</p></div><p>Число столбцов в таблице не может быть бесконечным. Это число ограничивается максимумом в пределах от 250 до 1600, в зависимости от типов столбцов. Однако создавать таблицы с таким большим числом столбцов обычно не требуется, а если такая потребность возникает, это скорее признак сомнительного дизайна.</p><a id="id-1.5.4.3.13" class="indexterm"></a><p>Если таблица вам больше не нужна, вы можете удалить её, выполнив команду <a class="xref" href="sql-droptable.html" title="DROP TABLE"><span class="refentrytitle">DROP TABLE</span></a>. Например: </p><pre class="programlisting">DROP TABLE my_first_table;
DROP TABLE products;</pre><p> Попытка удаления несуществующей таблицы считается ошибкой. Тем не менее в SQL-скриптах часто применяют безусловное удаление таблиц перед созданием, игнорируя все сообщения об ошибках, так что они выполняют свою задачу независимо от того, существовали таблицы или нет. (Если вы хотите избежать таких ошибок, можно использовать вариант <code class="literal">DROP TABLE IF EXISTS</code>, но это не будет соответствовать стандарту SQL.)</p><p>Как изменить существующую таблицу, будет рассмотрено в этой главе позже, в <a class="xref" href="ddl-alter.html" title="5.6. Изменение таблиц">Разделе 5.6</a>.</p><p>Имея средства, которые мы обсудили, вы уже можете создавать полностью функциональные таблицы. В продолжении этой главы рассматриваются дополнительные возможности, призванные обеспечить целостность данных, безопасность и удобство. Если вам не терпится наполнить свои таблицы данными, вы можете вернуться к этой главе позже, а сейчас перейти к <a class="xref" href="dml.html" title="Глава 6. Модификация данных">Главе 6</a>.</p></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ddl.html" title="Глава 5. Определение данных">Пред.</a> </td><td width="20%" align="center"><a accesskey="u" href="ddl.html" title="Глава 5. Определение данных">Наверх</a></td><td width="40%" align="right"> <a accesskey="n" href="ddl-default.html" title="5.2. Значения по умолчанию">След.</a></td></tr><tr><td width="40%" align="left" valign="top">Глава 5. Определение данных </td><td width="20%" align="center"><a accesskey="h" href="index.html" title="Документация к PostgreSQL 16.3">Начало</a></td><td width="40%" align="right" valign="top"> 5.2. Значения по умолчанию</td></tr></table></div></body></html>